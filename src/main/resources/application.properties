spring.application.name=delivery-api
server.port=8080

#spring.datasource.url=jdbc:h2:mem:deliverydb
#spring.datasource.driverClassName=org.h2.Driver
#spring.datasource.username=sa
#spring.datasource.password=

#spring.h2.console.enabled=true
#spring.h2.console.path=/h2-console
#spring.h2.console.settings.web-allow-others=true

# Datasource para rodar localmente (sem container)
#spring.datasource.url=jdbc:mysql://localhost:3306/deliverydb 
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}
spring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# Configuração do Cache Redis
# Para rodar localmente:
#spring.redis.host=localhost
spring.redis.host=${SPRING_REDIS_HOST}
spring.redis.port=6379

spring.jpa.hibernate.ddl-auto=update
#spring.jpa.defer-datasource-initialization=true
spring.sql.init.mode=never
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.use_sql_comments=true

# Logging
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.level.org.springframework.transaction=DEBUG
logging.level.org.springframework.web=DEBUG

# Configurações Adicionais
spring.devtools.restart.enabled=true
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true

# Swagger Configuration
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operationsSorter=method
springdoc.swagger-ui.tagsSorter=alpha
springdoc.swagger-ui.tryItOutEnabled=true
springdoc.swagger-ui.filter=true

# Informações da API
springdoc.api-docs.enabled=true
springdoc.swagger-ui.enabled=true

# Configurações de segurança para Swagger
springdoc.swagger-ui.oauth.clientId=swagger-ui
springdoc.swagger-ui.oauth.realm=swagger-ui-realm
springdoc.swagger-ui.oauth.appName=swagger-ui

# JWT Configuration
jwt.secret=942e6c8b9d4f5e7a1b0c3d2f8e7c6a9b0d1e2f3a4b5c6d7e8f9a0b1c2d3e4f5a
jwt.expiration=86400000

# Security Configuration
#spring.security.user.name=admin
#spring.security.user.password=admin

# Security Logging
logging.level.org.springframework.security=DEBUG
logging.level.com.deliverytech=DEBUG

# Configuração do Actuator
# Exposição e caminho base dos endpoints do Actuator
management.endpoints.web.exposure.include=health,info,metrics,prometheus,env,loggers
management.endpoints.web.base-path=/actuator

# Configurações de CORS
management.endpoints.web.cors.allowed-origins=*
management.endpoints.web.cors.allowed-methods=GET,POST

# Configurações de Endpoints específicos
management.endpoint.health.show-details=always
management.endpoint.health.show-components=always
management.endpoint.info.enabled=true
management.endpoint.metrics.enabled=true
management.endpoint.prometheus.enabled=true
management.endpoint.env.enabled=true

# Detalhes de Saúde (Health Details)
management.health.diskspace.enabled=true
management.health.diskspace.threshold=10GB
management.health.db.enabled=true

# Detalhes de Informações (Info Details)
management.info.env.enabled=true
management.info.git.mode=full
management.info.build.enabled=true

# Informações da Aplicação 
info.app.name=Delivery API REST
info.app.description=API REST para sistema de delivery com observabilidade
info.app.version=1.0.0
info.app.encoding=UTF-8
info.java.version=17
info.team.name=Lidia Luzia Messias
info.team.email=lidia.mess@gmail.com

# Configuração de Segurança do Actuator
spring.security.user.name=admin
spring.security.user.password=admin123
spring.security.user.roles=ACTUATOR

# Configuração do Sleuth
#spring.sleuth.sampler.probability=1.0 
#spring.zipkin.base-url=http://localhost:9411
#spring.sleuth.web.skip-pattern=/actuator.*

# Configuração do Micrometer Tracing
management.tracing.enabled=true
management.tracing.sampling.probability=1.0
management.tracing.exporter.zipkin.enabled=true
management.tracing.exporter.zipkin.endpoint=http://localhost:9411/api/v2/spans
management.observations.exclude-patterns=/actuator/**



