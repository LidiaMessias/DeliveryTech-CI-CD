2025-11-10 12:52:13.512 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 16448 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 12:52:13.512 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 12:52:13.512 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 12:52:19.207 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 12:52:19.217 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 12:52:19.903 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 647 ms. Found 5 JPA repository interfaces.
2025-11-10 12:52:19.954 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 12:52:19.961 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 12:52:20.033 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 12:52:20.036 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 12:52:20.038 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 12:52:20.041 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 12:52:20.041 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 12:52:20.044 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 39 ms. Found 0 Redis repository interfaces.
2025-11-10 12:52:21.744 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 12:52:22.734 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 12:52:22.745 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 12:52:22.789 [main] WARN  [] o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'dataSourceScriptDatabaseInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #1 of class path resource [data-test.sql]: INSERT INTO cliente (nome, email, telefone, endereco, data_criacao, ativo) VALUES ('Joao Silva', 'joao@email.com', '(11) 99999-1111', 'Rua A, 123 - Sao Paulo/SP', NOW(), true), ('Maria Santos', 'maria@email.com', '(11) 99999-2222', 'Rua B, 456 - Sao Paulo/SP', NOW(), true), ('Pedro Oliveira', 'pedro@email.com', '(11) 99999-3333', 'Rua C, 789 - Sao Paulo/SP', NOW(), true)
2025-11-10 12:52:22.789 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 12:52:22.801 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 12:52:22.905 [main] INFO  [] o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-10 12:52:23.042 [main] ERROR [] o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'dataSourceScriptDatabaseInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #1 of class path resource [data-test.sql]: INSERT INTO cliente (nome, email, telefone, endereco, data_criacao, ativo) VALUES ('Joao Silva', 'joao@email.com', '(11) 99999-1111', 'Rua A, 123 - Sao Paulo/SP', NOW(), true), ('Maria Santos', 'maria@email.com', '(11) 99999-2222', 'Rua B, 456 - Sao Paulo/SP', NOW(), true), ('Pedro Oliveira', 'pedro@email.com', '(11) 99999-3333', 'Rua C, 789 - Sao Paulo/SP', NOW(), true)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:47)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:46)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #1 of class path resource [data-test.sql]: INSERT INTO cliente (nome, email, telefone, endereco, data_criacao, ativo) VALUES ('Joao Silva', 'joao@email.com', '(11) 99999-1111', 'Rua A, 123 - Sao Paulo/SP', NOW(), true), ('Maria Santos', 'maria@email.com', '(11) 99999-2222', 'Rua B, 456 - Sao Paulo/SP', NOW(), true), ('Pedro Oliveira', 'pedro@email.com', '(11) 99999-3333', 'Rua C, 789 - Sao Paulo/SP', NOW(), true)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 93 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [data-test.sql]: INSERT INTO cliente (nome, email, telefone, endereco, data_criacao, ativo) VALUES ('Joao Silva', 'joao@email.com', '(11) 99999-1111', 'Rua A, 123 - Sao Paulo/SP', NOW(), true), ('Maria Santos', 'maria@email.com', '(11) 99999-2222', 'Rua B, 456 - Sao Paulo/SP', NOW(), true), ('Pedro Oliveira', 'pedro@email.com', '(11) 99999-3333', 'Rua C, 789 - Sao Paulo/SP', NOW(), true)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:293)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:102)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:77)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 100 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "CLIENTE" not found (this database is empty); SQL statement:
INSERT INTO cliente (nome, email, telefone, endereco, data_criacao, ativo) VALUES ('Joao Silva', 'joao@email.com', '(11) 99999-1111', 'Rua A, 123 - Sao Paulo/SP', NOW(), true), ('Maria Santos', 'maria@email.com', '(11) 99999-2222', 'Rua B, 456 - Sao Paulo/SP', NOW(), true), ('Pedro Oliveira', 'pedro@email.com', '(11) 99999-3333', 'Rua C, 789 - Sao Paulo/SP', NOW(), true) [42104-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:7932)
	at org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:7916)
	at org.h2.command.Parser.readTableOrView(Parser.java:7895)
	at org.h2.command.Parser.readTableOrView(Parser.java:7857)
	at org.h2.command.Parser.parseInsert(Parser.java:1521)
	at org.h2.command.Parser.parsePrepared(Parser.java:698)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 110 common frames omitted
2025-11-10 12:52:23.066 [main] WARN  [] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.deliverytech.delivery_api.controller.ClienteControllerIT@6de5ad56]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@b56d8a7 testClass = com.deliverytech.delivery_api.controller.ClienteControllerIT, locations = [], classes = [com.deliverytech.delivery_api.DeliveryApiApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@13f36d75 key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, com.deliverytech.delivery_api.config.TestDataConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, com.deliverytech.delivery_api.config.TestSecurityConfig, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7b4c50bc, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@491b9b8, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@47caedad, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@6933b6c6, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@626abbd0, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@2d29b4ee, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@6a13922b], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:47)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:46)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'dataSourceScriptDatabaseInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #1 of class path resource [data-test.sql]: INSERT INTO cliente (nome, email, telefone, endereco, data_criacao, ativo) VALUES ('Joao Silva', 'joao@email.com', '(11) 99999-1111', 'Rua A, 123 - Sao Paulo/SP', NOW(), true), ('Maria Santos', 'maria@email.com', '(11) 99999-2222', 'Rua B, 456 - Sao Paulo/SP', NOW(), true), ('Pedro Oliveira', 'pedro@email.com', '(11) 99999-3333', 'Rua C, 789 - Sao Paulo/SP', NOW(), true)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 78 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #1 of class path resource [data-test.sql]: INSERT INTO cliente (nome, email, telefone, endereco, data_criacao, ativo) VALUES ('Joao Silva', 'joao@email.com', '(11) 99999-1111', 'Rua A, 123 - Sao Paulo/SP', NOW(), true), ('Maria Santos', 'maria@email.com', '(11) 99999-2222', 'Rua B, 456 - Sao Paulo/SP', NOW(), true), ('Pedro Oliveira', 'pedro@email.com', '(11) 99999-3333', 'Rua C, 789 - Sao Paulo/SP', NOW(), true)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 93 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [data-test.sql]: INSERT INTO cliente (nome, email, telefone, endereco, data_criacao, ativo) VALUES ('Joao Silva', 'joao@email.com', '(11) 99999-1111', 'Rua A, 123 - Sao Paulo/SP', NOW(), true), ('Maria Santos', 'maria@email.com', '(11) 99999-2222', 'Rua B, 456 - Sao Paulo/SP', NOW(), true), ('Pedro Oliveira', 'pedro@email.com', '(11) 99999-3333', 'Rua C, 789 - Sao Paulo/SP', NOW(), true)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:293)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:102)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:77)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 100 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "CLIENTE" not found (this database is empty); SQL statement:
INSERT INTO cliente (nome, email, telefone, endereco, data_criacao, ativo) VALUES ('Joao Silva', 'joao@email.com', '(11) 99999-1111', 'Rua A, 123 - Sao Paulo/SP', NOW(), true), ('Maria Santos', 'maria@email.com', '(11) 99999-2222', 'Rua B, 456 - Sao Paulo/SP', NOW(), true), ('Pedro Oliveira', 'pedro@email.com', '(11) 99999-3333', 'Rua C, 789 - Sao Paulo/SP', NOW(), true) [42104-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:7932)
	at org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:7916)
	at org.h2.command.Parser.readTableOrView(Parser.java:7895)
	at org.h2.command.Parser.readTableOrView(Parser.java:7857)
	at org.h2.command.Parser.parseInsert(Parser.java:1521)
	at org.h2.command.Parser.parsePrepared(Parser.java:698)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 110 common frames omitted
2025-11-10 12:52:23.172 [main] WARN  [] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.deliverytech.delivery_api.controller.ClienteControllerIT@8315e4a]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@b56d8a7 testClass = com.deliverytech.delivery_api.controller.ClienteControllerIT, locations = [], classes = [com.deliverytech.delivery_api.DeliveryApiApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@13f36d75 key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, com.deliverytech.delivery_api.config.TestDataConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, com.deliverytech.delivery_api.config.TestSecurityConfig, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7b4c50bc, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@491b9b8, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@47caedad, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@6933b6c6, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@626abbd0, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@2d29b4ee, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@6a13922b], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:47)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:46)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211)
2025-11-10 12:52:23.181 [main] WARN  [] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.deliverytech.delivery_api.controller.ClienteControllerIT@22ff11ef]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@b56d8a7 testClass = com.deliverytech.delivery_api.controller.ClienteControllerIT, locations = [], classes = [com.deliverytech.delivery_api.DeliveryApiApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@13f36d75 key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, com.deliverytech.delivery_api.config.TestDataConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, com.deliverytech.delivery_api.config.TestSecurityConfig, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7b4c50bc, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@491b9b8, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@47caedad, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@6933b6c6, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@626abbd0, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@2d29b4ee, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@6a13922b], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:47)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:46)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211)
2025-11-10 12:52:23.187 [main] WARN  [] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.deliverytech.delivery_api.controller.ClienteControllerIT@23d978b]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@b56d8a7 testClass = com.deliverytech.delivery_api.controller.ClienteControllerIT, locations = [], classes = [com.deliverytech.delivery_api.DeliveryApiApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@13f36d75 key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, com.deliverytech.delivery_api.config.TestDataConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, com.deliverytech.delivery_api.config.TestSecurityConfig, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7b4c50bc, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@491b9b8, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@47caedad, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@6933b6c6, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@626abbd0, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@2d29b4ee, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@6a13922b], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:47)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:46)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211)
2025-11-10 12:52:23.200 [main] WARN  [] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.deliverytech.delivery_api.controller.ClienteControllerIT@66dd04e2]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@b56d8a7 testClass = com.deliverytech.delivery_api.controller.ClienteControllerIT, locations = [], classes = [com.deliverytech.delivery_api.DeliveryApiApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@13f36d75 key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, com.deliverytech.delivery_api.config.TestDataConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, com.deliverytech.delivery_api.config.TestSecurityConfig, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7b4c50bc, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@491b9b8, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@47caedad, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@6933b6c6, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@626abbd0, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@2d29b4ee, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@6a13922b], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:47)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:46)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211)
2025-11-10 13:00:15.944 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 21928 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 13:00:15.950 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 13:00:15.950 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 13:00:20.049 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 13:00:20.058 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 13:00:20.543 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 440 ms. Found 5 JPA repository interfaces.
2025-11-10 13:00:20.586 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 13:00:20.590 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 13:00:20.625 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 13:00:20.625 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 13:00:20.625 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 13:00:20.634 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 13:00:20.634 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 13:00:20.634 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2025-11-10 13:00:22.258 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 13:00:23.032 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 13:00:23.038 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 13:00:23.089 [main] WARN  [] o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'dataSourceScriptDatabaseInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #1 of class path resource [data-test.sql]: INSERT INTO cliente (nome, email, telefone, endereco, data_criacao, ativo) VALUES ('Joao Silva', 'joao@email.com', '(11) 99999-1111', 'Rua A, 123 - Sao Paulo/SP', CURRENT_TIMESTAMP, true), ('Maria Santos', 'maria@email.com', '(11) 99999-2222', 'Rua B, 456 - Sao Paulo/SP', CURRENT_TIMESTAMP, true), ('Pedro Oliveira', 'pedro@email.com', '(11) 99999-3333', 'Rua C, 789 - Sao Paulo/SP', CURRENT_TIMESTAMP, true)
2025-11-10 13:00:23.091 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 13:00:23.095 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 13:00:23.179 [main] INFO  [] o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-10 13:00:23.252 [main] ERROR [] o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'dataSourceScriptDatabaseInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #1 of class path resource [data-test.sql]: INSERT INTO cliente (nome, email, telefone, endereco, data_criacao, ativo) VALUES ('Joao Silva', 'joao@email.com', '(11) 99999-1111', 'Rua A, 123 - Sao Paulo/SP', CURRENT_TIMESTAMP, true), ('Maria Santos', 'maria@email.com', '(11) 99999-2222', 'Rua B, 456 - Sao Paulo/SP', CURRENT_TIMESTAMP, true), ('Pedro Oliveira', 'pedro@email.com', '(11) 99999-3333', 'Rua C, 789 - Sao Paulo/SP', CURRENT_TIMESTAMP, true)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:47)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:46)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #1 of class path resource [data-test.sql]: INSERT INTO cliente (nome, email, telefone, endereco, data_criacao, ativo) VALUES ('Joao Silva', 'joao@email.com', '(11) 99999-1111', 'Rua A, 123 - Sao Paulo/SP', CURRENT_TIMESTAMP, true), ('Maria Santos', 'maria@email.com', '(11) 99999-2222', 'Rua B, 456 - Sao Paulo/SP', CURRENT_TIMESTAMP, true), ('Pedro Oliveira', 'pedro@email.com', '(11) 99999-3333', 'Rua C, 789 - Sao Paulo/SP', CURRENT_TIMESTAMP, true)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 93 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [data-test.sql]: INSERT INTO cliente (nome, email, telefone, endereco, data_criacao, ativo) VALUES ('Joao Silva', 'joao@email.com', '(11) 99999-1111', 'Rua A, 123 - Sao Paulo/SP', CURRENT_TIMESTAMP, true), ('Maria Santos', 'maria@email.com', '(11) 99999-2222', 'Rua B, 456 - Sao Paulo/SP', CURRENT_TIMESTAMP, true), ('Pedro Oliveira', 'pedro@email.com', '(11) 99999-3333', 'Rua C, 789 - Sao Paulo/SP', CURRENT_TIMESTAMP, true)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:293)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:102)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:77)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 100 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "CLIENTE" not found (this database is empty); SQL statement:
INSERT INTO cliente (nome, email, telefone, endereco, data_criacao, ativo) VALUES ('Joao Silva', 'joao@email.com', '(11) 99999-1111', 'Rua A, 123 - Sao Paulo/SP', CURRENT_TIMESTAMP, true), ('Maria Santos', 'maria@email.com', '(11) 99999-2222', 'Rua B, 456 - Sao Paulo/SP', CURRENT_TIMESTAMP, true), ('Pedro Oliveira', 'pedro@email.com', '(11) 99999-3333', 'Rua C, 789 - Sao Paulo/SP', CURRENT_TIMESTAMP, true) [42104-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:7932)
	at org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:7916)
	at org.h2.command.Parser.readTableOrView(Parser.java:7895)
	at org.h2.command.Parser.readTableOrView(Parser.java:7857)
	at org.h2.command.Parser.parseInsert(Parser.java:1521)
	at org.h2.command.Parser.parsePrepared(Parser.java:698)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 110 common frames omitted
2025-11-10 13:00:23.276 [main] WARN  [] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.deliverytech.delivery_api.controller.ClienteControllerIT@5018b56b]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@5a63fa71 testClass = com.deliverytech.delivery_api.controller.ClienteControllerIT, locations = [], classes = [com.deliverytech.delivery_api.DeliveryApiApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a6fc1bc key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, com.deliverytech.delivery_api.config.TestDataConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, com.deliverytech.delivery_api.config.TestSecurityConfig, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7b4c50bc, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@491b9b8, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@47caedad, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@6933b6c6, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@626abbd0, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@2d29b4ee, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@6a13922b], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:47)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:46)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'dataSourceScriptDatabaseInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #1 of class path resource [data-test.sql]: INSERT INTO cliente (nome, email, telefone, endereco, data_criacao, ativo) VALUES ('Joao Silva', 'joao@email.com', '(11) 99999-1111', 'Rua A, 123 - Sao Paulo/SP', CURRENT_TIMESTAMP, true), ('Maria Santos', 'maria@email.com', '(11) 99999-2222', 'Rua B, 456 - Sao Paulo/SP', CURRENT_TIMESTAMP, true), ('Pedro Oliveira', 'pedro@email.com', '(11) 99999-3333', 'Rua C, 789 - Sao Paulo/SP', CURRENT_TIMESTAMP, true)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 78 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #1 of class path resource [data-test.sql]: INSERT INTO cliente (nome, email, telefone, endereco, data_criacao, ativo) VALUES ('Joao Silva', 'joao@email.com', '(11) 99999-1111', 'Rua A, 123 - Sao Paulo/SP', CURRENT_TIMESTAMP, true), ('Maria Santos', 'maria@email.com', '(11) 99999-2222', 'Rua B, 456 - Sao Paulo/SP', CURRENT_TIMESTAMP, true), ('Pedro Oliveira', 'pedro@email.com', '(11) 99999-3333', 'Rua C, 789 - Sao Paulo/SP', CURRENT_TIMESTAMP, true)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 93 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [data-test.sql]: INSERT INTO cliente (nome, email, telefone, endereco, data_criacao, ativo) VALUES ('Joao Silva', 'joao@email.com', '(11) 99999-1111', 'Rua A, 123 - Sao Paulo/SP', CURRENT_TIMESTAMP, true), ('Maria Santos', 'maria@email.com', '(11) 99999-2222', 'Rua B, 456 - Sao Paulo/SP', CURRENT_TIMESTAMP, true), ('Pedro Oliveira', 'pedro@email.com', '(11) 99999-3333', 'Rua C, 789 - Sao Paulo/SP', CURRENT_TIMESTAMP, true)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:293)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:102)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:77)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 100 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "CLIENTE" not found (this database is empty); SQL statement:
INSERT INTO cliente (nome, email, telefone, endereco, data_criacao, ativo) VALUES ('Joao Silva', 'joao@email.com', '(11) 99999-1111', 'Rua A, 123 - Sao Paulo/SP', CURRENT_TIMESTAMP, true), ('Maria Santos', 'maria@email.com', '(11) 99999-2222', 'Rua B, 456 - Sao Paulo/SP', CURRENT_TIMESTAMP, true), ('Pedro Oliveira', 'pedro@email.com', '(11) 99999-3333', 'Rua C, 789 - Sao Paulo/SP', CURRENT_TIMESTAMP, true) [42104-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:7932)
	at org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:7916)
	at org.h2.command.Parser.readTableOrView(Parser.java:7895)
	at org.h2.command.Parser.readTableOrView(Parser.java:7857)
	at org.h2.command.Parser.parseInsert(Parser.java:1521)
	at org.h2.command.Parser.parsePrepared(Parser.java:698)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 110 common frames omitted
2025-11-10 13:00:23.333 [main] WARN  [] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.deliverytech.delivery_api.controller.ClienteControllerIT@495e8a3]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@5a63fa71 testClass = com.deliverytech.delivery_api.controller.ClienteControllerIT, locations = [], classes = [com.deliverytech.delivery_api.DeliveryApiApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a6fc1bc key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, com.deliverytech.delivery_api.config.TestDataConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, com.deliverytech.delivery_api.config.TestSecurityConfig, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7b4c50bc, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@491b9b8, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@47caedad, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@6933b6c6, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@626abbd0, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@2d29b4ee, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@6a13922b], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:47)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:46)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211)
2025-11-10 13:00:23.338 [main] WARN  [] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.deliverytech.delivery_api.controller.ClienteControllerIT@6eded11a]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@5a63fa71 testClass = com.deliverytech.delivery_api.controller.ClienteControllerIT, locations = [], classes = [com.deliverytech.delivery_api.DeliveryApiApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a6fc1bc key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, com.deliverytech.delivery_api.config.TestDataConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, com.deliverytech.delivery_api.config.TestSecurityConfig, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7b4c50bc, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@491b9b8, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@47caedad, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@6933b6c6, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@626abbd0, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@2d29b4ee, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@6a13922b], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:47)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:46)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211)
2025-11-10 13:00:23.349 [main] WARN  [] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.deliverytech.delivery_api.controller.ClienteControllerIT@4b511e61]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@5a63fa71 testClass = com.deliverytech.delivery_api.controller.ClienteControllerIT, locations = [], classes = [com.deliverytech.delivery_api.DeliveryApiApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a6fc1bc key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, com.deliverytech.delivery_api.config.TestDataConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, com.deliverytech.delivery_api.config.TestSecurityConfig, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7b4c50bc, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@491b9b8, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@47caedad, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@6933b6c6, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@626abbd0, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@2d29b4ee, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@6a13922b], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:47)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:46)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211)
2025-11-10 13:00:23.357 [main] WARN  [] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.deliverytech.delivery_api.controller.ClienteControllerIT@6c6919ff]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@5a63fa71 testClass = com.deliverytech.delivery_api.controller.ClienteControllerIT, locations = [], classes = [com.deliverytech.delivery_api.DeliveryApiApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@a6fc1bc key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, com.deliverytech.delivery_api.config.TestDataConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, com.deliverytech.delivery_api.config.TestSecurityConfig, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7b4c50bc, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@491b9b8, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@47caedad, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@6933b6c6, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@626abbd0, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@2d29b4ee, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@6a13922b], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:47)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:46)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211)
2025-11-10 13:18:53.390 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 23780 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 13:18:53.395 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 13:18:53.398 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 13:18:57.327 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 13:18:57.335 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 13:18:57.802 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 436 ms. Found 5 JPA repository interfaces.
2025-11-10 13:18:57.846 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 13:18:57.850 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 13:18:57.910 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 13:18:57.913 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 13:18:57.915 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 13:18:57.916 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 13:18:57.917 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 13:18:57.918 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
2025-11-10 13:18:59.603 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 13:19:00.448 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 13:19:00.456 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 13:19:00.514 [main] WARN  [] o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'dataSourceScriptDatabaseInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #1 of class path resource [data-test.sql]: INSERT INTO cliente (nome, email, telefone, endereco, data_criacao, ativo) VALUES ('Joao Silva', 'joao@email.com', '(11) 99999-1111', 'Rua A, 123 - Sao Paulo/SP', CURRENT_TIMESTAMP, true), ('Maria Santos', 'maria@email.com', '(11) 99999-2222', 'Rua B, 456 - Sao Paulo/SP', CURRENT_TIMESTAMP, true), ('Pedro Oliveira', 'pedro@email.com', '(11) 99999-3333', 'Rua C, 789 - Sao Paulo/SP', CURRENT_TIMESTAMP, true)
2025-11-10 13:19:00.516 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 13:19:00.525 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 13:19:00.595 [main] INFO  [] o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-10 13:19:00.683 [main] ERROR [] o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'dataSourceScriptDatabaseInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #1 of class path resource [data-test.sql]: INSERT INTO cliente (nome, email, telefone, endereco, data_criacao, ativo) VALUES ('Joao Silva', 'joao@email.com', '(11) 99999-1111', 'Rua A, 123 - Sao Paulo/SP', CURRENT_TIMESTAMP, true), ('Maria Santos', 'maria@email.com', '(11) 99999-2222', 'Rua B, 456 - Sao Paulo/SP', CURRENT_TIMESTAMP, true), ('Pedro Oliveira', 'pedro@email.com', '(11) 99999-3333', 'Rua C, 789 - Sao Paulo/SP', CURRENT_TIMESTAMP, true)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:47)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:46)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #1 of class path resource [data-test.sql]: INSERT INTO cliente (nome, email, telefone, endereco, data_criacao, ativo) VALUES ('Joao Silva', 'joao@email.com', '(11) 99999-1111', 'Rua A, 123 - Sao Paulo/SP', CURRENT_TIMESTAMP, true), ('Maria Santos', 'maria@email.com', '(11) 99999-2222', 'Rua B, 456 - Sao Paulo/SP', CURRENT_TIMESTAMP, true), ('Pedro Oliveira', 'pedro@email.com', '(11) 99999-3333', 'Rua C, 789 - Sao Paulo/SP', CURRENT_TIMESTAMP, true)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 93 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [data-test.sql]: INSERT INTO cliente (nome, email, telefone, endereco, data_criacao, ativo) VALUES ('Joao Silva', 'joao@email.com', '(11) 99999-1111', 'Rua A, 123 - Sao Paulo/SP', CURRENT_TIMESTAMP, true), ('Maria Santos', 'maria@email.com', '(11) 99999-2222', 'Rua B, 456 - Sao Paulo/SP', CURRENT_TIMESTAMP, true), ('Pedro Oliveira', 'pedro@email.com', '(11) 99999-3333', 'Rua C, 789 - Sao Paulo/SP', CURRENT_TIMESTAMP, true)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:293)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:102)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:77)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 100 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "CLIENTE" not found (this database is empty); SQL statement:
INSERT INTO cliente (nome, email, telefone, endereco, data_criacao, ativo) VALUES ('Joao Silva', 'joao@email.com', '(11) 99999-1111', 'Rua A, 123 - Sao Paulo/SP', CURRENT_TIMESTAMP, true), ('Maria Santos', 'maria@email.com', '(11) 99999-2222', 'Rua B, 456 - Sao Paulo/SP', CURRENT_TIMESTAMP, true), ('Pedro Oliveira', 'pedro@email.com', '(11) 99999-3333', 'Rua C, 789 - Sao Paulo/SP', CURRENT_TIMESTAMP, true) [42104-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:7932)
	at org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:7916)
	at org.h2.command.Parser.readTableOrView(Parser.java:7895)
	at org.h2.command.Parser.readTableOrView(Parser.java:7857)
	at org.h2.command.Parser.parseInsert(Parser.java:1521)
	at org.h2.command.Parser.parsePrepared(Parser.java:698)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 110 common frames omitted
2025-11-10 13:19:00.717 [main] WARN  [] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.deliverytech.delivery_api.controller.ClienteControllerIT@7e9a836]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@360a3106 testClass = com.deliverytech.delivery_api.controller.ClienteControllerIT, locations = [], classes = [com.deliverytech.delivery_api.DeliveryApiApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@737ff5c4 key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, com.deliverytech.delivery_api.config.TestDataConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, com.deliverytech.delivery_api.config.TestSecurityConfig, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1c742ed4, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@69c81773, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@210ab13f, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@5c7bfdc1, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@1807f5a7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@798162bc, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@3579f2ca], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:47)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:46)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'dataSourceScriptDatabaseInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #1 of class path resource [data-test.sql]: INSERT INTO cliente (nome, email, telefone, endereco, data_criacao, ativo) VALUES ('Joao Silva', 'joao@email.com', '(11) 99999-1111', 'Rua A, 123 - Sao Paulo/SP', CURRENT_TIMESTAMP, true), ('Maria Santos', 'maria@email.com', '(11) 99999-2222', 'Rua B, 456 - Sao Paulo/SP', CURRENT_TIMESTAMP, true), ('Pedro Oliveira', 'pedro@email.com', '(11) 99999-3333', 'Rua C, 789 - Sao Paulo/SP', CURRENT_TIMESTAMP, true)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 78 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #1 of class path resource [data-test.sql]: INSERT INTO cliente (nome, email, telefone, endereco, data_criacao, ativo) VALUES ('Joao Silva', 'joao@email.com', '(11) 99999-1111', 'Rua A, 123 - Sao Paulo/SP', CURRENT_TIMESTAMP, true), ('Maria Santos', 'maria@email.com', '(11) 99999-2222', 'Rua B, 456 - Sao Paulo/SP', CURRENT_TIMESTAMP, true), ('Pedro Oliveira', 'pedro@email.com', '(11) 99999-3333', 'Rua C, 789 - Sao Paulo/SP', CURRENT_TIMESTAMP, true)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 93 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [data-test.sql]: INSERT INTO cliente (nome, email, telefone, endereco, data_criacao, ativo) VALUES ('Joao Silva', 'joao@email.com', '(11) 99999-1111', 'Rua A, 123 - Sao Paulo/SP', CURRENT_TIMESTAMP, true), ('Maria Santos', 'maria@email.com', '(11) 99999-2222', 'Rua B, 456 - Sao Paulo/SP', CURRENT_TIMESTAMP, true), ('Pedro Oliveira', 'pedro@email.com', '(11) 99999-3333', 'Rua C, 789 - Sao Paulo/SP', CURRENT_TIMESTAMP, true)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:293)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:102)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:77)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 100 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "CLIENTE" not found (this database is empty); SQL statement:
INSERT INTO cliente (nome, email, telefone, endereco, data_criacao, ativo) VALUES ('Joao Silva', 'joao@email.com', '(11) 99999-1111', 'Rua A, 123 - Sao Paulo/SP', CURRENT_TIMESTAMP, true), ('Maria Santos', 'maria@email.com', '(11) 99999-2222', 'Rua B, 456 - Sao Paulo/SP', CURRENT_TIMESTAMP, true), ('Pedro Oliveira', 'pedro@email.com', '(11) 99999-3333', 'Rua C, 789 - Sao Paulo/SP', CURRENT_TIMESTAMP, true) [42104-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:7932)
	at org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:7916)
	at org.h2.command.Parser.readTableOrView(Parser.java:7895)
	at org.h2.command.Parser.readTableOrView(Parser.java:7857)
	at org.h2.command.Parser.parseInsert(Parser.java:1521)
	at org.h2.command.Parser.parsePrepared(Parser.java:698)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 110 common frames omitted
2025-11-10 13:22:55.304 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 26124 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 13:22:55.308 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 13:22:55.308 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 13:22:59.406 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 13:22:59.414 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 13:22:59.890 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 440 ms. Found 5 JPA repository interfaces.
2025-11-10 13:22:59.938 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 13:22:59.944 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 13:23:00.006 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 13:23:00.009 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 13:23:00.011 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 13:23:00.012 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 13:23:00.012 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 13:23:00.012 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 34 ms. Found 0 Redis repository interfaces.
2025-11-10 13:23:03.787 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 13:23:03.908 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 13:23:04.369 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 13:23:04.376 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 13:23:04.486 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 13:23:07.195 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 13:23:07.211 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 13:23:07.211 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 13:23:07.211 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 13:23:07.211 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 13:23:07.218 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 13:23:07.225 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 13:23:07.240 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 13:23:07.253 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 13:23:07.256 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 13:23:07.256 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 13:23:07.256 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 13:23:07.256 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 13:23:07.291 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 13:23:07.291 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 13:23:07.291 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 13:23:07.303 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 13:23:07.303 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 13:23:08.589 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 13:23:10.566 [main] INFO  [] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-10 13:23:10.568 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-10 13:23:11.711 [main] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)
2025-11-10 13:23:11.716 [main] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)]] with attributes [[authorize: 'hasRole('RESTAURANTE')', filter: 'null', filterTarget: 'null']]
2025-11-10 13:23:11.754 [main] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)
2025-11-10 13:23:11.756 [main] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-10 13:23:11.758 [main] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'CLIENTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)
2025-11-10 13:23:11.758 [main] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)]] with attributes [[authorize: 'hasRole('CLIENTE')', filter: 'null', filterTarget: 'null']]
2025-11-10 13:23:11.808 [main] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\') or hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)
2025-11-10 13:23:11.808 [main] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)]] with attributes [[authorize: 'hasRole('RESTAURANTE') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-10 13:23:11.818 [main] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)
2025-11-10 13:23:11.818 [main] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-10 13:23:11.818 [main] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)
2025-11-10 13:23:11.818 [main] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-10 13:23:11.864 [main] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-10 13:23:11.864 [main] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-10 13:23:11.869 [main] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or (hasRole(\'RESTAURANTE\') and @restauranteService.isOwner(#id))") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-10 13:23:11.869 [main] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or (hasRole('RESTAURANTE') and @restauranteService.isOwner(#id))', filter: 'null', filterTarget: 'null']]
2025-11-10 13:23:13.020 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 13:23:15.463 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 13:23:15.768 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 13:23:15.834 [main] WARN  [] o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain': Cannot create inner bean '(inner bean)#30d19b22' of type [org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy] while setting constructor argument with key [1]
2025-11-10 13:23:15.885 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 13:23:15.890 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 13:23:15.896 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 13:23:15.897 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 13:23:15.899 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 13:23:15.901 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 13:23:15.903 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 13:23:15.910 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 13:23:15.917 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 13:23:15.999 [main] INFO  [] o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-10 13:23:16.068 [main] ERROR [] o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain': Cannot create inner bean '(inner bean)#30d19b22' of type [org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy] while setting constructor argument with key [1]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBeanValue(BeanDefinitionValueResolver.java:421)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.lambda$resolveValueIfNecessary$1(BeanDefinitionValueResolver.java:153)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:262)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:152)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedList(BeanDefinitionValueResolver.java:460)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:191)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:206)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:47)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:46)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#30d19b22': Cannot create inner bean '(inner bean)#7b1c2bf7' while setting constructor argument with key [1]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBeanValue(BeanDefinitionValueResolver.java:421)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.lambda$resolveValueIfNecessary$1(BeanDefinitionValueResolver.java:153)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:262)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:152)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedList(BeanDefinitionValueResolver.java:460)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:191)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:206)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBeanValue(BeanDefinitionValueResolver.java:407)
	... 112 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#7b1c2bf7' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Failed to instantiate [jakarta.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception with message: A filter chain that matches any request [DefaultSecurityFilterChain defined as 'testSecurityFilterChain' in [class path resource [com/deliverytech/delivery_api/config/TestSecurityConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization]] has already been configured, which means that this filter chain [DefaultSecurityFilterChain defined as 'filterChain' in [class path resource [com/deliverytech/delivery_api/config/SecurityConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization]] will never get invoked. Please use `HttpSecurity#securityMatcher` to ensure that there is only one filter chain configured for 'any request' and that the 'any request' filter chain is published last.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBeanValue(BeanDefinitionValueResolver.java:407)
	... 124 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [jakarta.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception with message: A filter chain that matches any request [DefaultSecurityFilterChain defined as 'testSecurityFilterChain' in [class path resource [com/deliverytech/delivery_api/config/TestSecurityConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization]] has already been configured, which means that this filter chain [DefaultSecurityFilterChain defined as 'filterChain' in [class path resource [com/deliverytech/delivery_api/config/SecurityConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization]] will never get invoked. Please use `HttpSecurity#securityMatcher` to ensure that there is only one filter chain configured for 'any request' and that the 'any request' filter chain is published last.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:200)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:89)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:169)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 130 common frames omitted
Caused by: org.springframework.security.web.UnreachableFilterChainException: A filter chain that matches any request [DefaultSecurityFilterChain defined as 'testSecurityFilterChain' in [class path resource [com/deliverytech/delivery_api/config/TestSecurityConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization]] has already been configured, which means that this filter chain [DefaultSecurityFilterChain defined as 'filterChain' in [class path resource [com/deliverytech/delivery_api/config/SecurityConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization]] will never get invoked. Please use `HttpSecurity#securityMatcher` to ensure that there is only one filter chain configured for 'any request' and that the 'any request' filter chain is published last.
	at org.springframework.security.config.annotation.web.builders.WebSecurityFilterChainValidator.checkForAnyRequestRequestMatcher(WebSecurityFilterChainValidator.java:59)
	at org.springframework.security.config.annotation.web.builders.WebSecurityFilterChainValidator.validate(WebSecurityFilterChainValidator.java:47)
	at org.springframework.security.web.FilterChainProxy.afterPropertiesSet(FilterChainProxy.java:178)
	at org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:351)
	at org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:98)
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:355)
	at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:38)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.springSecurityFilterChain(WebSecurityConfiguration.java:132)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:172)
	... 133 common frames omitted
2025-11-10 13:23:16.099 [main] WARN  [] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.deliverytech.delivery_api.controller.ClienteControllerIT@28062c6a]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@751e632a testClass = com.deliverytech.delivery_api.controller.ClienteControllerIT, locations = [], classes = [com.deliverytech.delivery_api.DeliveryApiApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@ab8d6a6 key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, com.deliverytech.delivery_api.config.TestDataConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, com.deliverytech.delivery_api.config.TestSecurityConfig, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1c742ed4, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@69c81773, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@210ab13f, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@5c7bfdc1, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@1807f5a7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@798162bc, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@3579f2ca], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:47)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:46)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain': Cannot create inner bean '(inner bean)#30d19b22' of type [org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy] while setting constructor argument with key [1]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBeanValue(BeanDefinitionValueResolver.java:421)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.lambda$resolveValueIfNecessary$1(BeanDefinitionValueResolver.java:153)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:262)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:152)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedList(BeanDefinitionValueResolver.java:460)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:191)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:206)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 78 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#30d19b22': Cannot create inner bean '(inner bean)#7b1c2bf7' while setting constructor argument with key [1]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBeanValue(BeanDefinitionValueResolver.java:421)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.lambda$resolveValueIfNecessary$1(BeanDefinitionValueResolver.java:153)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:262)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:152)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedList(BeanDefinitionValueResolver.java:460)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:191)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:206)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBeanValue(BeanDefinitionValueResolver.java:407)
	... 112 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#7b1c2bf7' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Failed to instantiate [jakarta.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception with message: A filter chain that matches any request [DefaultSecurityFilterChain defined as 'testSecurityFilterChain' in [class path resource [com/deliverytech/delivery_api/config/TestSecurityConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization]] has already been configured, which means that this filter chain [DefaultSecurityFilterChain defined as 'filterChain' in [class path resource [com/deliverytech/delivery_api/config/SecurityConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization]] will never get invoked. Please use `HttpSecurity#securityMatcher` to ensure that there is only one filter chain configured for 'any request' and that the 'any request' filter chain is published last.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBeanValue(BeanDefinitionValueResolver.java:407)
	... 124 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [jakarta.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception with message: A filter chain that matches any request [DefaultSecurityFilterChain defined as 'testSecurityFilterChain' in [class path resource [com/deliverytech/delivery_api/config/TestSecurityConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization]] has already been configured, which means that this filter chain [DefaultSecurityFilterChain defined as 'filterChain' in [class path resource [com/deliverytech/delivery_api/config/SecurityConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization]] will never get invoked. Please use `HttpSecurity#securityMatcher` to ensure that there is only one filter chain configured for 'any request' and that the 'any request' filter chain is published last.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:200)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:89)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:169)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 130 common frames omitted
Caused by: org.springframework.security.web.UnreachableFilterChainException: A filter chain that matches any request [DefaultSecurityFilterChain defined as 'testSecurityFilterChain' in [class path resource [com/deliverytech/delivery_api/config/TestSecurityConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization]] has already been configured, which means that this filter chain [DefaultSecurityFilterChain defined as 'filterChain' in [class path resource [com/deliverytech/delivery_api/config/SecurityConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization]] will never get invoked. Please use `HttpSecurity#securityMatcher` to ensure that there is only one filter chain configured for 'any request' and that the 'any request' filter chain is published last.
	at org.springframework.security.config.annotation.web.builders.WebSecurityFilterChainValidator.checkForAnyRequestRequestMatcher(WebSecurityFilterChainValidator.java:59)
	at org.springframework.security.config.annotation.web.builders.WebSecurityFilterChainValidator.validate(WebSecurityFilterChainValidator.java:47)
	at org.springframework.security.web.FilterChainProxy.afterPropertiesSet(FilterChainProxy.java:178)
	at org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:351)
	at org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:98)
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:355)
	at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:38)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.springSecurityFilterChain(WebSecurityConfiguration.java:132)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:172)
	... 133 common frames omitted
2025-11-10 13:34:58.350 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 13580 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 13:34:58.350 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 13:34:58.350 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 13:35:02.551 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 13:35:02.560 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 13:35:03.051 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 460 ms. Found 5 JPA repository interfaces.
2025-11-10 13:35:03.111 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 13:35:03.112 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 13:35:03.186 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 13:35:03.186 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 13:35:03.186 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 13:35:03.192 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 13:35:03.192 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 13:35:03.192 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 39 ms. Found 0 Redis repository interfaces.
2025-11-10 13:35:06.455 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 13:35:06.544 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 13:35:07.053 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 13:35:07.076 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 13:35:07.158 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 13:35:09.756 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 13:35:09.759 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 13:35:09.759 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 13:35:09.759 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 13:35:09.759 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 13:35:09.759 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 13:35:09.772 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 13:35:09.804 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 13:35:09.812 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 13:35:09.812 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 13:35:09.820 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 13:35:09.820 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 13:35:09.820 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 13:35:09.852 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 13:35:09.852 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 13:35:09.852 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 13:35:09.852 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 13:35:09.873 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 13:35:11.013 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 13:35:13.052 [main] INFO  [] o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-10 13:35:13.054 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-10 13:35:14.225 [main] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)
2025-11-10 13:35:14.247 [main] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.buscarPorRestaurante(java.lang.Long,com.deliverytech.delivery_api.model.StatusPedido)]] with attributes [[authorize: 'hasRole('RESTAURANTE')', filter: 'null', filterTarget: 'null']]
2025-11-10 13:35:14.276 [main] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'CLIENTE\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)
2025-11-10 13:35:14.277 [main] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.criarPedido(com.deliverytech.delivery_api.dto.PedidoDTO)]] with attributes [[authorize: 'hasRole('CLIENTE')', filter: 'null', filterTarget: 'null']]
2025-11-10 13:35:14.279 [main] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)
2025-11-10 13:35:14.279 [main] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.PedidoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.PedidoController.listarPedidos(com.deliverytech.delivery_api.model.StatusPedido,java.time.LocalDate,java.time.LocalDate,org.springframework.data.domain.Pageable)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-10 13:35:14.324 [main] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'RESTAURANTE\') or hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)
2025-11-10 13:35:14.324 [main] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.cadastrarProduto(com.deliverytech.delivery_api.dto.ProdutoDTO,java.lang.Long)]] with attributes [[authorize: 'hasRole('RESTAURANTE') or hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-10 13:35:14.336 [main] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)
2025-11-10 13:35:14.336 [main] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.removerProduto(java.lang.Long)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-10 13:35:14.341 [main] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or @produtoService.isOwner(#id)") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)
2025-11-10 13:35:14.343 [main] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.ProdutoController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.ProdutoController.atualizarProduto(java.lang.Long,com.deliverytech.delivery_api.dto.ProdutoDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or @produtoService.isOwner(#id)', filter: 'null', filterTarget: 'null']]
2025-11-10 13:35:14.384 [main] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\') or (hasRole(\'RESTAURANTE\') and @restauranteService.isOwner(#id))") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-10 13:35:14.384 [main] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.atualizarRestaurante(java.lang.Long,com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN') or (hasRole('RESTAURANTE') and @restauranteService.isOwner(#id))', filter: 'null', filterTarget: 'null']]
2025-11-10 13:35:14.384 [main] DEBUG [] o.s.s.a.p.PrePostAnnotationSecurityMetadataSource - @org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)
2025-11-10 13:35:14.384 [main] DEBUG [] o.s.s.a.m.DelegatingMethodSecurityMetadataSource - Caching method [CacheKey[com.deliverytech.delivery_api.controller.RestauranteController; public org.springframework.http.ResponseEntity com.deliverytech.delivery_api.controller.RestauranteController.cadastrarRestaurante(com.deliverytech.delivery_api.dto.RestauranteDTO)]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2025-11-10 13:35:15.477 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 13:35:17.667 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 13:35:17.877 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 13:35:17.926 [main] WARN  [] o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain': Cannot create inner bean '(inner bean)#504863d7' of type [org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy] while setting constructor argument with key [1]
2025-11-10 13:35:17.971 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 13:35:17.974 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 13:35:17.977 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 13:35:17.987 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 13:35:17.989 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 13:35:17.993 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 13:35:17.993 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 13:35:18.009 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 13:35:18.019 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 13:35:18.086 [main] INFO  [] o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-10 13:35:18.188 [main] ERROR [] o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain': Cannot create inner bean '(inner bean)#504863d7' of type [org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy] while setting constructor argument with key [1]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBeanValue(BeanDefinitionValueResolver.java:421)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.lambda$resolveValueIfNecessary$1(BeanDefinitionValueResolver.java:153)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:262)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:152)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedList(BeanDefinitionValueResolver.java:460)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:191)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:206)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:47)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:46)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#504863d7': Cannot create inner bean '(inner bean)#40dac99d' while setting constructor argument with key [1]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBeanValue(BeanDefinitionValueResolver.java:421)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.lambda$resolveValueIfNecessary$1(BeanDefinitionValueResolver.java:153)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:262)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:152)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedList(BeanDefinitionValueResolver.java:460)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:191)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:206)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBeanValue(BeanDefinitionValueResolver.java:407)
	... 112 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#40dac99d' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Failed to instantiate [jakarta.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception with message: A filter chain that matches any request [DefaultSecurityFilterChain defined as 'testSecurityFilterChain' in [class path resource [com/deliverytech/delivery_api/config/TestSecurityConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization]] has already been configured, which means that this filter chain [DefaultSecurityFilterChain defined as 'filterChain' in [class path resource [com/deliverytech/delivery_api/config/SecurityConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization]] will never get invoked. Please use `HttpSecurity#securityMatcher` to ensure that there is only one filter chain configured for 'any request' and that the 'any request' filter chain is published last.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBeanValue(BeanDefinitionValueResolver.java:407)
	... 124 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [jakarta.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception with message: A filter chain that matches any request [DefaultSecurityFilterChain defined as 'testSecurityFilterChain' in [class path resource [com/deliverytech/delivery_api/config/TestSecurityConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization]] has already been configured, which means that this filter chain [DefaultSecurityFilterChain defined as 'filterChain' in [class path resource [com/deliverytech/delivery_api/config/SecurityConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization]] will never get invoked. Please use `HttpSecurity#securityMatcher` to ensure that there is only one filter chain configured for 'any request' and that the 'any request' filter chain is published last.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:200)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:89)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:169)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 130 common frames omitted
Caused by: org.springframework.security.web.UnreachableFilterChainException: A filter chain that matches any request [DefaultSecurityFilterChain defined as 'testSecurityFilterChain' in [class path resource [com/deliverytech/delivery_api/config/TestSecurityConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization]] has already been configured, which means that this filter chain [DefaultSecurityFilterChain defined as 'filterChain' in [class path resource [com/deliverytech/delivery_api/config/SecurityConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization]] will never get invoked. Please use `HttpSecurity#securityMatcher` to ensure that there is only one filter chain configured for 'any request' and that the 'any request' filter chain is published last.
	at org.springframework.security.config.annotation.web.builders.WebSecurityFilterChainValidator.checkForAnyRequestRequestMatcher(WebSecurityFilterChainValidator.java:59)
	at org.springframework.security.config.annotation.web.builders.WebSecurityFilterChainValidator.validate(WebSecurityFilterChainValidator.java:47)
	at org.springframework.security.web.FilterChainProxy.afterPropertiesSet(FilterChainProxy.java:178)
	at org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:351)
	at org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:98)
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:355)
	at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:38)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.springSecurityFilterChain(WebSecurityConfiguration.java:132)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:172)
	... 133 common frames omitted
2025-11-10 13:35:18.223 [main] WARN  [] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.deliverytech.delivery_api.controller.ClienteControllerIT@d556143]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2dfab333 testClass = com.deliverytech.delivery_api.controller.ClienteControllerIT, locations = [], classes = [com.deliverytech.delivery_api.DeliveryApiApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["spring.security.enabled=false", "org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@34953064 key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, com.deliverytech.delivery_api.config.TestDataConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, com.deliverytech.delivery_api.config.TestSecurityConfig, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1c742ed4, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@69c81773, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@210ab13f, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@5c7bfdc1, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@1807f5a7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@798162bc, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@3579f2ca], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:47)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:46)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain': Cannot create inner bean '(inner bean)#504863d7' of type [org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy] while setting constructor argument with key [1]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBeanValue(BeanDefinitionValueResolver.java:421)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.lambda$resolveValueIfNecessary$1(BeanDefinitionValueResolver.java:153)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:262)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:152)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedList(BeanDefinitionValueResolver.java:460)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:191)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:206)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 78 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#504863d7': Cannot create inner bean '(inner bean)#40dac99d' while setting constructor argument with key [1]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBeanValue(BeanDefinitionValueResolver.java:421)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.lambda$resolveValueIfNecessary$1(BeanDefinitionValueResolver.java:153)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:262)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:152)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedList(BeanDefinitionValueResolver.java:460)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:191)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:206)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBeanValue(BeanDefinitionValueResolver.java:407)
	... 112 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#40dac99d' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Failed to instantiate [jakarta.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception with message: A filter chain that matches any request [DefaultSecurityFilterChain defined as 'testSecurityFilterChain' in [class path resource [com/deliverytech/delivery_api/config/TestSecurityConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization]] has already been configured, which means that this filter chain [DefaultSecurityFilterChain defined as 'filterChain' in [class path resource [com/deliverytech/delivery_api/config/SecurityConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization]] will never get invoked. Please use `HttpSecurity#securityMatcher` to ensure that there is only one filter chain configured for 'any request' and that the 'any request' filter chain is published last.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBeanValue(BeanDefinitionValueResolver.java:407)
	... 124 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [jakarta.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception with message: A filter chain that matches any request [DefaultSecurityFilterChain defined as 'testSecurityFilterChain' in [class path resource [com/deliverytech/delivery_api/config/TestSecurityConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization]] has already been configured, which means that this filter chain [DefaultSecurityFilterChain defined as 'filterChain' in [class path resource [com/deliverytech/delivery_api/config/SecurityConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization]] will never get invoked. Please use `HttpSecurity#securityMatcher` to ensure that there is only one filter chain configured for 'any request' and that the 'any request' filter chain is published last.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:200)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:89)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:169)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 130 common frames omitted
Caused by: org.springframework.security.web.UnreachableFilterChainException: A filter chain that matches any request [DefaultSecurityFilterChain defined as 'testSecurityFilterChain' in [class path resource [com/deliverytech/delivery_api/config/TestSecurityConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, ExceptionTranslation, Authorization]] has already been configured, which means that this filter chain [DefaultSecurityFilterChain defined as 'filterChain' in [class path resource [com/deliverytech/delivery_api/config/SecurityConfig.class]] matching [any request] and having filters [DisableEncodeUrl, WebAsyncManagerIntegration, SecurityContextHolder, HeaderWriter, Logout, JwtAuthentication, RequestCacheAware, SecurityContextHolderAwareRequest, AnonymousAuthentication, SessionManagement, ExceptionTranslation, Authorization]] will never get invoked. Please use `HttpSecurity#securityMatcher` to ensure that there is only one filter chain configured for 'any request' and that the 'any request' filter chain is published last.
	at org.springframework.security.config.annotation.web.builders.WebSecurityFilterChainValidator.checkForAnyRequestRequestMatcher(WebSecurityFilterChainValidator.java:59)
	at org.springframework.security.config.annotation.web.builders.WebSecurityFilterChainValidator.validate(WebSecurityFilterChainValidator.java:47)
	at org.springframework.security.web.FilterChainProxy.afterPropertiesSet(FilterChainProxy.java:178)
	at org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:351)
	at org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:98)
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:355)
	at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:38)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.springSecurityFilterChain(WebSecurityConfiguration.java:132)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:172)
	... 133 common frames omitted
2025-11-10 13:45:29.807 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 22300 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 13:45:29.810 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 13:45:29.810 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 13:45:33.576 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 13:45:33.584 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 13:45:34.044 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 409 ms. Found 5 JPA repository interfaces.
2025-11-10 13:45:34.086 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 13:45:34.086 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 13:45:34.144 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 13:45:34.144 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 13:45:34.150 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 13:45:34.150 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 13:45:34.152 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 13:45:34.152 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
2025-11-10 13:45:37.211 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 13:45:37.296 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 13:45:37.676 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 13:45:37.685 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 13:45:37.717 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 13:45:40.236 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 13:45:40.242 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 13:45:40.250 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 13:45:40.251 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 13:45:40.251 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 13:45:40.251 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 13:45:40.273 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 13:45:40.292 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 13:45:40.306 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 13:45:40.309 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 13:45:40.309 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 13:45:40.309 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 13:45:40.309 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 13:45:40.337 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 13:45:40.337 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 13:45:40.337 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 13:45:40.353 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 13:45:40.353 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 13:45:41.143 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 13:45:42.956 [main] WARN  [] o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'authController': Unsatisfied dependency expressed through field 'authenticationManager': No qualifying bean of type 'org.springframework.security.authentication.AuthenticationManager' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2025-11-10 13:45:42.959 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 13:45:42.959 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 13:45:42.967 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 13:45:42.973 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 13:45:42.977 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 13:45:42.977 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 13:45:42.984 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 13:45:42.993 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 13:45:42.993 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 13:45:43.084 [main] INFO  [] o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-10 13:45:43.203 [main] ERROR [] o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field authenticationManager in com.deliverytech.delivery_api.controller.AuthController required a bean of type 'org.springframework.security.authentication.AuthenticationManager' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'org.springframework.security.authentication.AuthenticationManager' in your configuration.

2025-11-10 13:45:43.222 [main] WARN  [] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.deliverytech.delivery_api.controller.ClienteControllerIT@27a14f7e]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2443b82a testClass = com.deliverytech.delivery_api.controller.ClienteControllerIT, locations = [], classes = [com.deliverytech.delivery_api.DeliveryApiApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["spring.security.enabled=false", "org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@23fb943e key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, com.deliverytech.delivery_api.config.TestDataConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, com.deliverytech.delivery_api.config.TestSecurityConfig, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1c742ed4, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@69c81773, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@210ab13f, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@5c7bfdc1, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@1807f5a7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@798162bc, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@3579f2ca], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:47)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:46)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'authController': Unsatisfied dependency expressed through field 'authenticationManager': No qualifying bean of type 'org.springframework.security.authentication.AuthenticationManager' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:788)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1459)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 78 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.security.authentication.AuthenticationManager' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:2303)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1723)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1643)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	... 105 common frames omitted
2025-11-10 13:58:07.148 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 28236 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 13:58:07.152 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 13:58:07.154 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 13:58:11.381 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 13:58:11.384 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 13:58:11.931 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 511 ms. Found 5 JPA repository interfaces.
2025-11-10 13:58:11.995 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 13:58:12.004 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 13:58:12.071 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 13:58:12.075 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 13:58:12.077 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 13:58:12.077 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 13:58:12.081 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 13:58:12.081 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 39 ms. Found 0 Redis repository interfaces.
2025-11-10 13:58:17.549 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 13:58:17.676 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 13:58:18.238 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 13:58:18.247 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 13:58:18.330 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 13:58:21.252 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 13:58:21.261 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 13:58:21.261 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 13:58:21.268 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 13:58:21.268 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 13:58:21.268 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 13:58:21.268 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 13:58:21.328 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 13:58:21.334 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 13:58:21.342 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 13:58:21.348 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 13:58:21.351 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 13:58:21.359 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 13:58:21.394 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 13:58:21.404 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 13:58:21.404 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 13:58:21.404 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 13:58:21.422 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 13:58:22.419 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 13:58:26.242 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 13:58:26.243 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 13:58:26.720 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 13:58:30.944 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 13:58:31.210 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 13:58:31.215 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 13:58:31.215 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 13:58:31.223 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 8 ms
2025-11-10 13:58:31.470 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Started ClienteControllerIT in 25.501 seconds (process running for 27.911)
2025-11-10 13:58:31.865 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 13:58:32.084 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 13:58:32.177 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 13:58:32.189 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 13:58:32.197 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 13:58:32.203 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 13:58:32.397 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 13:58:32.444 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 13:58:32.467 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 13:58:32.485 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 13:58:32.497 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 13:58:32.511 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 13:58:32.522 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 13:58:32.612 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 13:58:32.634 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 13:58:32.707 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 13:58:32.734 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 13:58:32.745 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 13:58:32.745 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 13:58:32.755 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 13:58:32.761 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 13:58:32.766 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 13:58:32.786 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 13:58:32.796 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 13:58:32.800 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 13:58:32.809 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 13:58:32.812 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 13:58:32.814 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 13:58:32.817 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 13:58:32.826 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 13:58:32.830 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 13:58:32.832 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 13:58:32.836 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 13:58:32.837 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 13:58:32.838 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 13:58:32.840 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 13:58:32.856 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 13:58:32.861 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 13:58:32.867 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 13:58:32.869 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 13:58:32.872 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 13:58:32.874 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 13:58:32.876 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 13:58:32.878 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 13:58:32.878 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 13:58:32.880 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 13:58:32.889 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 13:58:32.898 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 13:58:32.910 [main] WARN  [] o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 23502, SQLState: 23502
2025-11-10 13:58:32.910 [main] ERROR [] o.h.e.jdbc.spi.SqlExceptionHelper - NULL not allowed for column "RESTAURANTE_ID"; SQL statement:
/* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url, [23502-232]
2025-11-10 13:58:32.985 [main] WARN  [] o.s.test.context.TestContextManager - Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.event.EventPublishingTestExecutionListener] for test method [void com.deliverytech.delivery_api.controller.ClienteControllerIT.should_ReturnCliente_When_IdExists() throws java.lang.Exception] and test instance [com.deliverytech.delivery_api.controller.ClienteControllerIT@72c55bf]
org.springframework.dao.DataIntegrityViolationException: could not execute statement [NULL not allowed for column "RESTAURANTE_ID"; SQL statement:
/* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url, [23502-232]] [/* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)]; SQL [/* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)]; constraint [null]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy218.save(Unknown Source)
	at com.deliverytech.delivery_api.config.TestDataConfiguration.setupTestData(TestDataConfiguration.java:43)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:383)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:255)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:174)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:156)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:454)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:387)
	at org.springframework.test.context.TestContext.publishEvent(TestContext.java:95)
	at org.springframework.test.context.event.EventPublishingTestExecutionListener.beforeTestMethod(EventPublishingTestExecutionListener.java:143)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:320)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:236)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:201)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:201)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:164)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:47)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:46)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [NULL not allowed for column "RESTAURANTE_ID"; SQL statement:
/* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url, [23502-232]] [/* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:62)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:682)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:293)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:274)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:324)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:394)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:308)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:136)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:177)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:95)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:79)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:761)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:745)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy2/jdk.proxy2.$Proxy196.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:654)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:734)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 80 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: NULL not allowed for column "RESTAURANTE_ID"; SQL statement:
/* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url, [23502-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:520)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.table.Column.validateConvertUpdateSequence(Column.java:402)
	at org.h2.table.Table.convertInsertRow(Table.java:963)
	at org.h2.command.dml.Insert.insertRows(Insert.java:167)
	at org.h2.command.dml.Insert.update(Insert.java:135)
	at org.h2.command.CommandContainer.executeUpdateWithGeneratedKeys(CommandContainer.java:212)
	at org.h2.command.CommandContainer.update(CommandContainer.java:133)
	at org.h2.command.Command.executeUpdate(Command.java:304)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:213)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:172)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 130 common frames omitted
2025-11-10 13:58:33.196 [SpringApplicationShutdownHook] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 13:58:33.205 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 13:58:33.212 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 13:58:33.212 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 13:58:33.218 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 13:58:33.220 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 13:58:33.222 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 13:58:33.240 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 13:58:33.253 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 14:11:21.409 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 22960 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 14:11:21.418 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 14:11:21.418 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 14:11:25.080 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 14:11:25.089 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 14:11:25.570 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 440 ms. Found 5 JPA repository interfaces.
2025-11-10 14:11:25.620 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 14:11:25.620 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 14:11:25.665 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 14:11:25.681 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 14:11:25.682 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 14:11:25.684 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 14:11:25.686 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 14:11:25.686 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 0 Redis repository interfaces.
2025-11-10 14:11:31.063 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 14:11:31.198 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 14:11:31.777 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 14:11:31.792 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 14:11:31.864 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 14:11:34.695 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 14:11:34.703 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 14:11:34.709 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 14:11:34.709 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 14:11:34.709 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 14:11:34.709 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 14:11:34.720 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 14:11:34.746 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 14:11:34.746 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 14:11:34.755 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 14:11:34.755 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 14:11:34.760 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 14:11:34.765 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 14:11:34.787 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 14:11:34.787 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 14:11:34.787 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 14:11:34.801 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 14:11:34.801 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 14:11:35.895 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 14:11:39.362 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 14:11:39.362 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 14:11:39.822 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 14:11:43.606 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 14:11:43.896 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 14:11:43.896 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 14:11:43.912 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 14:11:43.912 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2025-11-10 14:11:44.143 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Started ClienteControllerIT in 23.917 seconds (process running for 26.204)
2025-11-10 14:11:44.481 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 14:11:44.718 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 14:11:44.818 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 14:11:44.828 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 14:11:44.843 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 14:11:44.860 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 14:11:44.990 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 14:11:45.047 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 14:11:45.079 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 14:11:45.089 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 14:11:45.109 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 14:11:45.120 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 14:11:45.127 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 14:11:45.203 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 14:11:45.216 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 14:11:45.243 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 14:11:45.320 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 14:11:45.324 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 14:11:45.334 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 14:11:45.339 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 14:11:45.346 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 14:11:45.346 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 14:11:45.371 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 14:11:45.375 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 14:11:45.383 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 14:11:45.387 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 14:11:45.387 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 14:11:45.387 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 14:11:45.393 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 14:11:45.395 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 14:11:45.397 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 14:11:45.399 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 14:11:45.403 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 14:11:45.405 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 14:11:45.407 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 14:11:45.409 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 14:11:45.421 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 14:11:45.431 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 14:11:45.434 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 14:11:45.437 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 14:11:45.437 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 14:11:45.439 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 14:11:45.441 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 14:11:45.441 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 14:11:45.441 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 14:11:45.443 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 14:11:45.445 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 14:11:45.455 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 14:11:45.460 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 14:11:45.466 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 14:11:45.469 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 14:11:45.472 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 14:11:45.475 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 14:11:45.476 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 14:11:45.479 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 14:11:45.481 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 14:11:45.484 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 14:11:45.490 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 14:11:45.490 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 14:11:45.492 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 14:11:45.492 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 14:11:45.493 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 14:11:45.498 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 14:11:45.508 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 14:11:45.517 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 14:11:45.705 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/clientes/1
2025-11-10 14:11:45.789 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/clientes/1
2025-11-10 14:11:45.793 [main] WARN  [2996a726cfc94329] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 14:11:45.882 [main] DEBUG [2996a726cfc94329] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 14:11:46.084 [main] DEBUG [2996a726cfc94329] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 14:11:46.309 [SpringApplicationShutdownHook] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 14:11:46.311 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 14:11:46.320 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 14:11:46.324 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 14:11:46.326 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 14:11:46.330 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 14:11:46.330 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 14:11:46.339 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 14:11:46.346 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 14:30:05.487 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 16136 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 14:30:05.495 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 14:30:05.495 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 14:30:09.267 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 14:30:09.269 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 14:30:09.718 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 403 ms. Found 5 JPA repository interfaces.
2025-11-10 14:30:09.759 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 14:30:09.769 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 14:30:09.822 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 14:30:09.823 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 14:30:09.825 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 14:30:09.825 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 14:30:09.825 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 14:30:09.825 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
2025-11-10 14:30:14.893 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 14:30:15.011 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 14:30:15.609 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 14:30:15.618 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 14:30:15.714 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 14:30:18.727 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 14:30:18.743 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 14:30:18.743 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 14:30:18.745 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 14:30:18.745 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 14:30:18.745 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 14:30:18.751 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 14:30:18.780 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 14:30:18.787 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 14:30:18.789 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 14:30:18.794 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 14:30:18.794 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 14:30:18.799 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 14:30:18.826 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 14:30:18.838 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 14:30:18.843 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 14:30:18.843 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 14:30:18.852 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 14:30:19.812 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 14:30:23.646 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 14:30:23.646 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 14:30:24.070 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 14:30:28.085 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 14:30:28.363 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 14:30:28.370 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 14:30:28.372 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 14:30:28.377 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 5 ms
2025-11-10 14:30:28.625 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Started ClienteControllerIT in 24.265 seconds (process running for 26.56)
2025-11-10 14:30:28.947 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 14:30:29.192 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 14:30:29.302 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 14:30:29.310 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 14:30:29.311 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 14:30:29.319 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 14:30:29.497 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 14:30:29.542 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 14:30:29.570 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 14:30:29.587 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 14:30:29.601 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 14:30:29.619 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 14:30:29.632 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 14:30:29.720 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 14:30:29.737 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 14:30:29.770 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 14:30:29.810 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 14:30:29.818 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 14:30:29.823 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 14:30:29.829 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 14:30:29.835 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 14:30:29.838 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 14:30:29.860 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 14:30:29.869 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 14:30:29.871 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 14:30:29.871 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 14:30:29.878 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 14:30:29.878 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 14:30:29.878 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 14:30:29.884 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 14:30:29.884 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 14:30:29.884 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 14:30:29.884 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 14:30:29.892 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 14:30:29.895 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 14:30:29.895 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 14:30:29.910 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 14:30:29.920 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 14:30:29.920 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 14:30:29.920 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 14:30:29.920 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 14:30:29.927 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 14:30:29.927 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 14:30:29.927 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 14:30:29.927 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 14:30:29.927 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 14:30:29.937 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 14:30:29.943 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 14:30:29.953 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 14:30:29.955 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 14:30:29.955 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 14:30:29.963 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 14:30:29.963 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 14:30:29.967 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 14:30:29.969 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 14:30:29.972 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 14:30:29.974 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 14:30:29.979 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 14:30:29.982 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 14:30:29.986 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 14:30:29.986 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 14:30:29.989 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 14:30:29.995 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 14:30:30.003 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 14:30:30.012 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 14:30:30.202 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/clientes/4
2025-11-10 14:30:30.270 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/clientes/4
2025-11-10 14:30:30.277 [main] WARN  [3326aa233b6548e8] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 14:30:30.355 [main] DEBUG [3326aa233b6548e8] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 14:30:30.537 [main] DEBUG [3326aa233b6548e8] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 14:30:30.736 [SpringApplicationShutdownHook] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 14:30:30.736 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 14:30:30.736 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 14:30:30.736 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 14:30:30.736 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 14:30:30.736 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 14:30:30.750 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 14:30:30.752 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 14:30:30.752 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 14:36:03.577 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 18804 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 14:36:03.625 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 14:36:03.627 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 14:36:07.492 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 14:36:07.498 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 14:36:08.071 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 543 ms. Found 5 JPA repository interfaces.
2025-11-10 14:36:08.123 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 14:36:08.126 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 14:36:08.182 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 14:36:08.186 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 14:36:08.188 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 14:36:08.189 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 14:36:08.190 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 14:36:08.191 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 34 ms. Found 0 Redis repository interfaces.
2025-11-10 14:36:13.520 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 14:36:13.632 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 14:36:14.215 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 14:36:14.223 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 14:36:14.300 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 14:36:17.103 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 14:36:17.111 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 14:36:17.112 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 14:36:17.113 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 14:36:17.114 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 14:36:17.117 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 14:36:17.131 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 14:36:17.156 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 14:36:17.160 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 14:36:17.164 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 14:36:17.167 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 14:36:17.171 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 14:36:17.176 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 14:36:17.199 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 14:36:17.205 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 14:36:17.209 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 14:36:17.263 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 14:36:17.290 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 14:36:18.313 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 14:36:21.810 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 14:36:21.810 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 14:36:22.262 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 14:36:26.159 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 14:36:26.493 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 14:36:26.497 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 14:36:26.498 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 14:36:26.505 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 7 ms
2025-11-10 14:36:26.725 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Started ClienteControllerIT in 24.424 seconds (process running for 26.793)
2025-11-10 14:36:27.077 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 14:36:27.314 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 14:36:27.412 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 14:36:27.422 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 14:36:27.429 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 14:36:27.437 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 14:36:27.678 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 14:36:27.736 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 14:36:27.761 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 14:36:27.778 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 14:36:27.789 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 14:36:27.802 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 14:36:27.812 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 14:36:27.898 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 14:36:27.912 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 14:36:27.930 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 14:36:27.952 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 14:36:27.957 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 14:36:27.961 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 14:36:27.965 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 14:36:27.971 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 14:36:27.974 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 14:36:27.993 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 14:36:27.998 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 14:36:28.009 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 14:36:28.013 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 14:36:28.015 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 14:36:28.016 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 14:36:28.020 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 14:36:28.022 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 14:36:28.025 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 14:36:28.026 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 14:36:28.028 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 14:36:28.029 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 14:36:28.030 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 14:36:28.031 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 14:36:28.044 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 14:36:28.053 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 14:36:28.055 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 14:36:28.056 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 14:36:28.058 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 14:36:28.059 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 14:36:28.060 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 14:36:28.061 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 14:36:28.062 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 14:36:28.063 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 14:36:28.072 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 14:36:28.078 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 14:36:28.081 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 14:36:28.086 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 14:36:28.088 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 14:36:28.089 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 14:36:28.090 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 14:36:28.092 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 14:36:28.095 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 14:36:28.097 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 14:36:28.098 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 14:36:28.104 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 14:36:28.152 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 14:36:28.154 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 14:36:28.155 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 14:36:28.156 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 14:36:28.162 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 14:36:28.170 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 14:36:28.177 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 14:36:28.265 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 14:36:28.367 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/clientes/6
2025-11-10 14:36:28.413 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/clientes/6
2025-11-10 14:36:28.418 [main] WARN  [827fb3f1489f4b64] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 14:36:28.477 [main] DEBUG [827fb3f1489f4b64] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 14:36:28.726 [main] DEBUG [827fb3f1489f4b64] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 14:36:29.046 [SpringApplicationShutdownHook] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 14:36:29.049 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 14:36:29.055 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 14:36:29.058 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 14:36:29.062 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 14:36:29.063 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 14:36:29.065 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 14:36:29.073 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 14:36:29.078 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 15:06:40.563 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 25988 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 15:06:40.566 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 15:06:40.566 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 15:06:44.949 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 15:06:44.955 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 15:06:45.504 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 492 ms. Found 5 JPA repository interfaces.
2025-11-10 15:06:45.538 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 15:06:45.546 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 15:06:45.596 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:06:45.599 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:06:45.601 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:06:45.601 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:06:45.604 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:06:45.604 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 35 ms. Found 0 Redis repository interfaces.
2025-11-10 15:06:50.759 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 15:06:50.904 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 15:06:51.452 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 15:06:51.457 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 15:06:51.533 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 15:06:54.659 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 15:06:54.671 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 15:06:54.671 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 15:06:54.671 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 15:06:54.671 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 15:06:54.671 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 15:06:54.687 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 15:06:54.703 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 15:06:54.703 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 15:06:54.719 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 15:06:54.719 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 15:06:54.719 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 15:06:54.734 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 15:06:54.760 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 15:06:54.760 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 15:06:54.760 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 15:06:54.760 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 15:06:54.777 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 15:06:55.639 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 15:06:59.472 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 15:06:59.472 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 15:06:59.905 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 15:07:03.764 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 15:07:04.068 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 15:07:04.084 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 15:07:04.084 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 15:07:04.093 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 9 ms
2025-11-10 15:07:04.347 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Started ClienteControllerIT in 24.967 seconds (process running for 27.315)
2025-11-10 15:07:04.698 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 15:07:04.926 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:07:05.084 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:07:05.097 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 15:07:05.105 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:07:05.115 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:07:05.300 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 15:07:05.348 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 15:07:05.376 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 15:07:05.395 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 15:07:05.408 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 15:07:05.421 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 15:07:05.431 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 15:07:05.511 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 15:07:05.529 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:07:05.550 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:07:05.584 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:07:05.590 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:07:05.596 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:07:05.600 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:07:05.606 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:07:05.608 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:07:05.626 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:07:05.638 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:07:05.644 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:07:05.648 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:07:05.652 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:07:05.652 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:07:05.656 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:07:05.658 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:07:05.658 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:07:05.665 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:07:05.666 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:07:05.668 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:07:05.668 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:07:05.668 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:07:05.677 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 15:07:05.696 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:07:05.696 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:07:05.696 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:07:05.696 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:07:05.696 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:07:05.699 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:07:05.699 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:07:05.701 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:07:05.703 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:07:05.712 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 15:07:05.720 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:07:05.722 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:07:05.728 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:07:05.730 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:07:05.733 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:07:05.733 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:07:05.738 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:07:05.738 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:07:05.741 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:07:05.743 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:07:05.751 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:07:05.751 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:07:05.751 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:07:05.753 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:07:05.753 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:07:05.759 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:07:05.769 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:07:05.780 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 15:07:05.845 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 15:07:05.977 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/clientes/6
2025-11-10 15:07:06.067 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/clientes/6
2025-11-10 15:07:06.078 [main] WARN  [2cc8b7b7ab444205] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 15:07:06.162 [main] DEBUG [2cc8b7b7ab444205] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 15:07:06.410 [main] DEBUG [2cc8b7b7ab444205] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 15:07:06.700 [SpringApplicationShutdownHook] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 15:07:06.707 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 15:07:06.709 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 15:07:06.709 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 15:07:06.717 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 15:07:06.717 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 15:07:06.717 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 15:07:06.722 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 15:07:06.722 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 15:08:34.026 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 12404 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 15:08:34.032 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 15:08:34.034 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 15:08:37.993 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 15:08:37.996 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 15:08:38.463 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 430 ms. Found 5 JPA repository interfaces.
2025-11-10 15:08:38.525 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 15:08:38.531 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 15:08:38.607 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:08:38.609 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:08:38.614 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:08:38.616 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:08:38.616 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:08:38.616 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 49 ms. Found 0 Redis repository interfaces.
2025-11-10 15:08:43.772 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 15:08:43.906 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 15:08:44.561 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 15:08:44.571 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 15:08:44.638 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 15:08:47.560 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 15:08:47.566 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 15:08:47.566 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 15:08:47.571 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 15:08:47.571 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 15:08:47.573 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 15:08:47.578 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 15:08:47.608 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 15:08:47.615 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 15:08:47.617 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 15:08:47.621 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 15:08:47.621 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 15:08:47.629 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 15:08:47.656 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 15:08:47.662 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 15:08:47.667 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 15:08:47.671 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 15:08:47.684 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 15:08:48.703 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 15:08:52.304 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 15:08:52.304 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 15:08:52.760 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 15:08:56.617 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 15:08:56.905 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 15:08:56.907 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 15:08:56.907 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 15:08:56.914 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 7 ms
2025-11-10 15:08:57.164 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Started ClienteControllerIT in 24.28 seconds (process running for 26.528)
2025-11-10 15:08:57.493 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 15:08:57.689 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:08:57.781 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:08:57.792 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 15:08:57.798 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:08:57.809 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:08:57.982 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 15:08:58.025 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 15:08:58.044 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 15:08:58.063 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 15:08:58.075 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 15:08:58.087 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 15:08:58.099 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 15:08:58.183 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 15:08:58.188 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:08:58.215 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:08:58.237 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:08:58.242 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:08:58.246 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:08:58.249 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:08:58.252 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:08:58.252 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:08:58.269 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:08:58.274 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:08:58.281 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:08:58.281 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:08:58.281 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:08:58.281 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:08:58.287 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:08:58.290 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:08:58.290 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:08:58.290 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:08:58.295 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:08:58.295 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:08:58.295 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:08:58.295 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:08:58.309 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 15:08:58.313 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:08:58.313 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:08:58.313 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:08:58.322 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:08:58.324 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:08:58.324 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:08:58.324 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:08:58.326 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:08:58.327 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:08:58.329 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 15:08:58.341 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:08:58.347 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:08:58.347 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:08:58.351 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:08:58.353 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:08:58.357 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:08:58.361 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:08:58.363 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:08:58.365 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:08:58.365 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:08:58.370 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:08:58.372 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:08:58.374 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:08:58.374 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:08:58.374 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:08:58.379 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:08:58.387 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:08:58.388 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 15:08:58.457 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 15:08:58.590 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/clientes/6
2025-11-10 15:08:58.658 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/clientes/6
2025-11-10 15:08:58.662 [main] WARN  [00e781a45ca84dcc] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 15:08:58.757 [main] DEBUG [00e781a45ca84dcc] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 15:08:58.941 [main] DEBUG [00e781a45ca84dcc] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 15:08:59.228 [SpringApplicationShutdownHook] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 15:08:59.230 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 15:08:59.232 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 15:08:59.237 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 15:08:59.241 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 15:08:59.243 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 15:08:59.245 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 15:08:59.249 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 15:08:59.260 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 15:10:25.122 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 5256 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 15:10:25.124 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 15:10:25.130 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 15:10:28.885 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 15:10:28.891 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 15:10:29.356 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 411 ms. Found 5 JPA repository interfaces.
2025-11-10 15:10:29.408 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 15:10:29.417 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 15:10:29.510 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:10:29.514 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:10:29.516 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:10:29.516 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:10:29.516 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:10:29.516 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 44 ms. Found 0 Redis repository interfaces.
2025-11-10 15:10:34.779 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 15:10:34.893 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 15:10:35.456 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 15:10:35.456 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 15:10:35.550 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 15:10:38.291 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 15:10:38.297 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 15:10:38.297 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 15:10:38.297 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 15:10:38.297 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 15:10:38.305 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 15:10:38.324 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 15:10:38.348 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 15:10:38.356 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 15:10:38.358 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 15:10:38.365 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 15:10:38.365 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 15:10:38.372 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 15:10:38.396 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 15:10:38.401 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 15:10:38.407 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 15:10:38.407 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 15:10:38.417 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 15:10:39.439 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 15:10:42.853 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 15:10:42.853 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 15:10:43.266 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 15:10:46.915 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 15:10:47.188 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 15:10:47.196 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 15:10:47.196 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 15:10:47.196 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2025-11-10 15:10:47.483 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Started ClienteControllerIT in 23.659 seconds (process running for 25.901)
2025-11-10 15:10:47.797 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 15:10:48.020 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:10:48.163 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:10:48.173 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 15:10:48.180 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:10:48.182 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:10:48.306 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 15:10:48.370 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 15:10:48.398 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 15:10:48.404 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 15:10:48.424 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 15:10:48.441 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 15:10:48.444 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 15:10:48.527 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 15:10:48.544 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:10:48.556 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:10:48.588 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:10:48.598 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:10:48.598 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:10:48.607 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:10:48.612 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:10:48.615 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:10:48.635 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:10:48.644 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:10:48.644 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:10:48.644 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:10:48.657 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:10:48.657 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:10:48.660 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:10:48.660 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:10:48.660 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:10:48.660 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:10:48.660 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:10:48.660 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:10:48.660 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:10:48.660 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:10:48.674 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 15:10:48.690 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:10:48.690 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:10:48.690 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:10:48.690 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:10:48.690 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:10:48.690 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:10:48.690 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:10:48.690 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:10:48.690 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:10:48.704 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 15:10:48.704 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:10:48.704 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:10:48.704 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:10:48.704 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:10:48.704 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:10:48.720 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:10:48.722 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:10:48.722 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:10:48.722 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:10:48.722 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:10:48.722 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:10:48.722 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:10:48.722 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:10:48.722 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:10:48.736 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:10:48.736 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:10:48.736 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:10:48.752 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 15:10:49.006 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/clientes
2025-11-10 15:10:49.108 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/clientes
2025-11-10 15:10:49.115 [main] WARN  [b9a5e39507774f27] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 15:10:49.407 [main] DEBUG [b9a5e39507774f27] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 15:10:49.485 [main] DEBUG [b9a5e39507774f27] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:10:49.575 [main] DEBUG [b9a5e39507774f27] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 15:10:50.013 [SpringApplicationShutdownHook] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 15:10:50.013 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 15:10:50.025 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 15:10:50.029 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 15:10:50.029 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 15:10:50.029 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 15:10:50.029 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 15:10:50.041 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 15:10:50.049 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 15:11:28.129 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 5020 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 15:11:28.129 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 15:11:28.129 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 15:11:31.789 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 15:11:31.807 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 15:11:32.222 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 383 ms. Found 5 JPA repository interfaces.
2025-11-10 15:11:32.267 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 15:11:32.267 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 15:11:32.310 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:11:32.310 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:11:32.310 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:11:32.310 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:11:32.310 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:11:32.310 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2025-11-10 15:11:37.279 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 15:11:37.435 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 15:11:37.974 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 15:11:37.998 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 15:11:38.075 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 15:11:40.940 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 15:11:40.957 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 15:11:40.957 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 15:11:40.957 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 15:11:40.957 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 15:11:40.957 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 15:11:40.972 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 15:11:40.988 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 15:11:40.988 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 15:11:40.988 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 15:11:41.003 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 15:11:41.003 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 15:11:41.009 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 15:11:41.019 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 15:11:41.035 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 15:11:41.035 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 15:11:41.035 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 15:11:41.051 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 15:11:41.885 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 15:11:45.434 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 15:11:45.434 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 15:11:45.871 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 15:11:49.526 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 15:11:49.831 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 15:11:49.836 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 15:11:49.836 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 15:11:49.843 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 7 ms
2025-11-10 15:11:50.079 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Started ClienteControllerIT in 23.146 seconds (process running for 25.34)
2025-11-10 15:11:50.412 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 15:11:50.638 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:11:50.736 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:11:50.737 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 15:11:50.763 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:11:50.767 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:11:50.943 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 15:11:50.990 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 15:11:51.022 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 15:11:51.043 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 15:11:51.059 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 15:11:51.069 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 15:11:51.087 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 15:11:51.155 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 15:11:51.164 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:11:51.189 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:11:51.222 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:11:51.225 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:11:51.225 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:11:51.235 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:11:51.241 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:11:51.243 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:11:51.267 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:11:51.277 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:11:51.286 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:11:51.286 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:11:51.293 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:11:51.293 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:11:51.296 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:11:51.296 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:11:51.296 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:11:51.296 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:11:51.296 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:11:51.306 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:11:51.308 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:11:51.309 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:11:51.325 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 15:11:51.328 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:11:51.328 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:11:51.328 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:11:51.328 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:11:51.338 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:11:51.338 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:11:51.340 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:11:51.342 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:11:51.342 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:11:51.349 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 15:11:51.359 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:11:51.362 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:11:51.367 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:11:51.367 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:11:51.371 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:11:51.376 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:11:51.381 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:11:51.381 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:11:51.383 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:11:51.383 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:11:51.387 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:11:51.390 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:11:51.392 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:11:51.392 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:11:51.396 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:11:51.400 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:11:51.407 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:11:51.415 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 15:11:51.727 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/clientes
2025-11-10 15:11:51.790 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/clientes
2025-11-10 15:11:51.790 [main] WARN  [a5fb23c1565a4320] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 15:11:52.189 [main] DEBUG [a5fb23c1565a4320] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 15:11:52.548 [SpringApplicationShutdownHook] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 15:11:52.555 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 15:11:52.557 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 15:11:52.557 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 15:11:52.570 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 15:11:52.570 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 15:11:52.570 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 15:11:52.586 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 15:11:52.586 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 15:12:22.050 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 23432 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 15:12:22.050 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 15:12:22.050 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 15:12:25.641 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 15:12:25.641 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 15:12:26.046 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 378 ms. Found 5 JPA repository interfaces.
2025-11-10 15:12:26.122 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 15:12:26.126 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 15:12:26.193 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:12:26.196 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:12:26.196 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:12:26.196 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:12:26.196 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:12:26.196 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 0 Redis repository interfaces.
2025-11-10 15:12:31.368 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 15:12:31.470 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 15:12:32.027 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 15:12:32.042 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 15:12:32.120 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 15:12:34.766 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 15:12:34.779 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 15:12:34.779 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 15:12:34.779 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 15:12:34.779 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 15:12:34.779 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 15:12:34.796 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 15:12:34.823 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 15:12:34.823 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 15:12:34.823 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 15:12:34.834 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 15:12:34.837 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 15:12:34.843 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 15:12:34.866 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 15:12:34.866 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 15:12:34.866 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 15:12:34.882 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 15:12:34.892 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 15:12:35.727 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 15:12:39.350 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 15:12:39.350 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 15:12:39.825 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 15:12:43.596 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 15:12:43.843 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 15:12:43.850 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 15:12:43.851 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 15:12:43.857 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 6 ms
2025-11-10 15:12:44.086 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Started ClienteControllerIT in 23.133 seconds (process running for 25.391)
2025-11-10 15:12:44.462 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 15:12:44.688 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:12:44.827 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:12:44.837 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 15:12:44.848 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:12:44.853 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:12:44.991 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 15:12:45.064 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 15:12:45.089 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 15:12:45.106 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 15:12:45.118 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 15:12:45.131 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 15:12:45.142 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 15:12:45.209 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 15:12:45.224 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:12:45.240 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:12:45.259 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:12:45.273 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:12:45.275 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:12:45.283 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:12:45.283 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:12:45.287 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:12:45.303 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:12:45.311 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:12:45.319 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:12:45.324 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:12:45.324 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:12:45.328 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:12:45.331 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:12:45.334 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:12:45.335 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:12:45.335 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:12:45.339 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:12:45.339 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:12:45.339 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:12:45.339 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:12:45.351 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 15:12:45.358 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:12:45.358 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:12:45.358 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:12:45.366 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:12:45.366 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:12:45.366 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:12:45.366 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:12:45.366 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:12:45.366 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:12:45.375 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 15:12:45.375 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:12:45.375 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:12:45.390 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:12:45.392 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:12:45.392 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:12:45.392 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:12:45.392 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:12:45.392 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:12:45.392 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:12:45.392 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:12:45.406 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:12:45.406 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:12:45.406 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:12:45.406 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:12:45.409 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:12:45.409 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:12:45.409 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:12:45.424 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 15:12:45.601 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/clientes/999
2025-11-10 15:12:45.646 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/clientes/999
2025-11-10 15:12:45.660 [main] WARN  [6207ec5726984f61] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 15:12:45.715 [main] DEBUG [6207ec5726984f61] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 15:12:45.900 [main] DEBUG [6207ec5726984f61] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 15:12:46.080 [SpringApplicationShutdownHook] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 15:12:46.084 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 15:12:46.090 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 15:12:46.094 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 15:12:46.094 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 15:12:46.094 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 15:12:46.094 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 15:12:46.109 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 15:12:46.115 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 15:14:20.470 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 18448 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 15:14:20.474 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 15:14:20.477 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 15:14:24.263 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 15:14:24.265 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 15:14:24.721 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 417 ms. Found 5 JPA repository interfaces.
2025-11-10 15:14:24.763 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 15:14:24.763 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 15:14:24.820 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:14:24.824 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:14:24.826 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:14:24.826 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:14:24.826 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:14:24.831 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 34 ms. Found 0 Redis repository interfaces.
2025-11-10 15:14:29.961 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 15:14:30.110 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 15:14:30.668 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 15:14:30.673 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 15:14:30.760 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 15:14:33.679 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 15:14:33.686 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 15:14:33.688 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 15:14:33.688 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 15:14:33.690 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 15:14:33.690 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 15:14:33.700 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 15:14:33.724 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 15:14:33.729 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 15:14:33.732 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 15:14:33.735 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 15:14:33.740 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 15:14:33.746 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 15:14:33.773 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 15:14:33.777 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 15:14:33.782 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 15:14:33.782 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 15:14:33.794 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 15:14:34.847 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 15:14:38.602 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 15:14:38.602 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 15:14:39.036 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 15:14:42.838 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 15:14:43.110 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 15:14:43.114 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 15:14:43.114 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 15:14:43.120 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 4 ms
2025-11-10 15:14:43.328 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Started ClienteControllerIT in 24.165 seconds (process running for 26.45)
2025-11-10 15:14:43.643 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 15:14:43.838 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:14:43.984 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:14:43.996 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 15:14:44.008 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:14:44.012 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:14:44.171 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 15:14:44.225 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 15:14:44.248 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 15:14:44.258 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 15:14:44.271 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 15:14:44.287 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 15:14:44.300 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 15:14:44.371 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 15:14:44.384 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:14:44.404 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:14:44.427 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:14:44.429 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:14:44.429 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:14:44.438 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:14:44.438 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:14:44.444 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:14:44.462 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:14:44.468 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:14:44.473 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:14:44.479 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:14:44.481 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:14:44.481 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:14:44.483 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:14:44.488 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:14:44.491 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:14:44.493 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:14:44.498 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:14:44.500 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:14:44.502 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:14:44.502 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:14:44.516 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 15:14:44.527 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:14:44.529 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:14:44.529 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:14:44.529 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:14:44.534 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:14:44.534 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:14:44.536 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:14:44.538 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:14:44.540 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:14:44.547 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 15:14:44.557 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:14:44.561 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:14:44.565 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:14:44.568 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:14:44.571 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:14:44.575 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:14:44.575 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:14:44.579 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:14:44.579 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:14:44.579 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:14:44.579 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:14:44.587 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:14:44.588 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:14:44.588 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:14:44.588 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:14:44.594 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:14:44.594 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:14:44.607 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 15:14:44.867 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing PUT /api/clientes/6
2025-11-10 15:14:44.915 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured PUT /api/clientes/6
2025-11-10 15:14:44.921 [main] WARN  [f43d755ddbba4134] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 15:14:45.188 [main] DEBUG [f43d755ddbba4134] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 15:14:45.193 [main] DEBUG [f43d755ddbba4134] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 15:14:45.301 [main] DEBUG [f43d755ddbba4134] org.hibernate.SQL - /* update for com.deliverytech.delivery_api.model.Cliente */update cliente set ativo=?,data_criacao=?,email=?,endereco=?,nome=?,telefone=? where id=?
2025-11-10 15:14:45.365 [main] DEBUG [f43d755ddbba4134] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 15:14:45.648 [SpringApplicationShutdownHook] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 15:14:45.651 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 15:14:45.657 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 15:14:45.662 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 15:14:45.664 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 15:14:45.667 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 15:14:45.669 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 15:14:45.676 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 15:14:45.682 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 15:15:24.521 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 13016 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 15:15:24.530 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 15:15:24.532 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 15:15:28.315 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 15:15:28.318 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 15:15:28.763 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 411 ms. Found 5 JPA repository interfaces.
2025-11-10 15:15:28.812 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 15:15:28.814 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 15:15:28.866 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:15:28.874 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:15:28.874 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:15:28.874 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:15:28.874 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:15:28.875 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
2025-11-10 15:15:33.619 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 15:15:33.740 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 15:15:34.336 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 15:15:34.345 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 15:15:34.432 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 15:15:37.471 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 15:15:37.471 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 15:15:37.471 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 15:15:37.471 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 15:15:37.471 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 15:15:37.471 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 15:15:37.490 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 15:15:37.505 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 15:15:37.521 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 15:15:37.525 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 15:15:37.525 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 15:15:37.525 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 15:15:37.535 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 15:15:37.559 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 15:15:37.559 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 15:15:37.559 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 15:15:37.576 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 15:15:37.589 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 15:15:38.659 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 15:15:42.248 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 15:15:42.248 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 15:15:42.695 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 15:15:46.576 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 15:15:46.866 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 15:15:46.868 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 15:15:46.868 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 15:15:46.868 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2025-11-10 15:15:47.105 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Started ClienteControllerIT in 23.773 seconds (process running for 25.956)
2025-11-10 15:15:47.457 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 15:15:47.654 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:15:47.748 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:15:47.759 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 15:15:47.767 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:15:47.775 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:15:47.925 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 15:15:47.976 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 15:15:47.988 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 15:15:48.013 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 15:15:48.019 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 15:15:48.034 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 15:15:48.050 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 15:15:48.124 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 15:15:48.142 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:15:48.170 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:15:48.202 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:15:48.208 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:15:48.212 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:15:48.216 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:15:48.219 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:15:48.224 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:15:48.249 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:15:48.254 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:15:48.262 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:15:48.265 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:15:48.269 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:15:48.270 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:15:48.273 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:15:48.277 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:15:48.280 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:15:48.280 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:15:48.280 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:15:48.284 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:15:48.284 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:15:48.288 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:15:48.302 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 15:15:48.314 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:15:48.314 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:15:48.314 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:15:48.320 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:15:48.320 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:15:48.323 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:15:48.323 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:15:48.326 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:15:48.328 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:15:48.332 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 15:15:48.345 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:15:48.347 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:15:48.350 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:15:48.350 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:15:48.355 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:15:48.357 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:15:48.360 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:15:48.360 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:15:48.363 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:15:48.363 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:15:48.373 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:15:48.375 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:15:48.377 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:15:48.377 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:15:48.377 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:15:48.387 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:15:48.393 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:15:48.400 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 15:15:48.563 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/clientes/999
2025-11-10 15:15:48.640 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/clientes/999
2025-11-10 15:15:48.646 [main] WARN  [60a6258907d349ba] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 15:15:48.727 [main] DEBUG [60a6258907d349ba] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 15:15:48.994 [main] DEBUG [60a6258907d349ba] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 15:15:49.213 [SpringApplicationShutdownHook] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 15:15:49.217 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 15:15:49.224 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 15:15:49.225 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 15:15:49.229 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 15:15:49.232 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 15:15:49.232 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 15:15:49.241 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 15:15:49.247 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 15:22:00.896 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 21276 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 15:22:00.901 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 15:22:00.905 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 15:22:04.807 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 15:22:04.817 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 15:22:05.381 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 521 ms. Found 5 JPA repository interfaces.
2025-11-10 15:22:05.465 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 15:22:05.467 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 15:22:05.541 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:22:05.541 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:22:05.541 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:22:05.546 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:22:05.548 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:22:05.550 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 39 ms. Found 0 Redis repository interfaces.
2025-11-10 15:22:10.753 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 15:22:10.891 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 15:22:11.442 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 15:22:11.450 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 15:22:11.532 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 15:22:14.348 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 15:22:14.358 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 15:22:14.360 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 15:22:14.363 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 15:22:14.363 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 15:22:14.363 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 15:22:14.377 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 15:22:14.401 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 15:22:14.409 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 15:22:14.413 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 15:22:14.417 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 15:22:14.430 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 15:22:14.434 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 15:22:14.457 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 15:22:14.463 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 15:22:14.465 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 15:22:14.467 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 15:22:14.481 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 15:22:15.522 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 15:22:19.194 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 15:22:19.196 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 15:22:19.615 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 15:22:23.490 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 15:22:23.758 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 15:22:23.775 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 15:22:23.775 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 15:22:23.781 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 6 ms
2025-11-10 15:22:24.037 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Started ClienteControllerIT in 24.388 seconds (process running for 26.666)
2025-11-10 15:22:24.341 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 15:22:24.576 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:22:24.726 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:22:24.741 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 15:22:24.741 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:22:24.755 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:22:24.895 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 15:22:24.956 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 15:22:24.980 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 15:22:24.991 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 15:22:25.007 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 15:22:25.018 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 15:22:25.027 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 15:22:25.094 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 15:22:25.109 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:22:25.146 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:22:25.171 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:22:25.183 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:22:25.190 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:22:25.193 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:22:25.199 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:22:25.201 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:22:25.216 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:22:25.231 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:22:25.232 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:22:25.240 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:22:25.242 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:22:25.245 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:22:25.247 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:22:25.249 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:22:25.251 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:22:25.251 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:22:25.256 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:22:25.259 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:22:25.261 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:22:25.263 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:22:25.272 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 15:22:25.284 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:22:25.286 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:22:25.286 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:22:25.288 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:22:25.289 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:22:25.289 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:22:25.292 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:22:25.292 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:22:25.292 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:22:25.292 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 15:22:25.308 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:22:25.308 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:22:25.313 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:22:25.316 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:22:25.316 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:22:25.319 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:22:25.323 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:22:25.325 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:22:25.325 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:22:25.330 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:22:25.335 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:22:25.335 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:22:25.335 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:22:25.335 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:22:25.335 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:22:25.343 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:22:25.348 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:22:25.359 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 15:22:25.431 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 15:22:25.574 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/clientes/106
2025-11-10 15:22:25.625 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/clientes/106
2025-11-10 15:22:25.631 [main] WARN  [c3419f8f7c844dc8] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 15:22:25.697 [main] DEBUG [c3419f8f7c844dc8] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 15:22:25.873 [main] DEBUG [c3419f8f7c844dc8] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 15:22:26.091 [SpringApplicationShutdownHook] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 15:22:26.093 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 15:22:26.097 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 15:22:26.100 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 15:22:26.102 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 15:22:26.108 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 15:22:26.113 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 15:22:26.127 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 15:22:26.134 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 15:29:47.507 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 19000 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 15:29:47.512 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 15:29:47.512 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 15:29:51.327 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 15:29:51.334 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 15:29:51.826 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 462 ms. Found 5 JPA repository interfaces.
2025-11-10 15:29:51.871 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 15:29:51.880 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 15:29:51.926 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:29:51.929 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:29:51.933 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:29:51.934 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:29:51.934 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:29:51.936 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 0 Redis repository interfaces.
2025-11-10 15:29:57.074 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 15:29:57.183 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 15:29:57.764 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 15:29:57.775 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 15:29:57.858 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 15:30:01.108 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 15:30:01.114 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 15:30:01.116 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 15:30:01.116 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 15:30:01.118 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 15:30:01.121 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 15:30:01.133 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 15:30:01.150 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 15:30:01.155 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 15:30:01.155 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 15:30:01.168 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 15:30:01.172 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 15:30:01.172 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 15:30:01.208 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 15:30:01.208 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 15:30:01.208 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 15:30:01.224 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 15:30:01.224 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 15:30:02.125 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 15:30:06.198 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 15:30:06.200 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 15:30:06.645 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 15:30:10.362 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 15:30:10.645 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 15:30:10.689 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 15:30:10.691 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 15:30:10.697 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 4 ms
2025-11-10 15:30:10.958 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Started ClienteControllerIT in 24.637 seconds (process running for 26.855)
2025-11-10 15:30:11.315 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 15:30:11.561 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:30:11.656 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:30:11.663 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 15:30:11.670 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:30:11.674 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:30:11.822 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 15:30:11.874 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 15:30:11.889 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 15:30:11.917 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 15:30:11.930 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 15:30:11.939 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 15:30:11.954 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 15:30:12.018 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 15:30:12.063 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:30:12.085 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:30:12.123 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:30:12.127 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:30:12.131 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:30:12.131 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:30:12.139 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:30:12.141 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:30:12.161 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:30:12.163 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:30:12.190 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:30:12.192 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:30:12.194 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:30:12.194 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:30:12.196 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:30:12.196 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:30:12.201 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:30:12.207 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:30:12.212 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:30:12.216 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:30:12.217 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:30:12.219 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:30:12.243 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 15:30:12.263 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:30:12.266 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:30:12.266 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:30:12.268 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:30:12.270 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:30:12.270 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:30:12.270 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:30:12.271 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:30:12.273 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:30:12.273 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 15:30:12.286 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:30:12.293 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:30:12.297 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:30:12.299 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:30:12.301 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:30:12.301 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:30:12.303 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:30:12.307 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:30:12.311 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:30:12.311 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:30:12.311 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:30:12.319 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:30:12.319 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:30:12.319 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:30:12.319 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:30:12.326 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:30:12.331 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:30:12.340 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 15:30:12.399 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 15:30:12.499 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/clientes/106
2025-11-10 15:30:12.574 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/clientes/106
2025-11-10 15:30:12.574 [main] WARN  [4ce913c46f8243f5] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 15:30:12.669 [main] DEBUG [4ce913c46f8243f5] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 15:30:12.860 [main] DEBUG [4ce913c46f8243f5] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 15:30:13.052 [SpringApplicationShutdownHook] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 15:30:13.052 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 15:30:13.063 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 15:30:13.068 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 15:30:13.073 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 15:30:13.076 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 15:30:13.076 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 15:30:13.084 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 15:30:13.090 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 15:42:21.743 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 3528 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 15:42:21.743 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 15:42:21.743 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 15:42:23.188 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 15:42:23.188 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 15:42:23.355 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 159 ms. Found 5 JPA repository interfaces.
2025-11-10 15:42:23.381 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 15:42:23.383 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 15:42:23.408 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:42:23.408 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:42:23.408 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:42:23.408 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:42:23.408 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:42:23.414 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2025-11-10 15:42:25.355 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 15:42:25.405 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 15:42:25.642 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 15:42:25.644 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 15:42:25.680 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 15:42:26.804 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 15:42:26.804 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 15:42:26.804 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 15:42:26.804 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 15:42:26.804 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 15:42:26.804 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 15:42:26.817 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 15:42:26.820 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 15:42:26.820 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 15:42:26.820 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 15:42:26.820 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 15:42:26.820 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 15:42:26.820 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 15:42:26.835 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 15:42:26.835 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 15:42:26.835 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 15:42:26.835 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 15:42:26.856 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 15:42:27.199 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 15:42:28.722 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 15:42:28.722 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 15:42:28.908 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 15:42:30.481 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 15:42:30.602 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 15:42:30.602 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 15:42:30.602 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 15:42:30.614 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 12 ms
2025-11-10 15:42:30.706 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Started ClienteControllerIT in 9.407 seconds (process running for 10.282)
2025-11-10 15:42:30.855 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 15:42:30.948 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:42:30.989 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:42:30.993 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 15:42:30.993 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:42:30.993 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:42:31.068 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 15:42:31.100 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 15:42:31.100 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 15:42:31.116 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 15:42:31.116 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 15:42:31.124 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 15:42:31.124 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 15:42:31.155 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 15:42:31.160 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:42:31.172 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:42:31.180 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:42:31.180 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:42:31.185 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:42:31.185 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:42:31.188 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:42:31.188 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:42:31.188 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:42:31.197 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:42:31.197 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:42:31.197 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:42:31.197 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:42:31.197 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:42:31.197 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:42:31.197 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:42:31.197 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:42:31.204 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:42:31.204 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:42:31.204 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:42:31.204 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:42:31.204 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:42:31.204 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 15:42:31.214 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:42:31.214 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:42:31.214 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:42:31.214 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:42:31.214 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:42:31.214 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:42:31.214 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:42:31.214 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:42:31.214 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:42:31.221 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 15:42:31.221 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:42:31.224 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:42:31.224 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:42:31.224 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:42:31.224 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:42:31.224 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:42:31.224 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:42:31.224 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:42:31.224 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:42:31.224 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:42:31.224 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:42:31.224 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:42:31.224 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:42:31.224 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:42:31.224 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:42:31.224 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:42:31.224 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:42:31.238 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 15:42:31.261 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 15:42:31.298 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/clientes/106
2025-11-10 15:42:31.304 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/clientes/106
2025-11-10 15:42:31.304 [main] WARN  [160234b92c154690] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 15:42:31.338 [main] DEBUG [160234b92c154690] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 15:42:31.393 [main] DEBUG [160234b92c154690] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 15:42:31.473 [SpringApplicationShutdownHook] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 15:42:31.475 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 15:42:31.477 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 15:42:31.478 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 15:42:31.478 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 15:42:31.481 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 15:42:31.481 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 15:42:31.483 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 15:42:31.488 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 15:46:19.623 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 24376 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 15:46:19.623 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 15:46:19.624 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 15:46:21.170 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 15:46:21.172 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 15:46:21.392 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 207 ms. Found 5 JPA repository interfaces.
2025-11-10 15:46:21.411 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 15:46:21.412 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 15:46:21.439 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:46:21.440 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:46:21.441 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:46:21.441 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:46:21.442 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:46:21.442 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2025-11-10 15:46:23.767 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 15:46:23.822 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 15:46:24.077 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 15:46:24.082 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 15:46:24.119 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 15:46:25.482 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 15:46:25.486 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 15:46:25.488 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 15:46:25.488 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 15:46:25.489 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 15:46:25.489 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 15:46:25.493 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 15:46:25.503 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 15:46:25.505 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 15:46:25.508 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 15:46:25.509 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 15:46:25.510 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 15:46:25.511 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 15:46:25.522 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 15:46:25.524 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 15:46:25.525 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 15:46:25.526 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 15:46:25.530 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 15:46:25.955 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 15:46:27.727 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 15:46:27.727 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 15:46:27.926 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 15:46:29.813 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 15:46:29.947 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 15:46:29.949 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 15:46:29.949 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 15:46:29.953 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 4 ms
2025-11-10 15:46:30.072 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Started ClienteControllerIT in 10.913 seconds (process running for 11.792)
2025-11-10 15:46:30.238 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 15:46:30.343 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:46:30.388 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:46:30.393 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 15:46:30.397 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:46:30.401 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:46:30.502 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 15:46:30.534 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 15:46:30.547 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 15:46:30.556 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 15:46:30.562 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 15:46:30.568 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 15:46:30.574 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 15:46:30.608 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 15:46:30.615 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:46:30.628 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:46:30.642 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:46:30.644 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:46:30.647 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:46:30.648 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:46:30.650 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:46:30.652 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:46:30.663 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:46:30.666 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:46:30.669 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:46:30.671 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:46:30.672 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:46:30.674 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:46:30.676 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:46:30.677 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:46:30.678 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:46:30.679 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:46:30.680 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:46:30.682 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:46:30.683 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:46:30.684 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:46:30.691 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 15:46:30.696 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:46:30.697 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:46:30.698 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:46:30.698 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:46:30.699 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:46:30.699 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:46:30.699 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:46:30.699 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:46:30.700 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:46:30.704 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 15:46:30.707 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:46:30.709 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:46:30.712 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:46:30.713 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:46:30.715 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:46:30.716 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:46:30.718 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:46:30.719 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:46:30.720 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:46:30.723 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:46:30.726 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:46:30.727 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:46:30.727 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:46:30.727 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:46:30.727 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:46:30.731 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:46:30.735 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:46:30.739 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 15:46:30.775 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 15:46:30.832 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/clientes/106
2025-11-10 15:46:30.868 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/clientes/106
2025-11-10 15:46:30.873 [main] WARN  [a79d896cb82344b6] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 15:46:30.920 [main] DEBUG [a79d896cb82344b6] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 15:46:31.027 [main] DEBUG [a79d896cb82344b6] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 15:46:31.124 [SpringApplicationShutdownHook] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 15:46:31.126 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 15:46:31.130 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 15:46:31.132 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 15:46:31.133 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 15:46:31.134 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 15:46:31.135 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 15:46:31.140 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 15:46:31.143 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 15:50:02.119 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 1756 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 15:50:02.122 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 15:50:02.123 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 15:50:03.589 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 15:50:03.591 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 15:50:03.810 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 206 ms. Found 5 JPA repository interfaces.
2025-11-10 15:50:03.827 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 15:50:03.828 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 15:50:03.845 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:50:03.846 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:50:03.846 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:50:03.846 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:50:03.847 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:50:03.847 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-11-10 15:50:05.637 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 15:50:05.688 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 15:50:05.929 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 15:50:05.933 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 15:50:05.966 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 15:50:07.099 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 15:50:07.102 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 15:50:07.103 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 15:50:07.104 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 15:50:07.105 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 15:50:07.105 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 15:50:07.110 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 15:50:07.118 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 15:50:07.119 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 15:50:07.121 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 15:50:07.123 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 15:50:07.124 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 15:50:07.125 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 15:50:07.134 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 15:50:07.135 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 15:50:07.136 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 15:50:07.138 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 15:50:07.143 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 15:50:07.478 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 15:50:09.024 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 15:50:09.025 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 15:50:09.201 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 15:50:10.737 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 15:50:10.852 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 15:50:10.854 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 15:50:10.855 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 15:50:10.857 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-11-10 15:50:10.949 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Started ClienteControllerIT in 9.258 seconds (process running for 10.078)
2025-11-10 15:50:11.091 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 15:50:11.158 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:50:11.203 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:50:11.207 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 15:50:11.209 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:50:11.212 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:50:11.265 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 15:50:11.284 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 15:50:11.293 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 15:50:11.300 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 15:50:11.305 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 15:50:11.310 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 15:50:11.314 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 15:50:11.340 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 15:50:11.345 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:50:11.354 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:50:11.362 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:50:11.363 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:50:11.364 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:50:11.365 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:50:11.366 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:50:11.367 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:50:11.373 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:50:11.375 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:50:11.377 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:50:11.378 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:50:11.379 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:50:11.379 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:50:11.380 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:50:11.381 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:50:11.382 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:50:11.382 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:50:11.383 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:50:11.383 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:50:11.383 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:50:11.384 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:50:11.389 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 15:50:11.392 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:50:11.392 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:50:11.392 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:50:11.392 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:50:11.392 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:50:11.392 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:50:11.393 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:50:11.393 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:50:11.393 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:50:11.395 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 15:50:11.398 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:50:11.399 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:50:11.401 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:50:11.402 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:50:11.403 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:50:11.404 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:50:11.404 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:50:11.405 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:50:11.406 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:50:11.407 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:50:11.408 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:50:11.409 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:50:11.409 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:50:11.409 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:50:11.410 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:50:11.412 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:50:11.414 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:50:11.416 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 15:50:11.442 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 15:50:11.487 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/clientes/106
2025-11-10 15:50:11.508 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/clientes/106
2025-11-10 15:50:11.510 [main] WARN  [f6dbc8df21a842b1] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 15:50:11.534 [main] DEBUG [f6dbc8df21a842b1] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 15:50:11.602 [main] DEBUG [f6dbc8df21a842b1] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 15:50:11.682 [SpringApplicationShutdownHook] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 15:50:11.683 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 15:50:11.691 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 15:50:11.692 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 15:50:11.693 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 15:50:11.694 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 15:50:11.694 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 15:50:11.697 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 15:50:11.699 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 15:54:41.715 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 22596 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 15:54:41.715 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 15:54:41.715 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 15:54:43.094 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 15:54:43.102 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 15:54:43.287 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 173 ms. Found 5 JPA repository interfaces.
2025-11-10 15:54:43.304 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 15:54:43.304 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 15:54:43.321 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:54:43.321 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:54:43.321 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:54:43.321 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:54:43.321 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:54:43.321 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2025-11-10 15:54:45.148 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 15:54:45.192 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 15:54:45.419 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 15:54:45.433 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 15:54:45.473 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 15:54:46.670 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 15:54:46.685 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 15:54:46.685 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 15:54:46.685 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 15:54:46.685 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 15:54:46.685 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 15:54:46.685 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 15:54:46.695 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 15:54:46.701 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 15:54:46.701 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 15:54:46.701 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 15:54:46.701 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 15:54:46.701 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 15:54:46.701 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 15:54:46.717 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 15:54:46.719 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 15:54:46.719 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 15:54:46.719 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 15:54:47.073 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 15:54:48.654 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 15:54:48.654 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 15:54:48.854 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 15:54:50.400 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 15:54:50.522 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 15:54:50.522 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 15:54:50.522 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 15:54:50.522 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2025-11-10 15:54:50.631 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Started ClienteControllerIT in 9.327 seconds (process running for 10.125)
2025-11-10 15:54:50.766 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 15:54:50.867 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:54:50.908 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:54:50.908 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 15:54:50.908 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:54:50.908 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:54:50.971 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 15:54:51.004 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 15:54:51.004 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 15:54:51.022 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 15:54:51.022 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 15:54:51.022 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 15:54:51.035 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 15:54:51.070 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 15:54:51.075 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:54:51.083 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:54:51.083 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:54:51.100 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:54:51.102 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:54:51.103 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:54:51.105 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:54:51.107 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:54:51.107 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:54:51.107 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:54:51.107 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:54:51.107 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:54:51.123 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:54:51.128 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:54:51.128 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:54:51.128 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:54:51.128 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:54:51.128 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:54:51.128 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:54:51.128 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:54:51.128 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:54:51.128 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:54:51.139 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 15:54:51.144 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:54:51.144 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:54:51.144 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:54:51.146 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:54:51.146 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:54:51.146 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:54:51.146 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:54:51.146 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:54:51.146 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:54:51.157 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 15:54:51.159 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:54:51.161 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:54:51.163 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:54:51.167 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:54:51.173 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:54:51.174 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:54:51.176 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:54:51.185 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:54:51.189 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:54:51.190 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:54:51.191 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:54:51.193 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:54:51.193 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:54:51.193 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:54:51.194 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:54:51.194 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:54:51.194 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:54:51.200 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 15:54:51.233 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 15:54:51.274 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/clientes/106
2025-11-10 15:54:51.300 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/clientes/106
2025-11-10 15:54:51.300 [main] WARN  [f579ce7f9ee24e20] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 15:54:51.339 [main] DEBUG [f579ce7f9ee24e20] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 15:54:51.419 [main] DEBUG [f579ce7f9ee24e20] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 15:54:51.490 [SpringApplicationShutdownHook] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 15:54:51.490 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 15:54:51.490 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 15:54:51.490 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 15:54:51.490 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 15:54:51.500 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 15:54:51.500 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 15:54:51.500 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 15:54:51.500 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 15:57:49.504 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 25512 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 15:57:49.515 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 15:57:49.515 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 15:57:51.794 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 15:57:51.810 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 15:57:52.048 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 217 ms. Found 5 JPA repository interfaces.
2025-11-10 15:57:52.066 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 15:57:52.078 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 15:57:52.110 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:57:52.110 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:57:52.110 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:57:52.110 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:57:52.110 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 15:57:52.110 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2025-11-10 15:57:55.065 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 15:57:55.133 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 15:57:55.732 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 15:57:55.738 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 15:57:55.807 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 15:57:57.778 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 15:57:57.790 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 15:57:57.790 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 15:57:57.792 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 15:57:57.792 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 15:57:57.792 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 15:57:57.804 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 15:57:57.823 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 15:57:57.830 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 15:57:57.832 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 15:57:57.836 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 15:57:57.836 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 15:57:57.836 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 15:57:57.866 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 15:57:57.869 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 15:57:57.870 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 15:57:57.871 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 15:57:57.879 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 15:57:58.487 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 15:58:00.727 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 15:58:00.727 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 15:58:00.999 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 15:58:03.108 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 15:58:03.264 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 15:58:03.266 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 15:58:03.266 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 15:58:03.268 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2025-11-10 15:58:03.399 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Started ClienteControllerIT in 14.647 seconds (process running for 16.563)
2025-11-10 15:58:03.603 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 15:58:03.736 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:58:03.793 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:58:03.801 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 15:58:03.804 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:58:03.808 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:58:03.876 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 15:58:03.900 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 15:58:03.912 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 15:58:03.920 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 15:58:03.926 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 15:58:03.930 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 15:58:03.930 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 15:58:03.958 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 15:58:03.973 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:58:03.976 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:58:03.993 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:58:03.993 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:58:03.993 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:58:03.993 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 15:58:03.993 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:58:03.993 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:58:04.010 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:58:04.012 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:58:04.014 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:58:04.016 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:58:04.016 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:58:04.016 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:58:04.018 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:58:04.019 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:58:04.019 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:58:04.020 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 15:58:04.020 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 15:58:04.021 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:58:04.021 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:58:04.021 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:58:04.025 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 15:58:04.025 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:58:04.025 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:58:04.025 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:58:04.025 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:58:04.025 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:58:04.025 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:58:04.025 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:58:04.025 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:58:04.025 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:58:04.038 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 15:58:04.043 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:58:04.045 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:58:04.049 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:58:04.051 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:58:04.052 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:58:04.054 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:58:04.056 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:58:04.058 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:58:04.058 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:58:04.062 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:58:04.064 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:58:04.068 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:58:04.069 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:58:04.069 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:58:04.070 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:58:04.075 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:58:04.079 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:58:04.079 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 15:58:04.209 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/clientes
2025-11-10 15:58:04.229 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/clientes
2025-11-10 15:58:04.232 [main] WARN  [42eb0b16bf94492b] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 15:58:04.399 [main] DEBUG [42eb0b16bf94492b] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 15:58:04.441 [main] DEBUG [42eb0b16bf94492b] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:58:04.487 [main] DEBUG [42eb0b16bf94492b] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 15:58:04.639 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 15:58:04.639 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:58:04.639 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:58:04.639 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:58:04.639 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:58:04.651 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 15:58:04.651 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:58:04.656 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 15:58:04.656 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:58:04.656 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:58:04.664 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:58:04.664 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:58:04.669 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:58:04.672 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 15:58:04.675 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 15:58:04.675 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/clientes/8
2025-11-10 15:58:04.675 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/clientes/8
2025-11-10 15:58:04.675 [main] WARN  [10e920a831d84f3a] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 15:58:04.694 [main] DEBUG [10e920a831d84f3a] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 15:58:04.704 [main] DEBUG [10e920a831d84f3a] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 15:58:04.704 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 15:58:04.704 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:58:04.720 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:58:04.724 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 15:58:04.726 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:58:04.727 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 15:58:04.727 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:58:04.727 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:58:04.727 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:58:04.727 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:58:04.735 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:58:04.737 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 15:58:04.744 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing PUT /api/clientes/6
2025-11-10 15:58:04.744 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured PUT /api/clientes/6
2025-11-10 15:58:04.744 [main] WARN  [b7f04d0296904b1c] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 15:58:04.744 [main] DEBUG [b7f04d0296904b1c] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 15:58:04.770 [main] DEBUG [b7f04d0296904b1c] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 15:58:04.792 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 15:58:04.795 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:58:04.799 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:58:04.803 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 15:58:04.805 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:58:04.807 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 15:58:04.809 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:58:04.811 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:58:04.811 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:58:04.813 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:58:04.815 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:58:04.820 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 15:58:04.824 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 15:58:04.831 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/clientes/110
2025-11-10 15:58:04.831 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/clientes/110
2025-11-10 15:58:04.835 [main] WARN  [b68c90e8fd5b47b4] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 15:58:04.837 [main] DEBUG [b68c90e8fd5b47b4] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 15:58:04.842 [main] DEBUG [b68c90e8fd5b47b4] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 15:58:04.859 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 15:58:04.861 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 15:58:04.865 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 15:58:04.869 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 15:58:04.875 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 15:58:04.879 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 15:58:04.882 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 15:58:04.882 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 15:58:04.882 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 15:58:04.886 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 15:58:04.890 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 15:58:04.892 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 15:58:04.895 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/clientes
2025-11-10 15:58:04.902 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/clientes
2025-11-10 15:58:04.902 [main] WARN  [65bf118ec1104e12] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 15:58:04.927 [main] DEBUG [65bf118ec1104e12] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 15:58:05.351 [SpringApplicationShutdownHook] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 15:58:05.351 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 15:58:05.353 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 15:58:05.355 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 15:58:05.355 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 15:58:05.355 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 15:58:05.355 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 15:58:05.357 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 15:58:05.359 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 16:04:17.963 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 21236 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 16:04:17.963 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 16:04:17.963 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 16:04:19.803 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 16:04:19.803 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 16:04:19.970 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 153 ms. Found 5 JPA repository interfaces.
2025-11-10 16:04:19.985 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 16:04:20.002 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 16:04:20.023 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:04:20.023 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:04:20.023 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:04:20.023 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:04:20.023 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:04:20.023 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2025-11-10 16:04:21.835 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 16:04:21.891 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 16:04:22.111 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 16:04:22.111 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 16:04:22.136 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 16:04:23.387 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 16:04:23.387 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 16:04:23.387 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 16:04:23.387 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 16:04:23.387 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 16:04:23.387 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 16:04:23.402 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 16:04:23.406 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 16:04:23.406 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 16:04:23.406 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 16:04:23.406 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 16:04:23.418 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 16:04:23.420 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 16:04:23.420 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 16:04:23.420 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 16:04:23.420 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 16:04:23.420 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 16:04:23.439 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 16:04:23.806 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 16:04:25.299 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 16:04:25.299 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 16:04:25.492 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 16:04:27.153 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 16:04:27.268 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 16:04:27.268 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 16:04:27.268 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 16:04:27.284 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 16 ms
2025-11-10 16:04:27.375 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Started ClienteControllerIT in 9.856 seconds (process running for 10.683)
2025-11-10 16:04:27.511 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 16:04:27.604 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:04:27.639 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:04:27.643 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 16:04:27.647 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:04:27.647 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:04:27.701 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 16:04:27.724 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 16:04:27.737 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 16:04:27.746 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 16:04:27.749 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 16:04:27.749 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 16:04:27.749 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 16:04:27.791 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:04:27.793 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:04:27.804 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:04:27.819 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:04:27.820 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:04:27.820 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:04:27.820 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:04:27.820 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:04:27.820 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:04:27.837 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:04:27.837 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:04:27.837 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:04:27.837 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:04:27.844 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:04:27.844 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:04:27.844 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:04:27.844 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:04:27.844 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:04:27.844 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:04:27.844 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:04:27.844 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:04:27.844 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:04:27.844 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:04:27.853 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:04:27.853 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:04:27.853 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:04:27.853 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:04:27.853 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:04:27.853 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:04:27.853 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:04:27.853 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:04:27.853 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:04:27.853 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:04:27.853 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:04:27.853 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:04:27.853 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:04:27.869 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:04:27.869 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:04:27.869 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:04:27.873 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:04:27.873 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:04:27.875 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:04:27.875 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:04:27.875 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:04:27.877 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:04:27.877 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:04:27.877 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:04:27.877 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:04:27.877 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:04:27.877 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:04:27.877 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:04:27.887 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:04:27.920 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:04:27.967 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/clientes/106
2025-11-10 16:04:27.986 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/clientes/106
2025-11-10 16:04:28.002 [main] WARN  [dead3de076d840a8] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:04:28.021 [main] DEBUG [dead3de076d840a8] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 16:04:28.119 [main] DEBUG [dead3de076d840a8] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:04:28.297 [SpringApplicationShutdownHook] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 16:04:28.297 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 16:04:28.297 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 16:04:28.302 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 16:04:28.303 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 16:04:28.303 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 16:04:28.303 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 16:04:28.305 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 16:04:28.305 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 16:09:49.323 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 25736 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 16:09:49.323 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 16:09:49.323 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 16:09:50.836 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 16:09:50.840 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 16:09:51.027 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 172 ms. Found 5 JPA repository interfaces.
2025-11-10 16:09:51.041 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 16:09:51.041 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 16:09:51.072 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:09:51.072 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:09:51.075 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:09:51.075 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:09:51.075 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:09:51.075 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2025-11-10 16:09:52.905 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 16:09:52.956 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 16:09:53.189 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 16:09:53.189 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 16:09:53.227 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 16:09:54.339 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 16:09:54.339 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 16:09:54.339 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 16:09:54.339 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 16:09:54.339 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 16:09:54.339 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 16:09:54.349 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 16:09:54.349 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 16:09:54.349 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 16:09:54.349 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 16:09:54.364 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 16:09:54.364 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 16:09:54.364 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 16:09:54.364 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 16:09:54.364 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 16:09:54.380 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 16:09:54.380 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 16:09:54.380 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 16:09:54.822 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 16:09:56.269 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 16:09:56.269 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 16:09:56.476 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 16:09:58.080 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 16:09:58.189 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 16:09:58.189 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 16:09:58.189 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 16:09:58.199 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 10 ms
2025-11-10 16:09:58.300 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Started ClienteControllerIT in 9.43 seconds (process running for 10.308)
2025-11-10 16:09:58.434 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 16:09:58.533 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:09:58.565 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:09:58.575 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 16:09:58.581 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:09:58.581 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:09:58.647 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 16:09:58.667 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 16:09:58.667 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 16:09:58.683 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 16:09:58.683 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 16:09:58.699 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 16:09:58.699 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 16:09:58.733 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:09:58.740 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:09:58.743 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:09:58.763 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:09:58.765 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:09:58.765 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:09:58.768 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:09:58.768 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:09:58.768 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:09:58.776 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:09:58.776 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:09:58.784 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:09:58.786 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:09:58.786 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:09:58.786 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:09:58.786 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:09:58.786 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:09:58.791 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:09:58.791 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:09:58.793 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:09:58.793 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:09:58.793 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:09:58.793 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:09:58.797 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:09:58.803 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:09:58.803 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:09:58.803 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:09:58.803 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:09:58.803 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:09:58.803 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:09:58.803 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:09:58.803 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:09:58.803 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:09:58.809 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:09:58.809 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:09:58.809 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:09:58.809 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:09:58.809 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:09:58.818 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:09:58.819 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:09:58.819 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:09:58.821 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:09:58.821 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:09:58.821 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:09:58.824 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:09:58.824 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:09:58.824 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:09:58.824 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:09:58.824 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:09:58.824 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:09:58.824 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:09:58.824 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:09:58.853 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:09:58.898 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/clientes/106
2025-11-10 16:09:58.912 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/clientes/106
2025-11-10 16:09:58.912 [main] WARN  [559ae44d2d82412c] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:09:58.939 [main] DEBUG [559ae44d2d82412c] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 16:09:58.986 [main] DEBUG [559ae44d2d82412c] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:09:59.105 [SpringApplicationShutdownHook] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 16:09:59.105 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 16:09:59.105 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 16:09:59.115 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 16:09:59.115 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 16:09:59.118 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 16:09:59.119 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 16:09:59.119 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 16:09:59.125 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 16:12:19.572 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 18988 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 16:12:19.572 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 16:12:19.584 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 16:12:21.035 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 16:12:21.035 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 16:12:21.218 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 169 ms. Found 5 JPA repository interfaces.
2025-11-10 16:12:21.251 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 16:12:21.251 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 16:12:21.268 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:12:21.268 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:12:21.268 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:12:21.268 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:12:21.268 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:12:21.268 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-11-10 16:12:23.134 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 16:12:23.188 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 16:12:23.426 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 16:12:23.426 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 16:12:23.455 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 16:12:24.535 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 16:12:24.551 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 16:12:24.551 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 16:12:24.551 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 16:12:24.551 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 16:12:24.551 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 16:12:24.564 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 16:12:24.568 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 16:12:24.568 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 16:12:24.568 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 16:12:24.568 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 16:12:24.568 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 16:12:24.568 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 16:12:24.584 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 16:12:24.584 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 16:12:24.584 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 16:12:24.584 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 16:12:24.584 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 16:12:24.956 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 16:12:26.387 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 16:12:26.387 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 16:12:26.568 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 16:12:28.084 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 16:12:28.192 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 16:12:28.201 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 16:12:28.201 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 16:12:28.202 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-11-10 16:12:28.301 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Started ClienteControllerIT in 9.2 seconds (process running for 10.054)
2025-11-10 16:12:28.434 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 16:12:28.519 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:12:28.584 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:12:28.584 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 16:12:28.593 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:12:28.593 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:12:28.652 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 16:12:28.672 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 16:12:28.691 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 16:12:28.693 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 16:12:28.702 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 16:12:28.708 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 16:12:28.708 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 16:12:28.734 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:12:28.761 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:12:28.777 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:12:28.790 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:12:28.790 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:12:28.790 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:12:28.797 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:12:28.801 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:12:28.801 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:12:28.801 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:12:28.801 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:12:28.801 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:12:28.816 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:12:28.817 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:12:28.818 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:12:28.818 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:12:28.818 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:12:28.818 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:12:28.818 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:12:28.818 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:12:28.818 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:12:28.818 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:12:28.818 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:12:28.818 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:12:28.833 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:12:28.833 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:12:28.834 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:12:28.834 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:12:28.834 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:12:28.834 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:12:28.835 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:12:28.835 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:12:28.835 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:12:28.835 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:12:28.835 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:12:28.835 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:12:28.835 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:12:28.835 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:12:28.835 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:12:28.835 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:12:28.835 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:12:28.835 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:12:28.835 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:12:28.835 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:12:28.851 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:12:28.852 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:12:28.852 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:12:28.853 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:12:28.853 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:12:28.855 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:12:28.858 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:12:28.860 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:12:28.889 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:12:28.931 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/clientes/106
2025-11-10 16:12:28.957 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/clientes/106
2025-11-10 16:12:28.960 [main] WARN  [5fd0eda81499475b] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:12:28.984 [main] DEBUG [5fd0eda81499475b] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 16:12:29.036 [main] DEBUG [5fd0eda81499475b] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:12:29.159 [SpringApplicationShutdownHook] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 16:12:29.159 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 16:12:29.168 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 16:12:29.170 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 16:12:29.170 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 16:12:29.170 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 16:12:29.173 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 16:12:29.173 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 16:12:29.173 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 16:15:01.904 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 26788 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 16:15:01.904 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 16:15:01.904 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 16:15:03.344 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 16:15:03.344 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 16:15:03.515 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 152 ms. Found 5 JPA repository interfaces.
2025-11-10 16:15:03.535 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 16:15:03.538 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 16:15:03.556 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:15:03.556 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:15:03.556 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:15:03.556 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:15:03.556 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:15:03.556 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-11-10 16:15:05.478 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 16:15:05.519 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 16:15:05.750 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 16:15:05.750 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 16:15:05.781 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 16:15:06.932 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 16:15:06.936 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 16:15:06.936 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 16:15:06.936 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 16:15:06.936 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 16:15:06.936 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 16:15:06.936 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 16:15:06.948 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 16:15:06.948 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 16:15:06.948 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 16:15:06.948 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 16:15:06.948 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 16:15:06.948 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 16:15:06.967 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 16:15:06.967 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 16:15:06.967 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 16:15:06.967 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 16:15:06.978 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 16:15:07.360 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 16:15:08.686 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 16:15:08.696 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 16:15:08.872 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 16:15:10.449 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 16:15:10.572 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 16:15:10.574 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 16:15:10.574 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 16:15:10.574 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2025-11-10 16:15:10.664 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Started ClienteControllerIT in 9.177 seconds (process running for 9.974)
2025-11-10 16:15:10.783 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 16:15:10.886 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:15:10.934 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:15:10.934 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 16:15:10.945 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:15:10.950 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:15:11.013 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 16:15:11.033 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 16:15:11.052 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 16:15:11.052 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 16:15:11.065 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 16:15:11.069 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 16:15:11.069 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 16:15:11.101 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:15:11.108 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:15:11.119 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:15:11.122 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:15:11.122 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:15:11.135 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:15:11.135 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:15:11.135 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:15:11.135 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:15:11.135 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:15:11.154 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:15:11.159 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:15:11.159 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:15:11.159 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:15:11.159 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:15:11.161 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:15:11.161 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:15:11.161 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:15:11.161 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:15:11.161 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:15:11.161 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:15:11.165 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:15:11.165 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:15:11.170 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:15:11.170 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:15:11.170 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:15:11.170 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:15:11.170 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:15:11.170 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:15:11.170 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:15:11.170 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:15:11.170 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:15:11.170 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:15:11.181 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:15:11.184 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:15:11.186 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:15:11.186 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:15:11.189 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:15:11.189 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:15:11.189 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:15:11.189 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:15:11.189 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:15:11.189 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:15:11.189 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:15:11.189 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:15:11.189 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:15:11.189 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:15:11.189 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:15:11.189 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:15:11.189 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:15:11.201 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:15:11.204 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:15:11.234 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:15:11.275 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/clientes/106
2025-11-10 16:15:11.300 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/clientes/106
2025-11-10 16:15:11.300 [main] WARN  [ba4aafb9e4fc4188] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:15:11.332 [main] DEBUG [ba4aafb9e4fc4188] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 16:15:11.434 [main] DEBUG [ba4aafb9e4fc4188] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:15:11.554 [SpringApplicationShutdownHook] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 16:15:11.554 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 16:15:11.554 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 16:15:11.554 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 16:15:11.554 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 16:15:11.554 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 16:15:11.554 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 16:15:11.554 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 16:15:11.554 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 16:25:15.848 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 26312 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 16:25:15.849 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 16:25:15.850 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 16:25:17.236 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 16:25:17.239 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 16:25:17.394 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 144 ms. Found 5 JPA repository interfaces.
2025-11-10 16:25:17.413 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 16:25:17.415 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 16:25:17.437 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:25:17.438 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:25:17.439 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:25:17.440 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:25:17.440 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:25:17.440 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-11-10 16:25:19.385 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 16:25:19.443 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 16:25:19.680 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 16:25:19.684 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 16:25:19.719 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 16:25:20.855 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 16:25:20.859 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 16:25:20.860 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 16:25:20.860 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 16:25:20.861 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 16:25:20.861 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 16:25:20.868 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 16:25:20.879 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 16:25:20.881 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 16:25:20.883 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 16:25:20.885 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 16:25:20.886 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 16:25:20.887 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 16:25:20.898 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 16:25:20.900 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 16:25:20.901 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 16:25:20.903 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 16:25:20.908 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 16:25:21.313 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 16:25:22.737 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 16:25:22.737 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 16:25:22.923 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 16:25:24.459 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 16:25:24.582 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 16:25:24.584 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 16:25:24.585 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 16:25:24.587 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-11-10 16:25:24.682 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Started ClienteControllerIT in 9.29 seconds (process running for 10.115)
2025-11-10 16:25:24.825 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 16:25:24.910 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:25:24.971 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:25:24.975 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 16:25:24.979 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:25:24.981 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:25:25.042 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 16:25:25.067 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 16:25:25.078 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 16:25:25.087 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 16:25:25.092 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 16:25:25.098 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 16:25:25.104 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 16:25:25.131 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:25:25.137 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:25:25.147 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:25:25.158 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:25:25.159 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:25:25.161 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:25:25.163 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:25:25.164 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:25:25.166 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:25:25.172 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:25:25.175 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:25:25.178 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:25:25.180 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:25:25.181 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:25:25.182 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:25:25.184 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:25:25.184 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:25:25.185 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:25:25.185 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:25:25.186 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:25:25.187 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:25:25.188 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:25:25.188 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:25:25.193 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:25:25.197 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:25:25.198 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:25:25.199 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:25:25.199 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:25:25.200 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:25:25.200 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:25:25.201 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:25:25.201 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:25:25.201 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:25:25.206 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:25:25.208 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:25:25.210 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:25:25.212 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:25:25.213 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:25:25.214 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:25:25.215 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:25:25.216 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:25:25.216 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:25:25.217 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:25:25.218 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:25:25.219 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:25:25.220 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:25:25.220 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:25:25.220 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:25:25.220 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:25:25.223 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:25:25.225 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:25:25.227 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:25:25.338 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/clientes
2025-11-10 16:25:25.355 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/clientes
2025-11-10 16:25:25.356 [main] WARN  [fca21694098e485c] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:25:25.435 [main] DEBUG [fca21694098e485c] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 16:25:25.464 [main] DEBUG [fca21694098e485c] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:25:25.487 [main] DEBUG [fca21694098e485c] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:25:25.573 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:25:25.575 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:25:25.577 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:25:25.578 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:25:25.579 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:25:25.582 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:25:25.584 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:25:25.587 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:25:25.589 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:25:25.590 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:25:25.592 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:25:25.594 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:25:25.597 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:25:25.600 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:25:25.607 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:25:25.610 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/clientes/8
2025-11-10 16:25:25.612 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/clientes/8
2025-11-10 16:25:25.613 [main] WARN  [91ca5ac262c941f9] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:25:25.622 [main] DEBUG [91ca5ac262c941f9] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 16:25:25.627 [main] DEBUG [91ca5ac262c941f9] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:25:25.637 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:25:25.639 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:25:25.641 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:25:25.644 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:25:25.646 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:25:25.649 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:25:25.651 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:25:25.652 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:25:25.654 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:25:25.656 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:25:25.659 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:25:25.662 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:25:25.667 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing PUT /api/clientes/6
2025-11-10 16:25:25.669 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured PUT /api/clientes/6
2025-11-10 16:25:25.669 [main] WARN  [e5fd2a552af34f3a] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:25:25.672 [main] DEBUG [e5fd2a552af34f3a] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 16:25:25.689 [main] DEBUG [e5fd2a552af34f3a] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:25:25.708 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:25:25.710 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:25:25.712 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:25:25.715 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:25:25.717 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:25:25.719 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:25:25.720 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:25:25.722 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:25:25.724 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:25:25.725 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:25:25.728 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:25:25.731 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:25:25.737 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:25:25.742 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/clientes/110
2025-11-10 16:25:25.743 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/clientes/110
2025-11-10 16:25:25.744 [main] WARN  [a90dc94bc4cf4ba9] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:25:25.745 [main] DEBUG [a90dc94bc4cf4ba9] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 16:25:25.749 [main] DEBUG [a90dc94bc4cf4ba9] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:25:25.765 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:25:25.767 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:25:25.769 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:25:25.776 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:25:25.782 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:25:25.787 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:25:25.790 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:25:25.792 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:25:25.794 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:25:25.796 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:25:25.802 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:25:25.809 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:25:25.818 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/clientes
2025-11-10 16:25:25.820 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/clientes
2025-11-10 16:25:25.821 [main] WARN  [79a3d1e4e2de41e2] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:25:25.849 [main] DEBUG [79a3d1e4e2de41e2] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:25:25.892 [SpringApplicationShutdownHook] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 16:25:25.893 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 16:25:25.896 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 16:25:25.897 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 16:25:25.898 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 16:25:25.899 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 16:25:25.900 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 16:25:25.903 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 16:25:25.906 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 16:27:50.199 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 1896 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 16:27:50.199 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 16:27:50.199 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 16:27:51.685 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 16:27:51.685 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 16:27:51.852 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 161 ms. Found 5 JPA repository interfaces.
2025-11-10 16:27:51.877 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 16:27:51.882 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 16:27:51.902 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:27:51.902 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:27:51.902 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:27:51.902 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:27:51.902 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:27:51.902 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2025-11-10 16:27:53.782 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 16:27:53.842 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 16:27:54.059 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 16:27:54.059 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 16:27:54.098 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 16:27:55.188 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 16:27:55.201 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 16:27:55.201 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 16:27:55.201 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 16:27:55.201 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 16:27:55.201 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 16:27:55.207 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 16:27:55.214 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 16:27:55.217 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 16:27:55.217 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 16:27:55.217 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 16:27:55.217 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 16:27:55.217 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 16:27:55.230 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 16:27:55.230 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 16:27:55.230 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 16:27:55.230 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 16:27:55.230 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 16:27:55.644 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 16:27:57.274 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 16:27:57.278 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 16:27:57.467 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 16:27:59.017 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 16:27:59.119 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 16:27:59.124 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 16:27:59.128 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 16:27:59.128 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2025-11-10 16:27:59.233 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Started ClienteControllerIT in 9.451 seconds (process running for 10.261)
2025-11-10 16:27:59.367 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 16:27:59.470 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:27:59.517 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:27:59.525 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 16:27:59.529 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:27:59.537 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:27:59.595 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 16:27:59.611 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 16:27:59.627 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 16:27:59.632 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 16:27:59.641 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 16:27:59.642 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 16:27:59.651 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 16:27:59.686 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:27:59.693 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:27:59.703 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:27:59.718 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:27:59.718 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:27:59.718 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:27:59.718 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:27:59.718 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:27:59.718 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:27:59.733 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:27:59.735 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:27:59.735 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:27:59.739 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:27:59.739 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:27:59.739 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:27:59.739 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:27:59.739 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:27:59.744 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:27:59.744 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:27:59.744 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:27:59.744 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:27:59.744 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:27:59.744 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:27:59.751 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:27:59.751 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:27:59.751 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:27:59.751 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:27:59.751 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:27:59.751 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:27:59.751 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:27:59.751 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:27:59.751 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:27:59.751 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:27:59.763 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:27:59.766 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:27:59.767 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:27:59.770 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:27:59.770 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:27:59.770 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:27:59.770 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:27:59.770 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:27:59.770 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:27:59.770 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:27:59.770 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:27:59.770 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:27:59.770 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:27:59.770 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:27:59.770 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:27:59.770 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:27:59.770 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:27:59.770 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:27:59.770 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:27:59.908 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing PUT /api/clientes/6
2025-11-10 16:27:59.933 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured PUT /api/clientes/6
2025-11-10 16:27:59.936 [main] WARN  [d5aa3fc520d74f41] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:28:00.066 [main] DEBUG [d5aa3fc520d74f41] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 16:28:00.066 [main] DEBUG [d5aa3fc520d74f41] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 16:28:00.116 [main] DEBUG [d5aa3fc520d74f41] org.hibernate.SQL - /* update for com.deliverytech.delivery_api.model.Cliente */update cliente set ativo=?,data_criacao=?,email=?,endereco=?,nome=?,telefone=? where id=?
2025-11-10 16:28:00.132 [main] DEBUG [d5aa3fc520d74f41] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:28:00.256 [SpringApplicationShutdownHook] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 16:28:00.256 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 16:28:00.266 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 16:28:00.267 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 16:28:00.267 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 16:28:00.267 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 16:28:00.267 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 16:28:00.267 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 16:28:00.267 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 16:33:22.898 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 24172 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 16:33:22.900 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 16:33:22.900 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 16:33:24.316 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 16:33:24.316 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 16:33:24.498 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 170 ms. Found 5 JPA repository interfaces.
2025-11-10 16:33:24.516 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 16:33:24.516 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 16:33:24.532 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:33:24.532 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:33:24.532 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:33:24.532 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:33:24.532 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:33:24.532 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2025-11-10 16:33:26.466 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 16:33:26.516 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 16:33:26.733 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 16:33:26.750 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 16:33:26.783 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 16:33:27.882 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 16:33:27.882 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 16:33:27.882 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 16:33:27.882 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 16:33:27.897 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 16:33:27.897 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 16:33:27.900 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 16:33:27.900 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 16:33:27.900 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 16:33:27.916 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 16:33:27.916 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 16:33:27.916 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 16:33:27.916 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 16:33:27.916 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 16:33:27.932 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 16:33:27.932 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 16:33:27.932 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 16:33:27.932 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 16:33:28.335 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 16:33:29.749 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 16:33:29.749 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 16:33:29.934 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 16:33:31.534 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 16:33:31.654 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 16:33:31.656 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 16:33:31.656 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 16:33:31.658 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-11-10 16:33:31.749 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Started ClienteControllerIT in 9.283 seconds (process running for 10.129)
2025-11-10 16:33:31.906 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 16:33:31.999 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:33:32.032 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:33:32.043 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 16:33:32.043 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:33:32.049 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:33:32.137 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 16:33:32.166 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 16:33:32.182 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 16:33:32.191 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 16:33:32.194 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 16:33:32.201 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 16:33:32.206 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 16:33:32.240 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:33:32.251 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:33:32.259 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:33:32.277 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:33:32.277 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:33:32.279 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:33:32.282 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:33:32.284 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:33:32.284 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:33:32.288 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:33:32.294 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:33:32.300 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:33:32.300 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:33:32.300 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:33:32.300 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:33:32.300 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:33:32.307 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:33:32.307 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:33:32.307 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:33:32.307 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:33:32.307 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:33:32.311 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:33:32.311 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:33:32.311 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:33:32.429 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/clientes
2025-11-10 16:33:32.450 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/clientes
2025-11-10 16:33:32.458 [main] WARN  [e773405c45024284] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:33:32.582 [main] DEBUG [e773405c45024284] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:33:32.582 [main] DEBUG [e773405c45024284] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:33:32.582 [main] DEBUG [e773405c45024284] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:33:32.582 [main] DEBUG [e773405c45024284] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:33:32.589 [main] DEBUG [e773405c45024284] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:33:32.589 [main] DEBUG [e773405c45024284] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:33:32.589 [main] DEBUG [e773405c45024284] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:33:32.589 [main] DEBUG [e773405c45024284] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:33:32.589 [main] DEBUG [e773405c45024284] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:33:32.592 [main] DEBUG [e773405c45024284] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:33:32.592 [main] DEBUG [e773405c45024284] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:33:32.592 [main] DEBUG [e773405c45024284] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:33:32.595 [main] DEBUG [e773405c45024284] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:33:32.595 [main] DEBUG [e773405c45024284] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:33:32.595 [main] DEBUG [e773405c45024284] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:33:32.595 [main] DEBUG [e773405c45024284] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:33:32.595 [main] DEBUG [e773405c45024284] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:33:32.595 [main] DEBUG [e773405c45024284] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:33:32.597 [main] DEBUG [e773405c45024284] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:33:32.597 [main] DEBUG [e773405c45024284] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:33:32.598 [main] DEBUG [e773405c45024284] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:33:32.599 [main] DEBUG [e773405c45024284] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:33:32.599 [main] DEBUG [e773405c45024284] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:33:32.599 [main] DEBUG [e773405c45024284] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:33:32.599 [main] DEBUG [e773405c45024284] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:33:32.599 [main] DEBUG [e773405c45024284] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:33:32.599 [main] DEBUG [e773405c45024284] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:33:32.599 [main] DEBUG [e773405c45024284] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:33:32.599 [main] DEBUG [e773405c45024284] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 16:33:32.634 [main] DEBUG [e773405c45024284] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:33:32.653 [main] DEBUG [e773405c45024284] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:33:32.741 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:33:32.741 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:33:32.746 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:33:32.748 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:33:32.750 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:33:32.752 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:33:32.753 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:33:32.756 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:33:32.756 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:33:32.756 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:33:32.765 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:33:32.767 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:33:32.767 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:33:32.770 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:33:32.770 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:33:32.770 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:33:32.774 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:33:32.774 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:33:32.774 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:33:32.774 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:33:32.774 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:33:32.774 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:33:32.774 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:33:32.782 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:33:32.787 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:33:32.787 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:33:32.787 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:33:32.787 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:33:32.787 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:33:32.787 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:33:32.787 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:33:32.794 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:33:32.794 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:33:32.794 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:33:32.794 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:33:32.796 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:33:32.796 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:33:32.796 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:33:32.796 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:33:32.798 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:33:32.798 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:33:32.798 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:33:32.799 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:33:32.799 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:33:32.799 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:33:32.799 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:33:32.799 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:33:32.799 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:33:32.799 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:33:32.799 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:33:32.799 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:33:32.799 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:33:32.799 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:33:32.799 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/clientes/8
2025-11-10 16:33:32.799 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/clientes/8
2025-11-10 16:33:32.809 [main] WARN  [029c04c6b564475f] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:33:32.816 [main] DEBUG [029c04c6b564475f] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:33:32.829 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:33:32.833 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:33:32.835 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:33:32.836 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:33:32.837 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:33:32.839 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:33:32.839 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:33:32.839 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:33:32.839 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:33:32.845 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:33:32.850 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:33:32.851 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:33:32.852 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:33:32.852 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:33:32.852 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:33:32.852 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:33:32.852 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:33:32.852 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:33:32.852 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:33:32.852 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:33:32.852 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:33:32.852 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:33:32.863 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:33:32.865 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:33:32.867 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing PUT /api/clientes/6
2025-11-10 16:33:32.867 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured PUT /api/clientes/6
2025-11-10 16:33:32.867 [main] WARN  [26d1467bc1744e45] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:33:32.876 [main] DEBUG [26d1467bc1744e45] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 16:33:32.892 [main] DEBUG [26d1467bc1744e45] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:33:32.914 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:33:32.916 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:33:32.918 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:33:32.920 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:33:32.922 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:33:32.923 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:33:32.924 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:33:32.925 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:33:32.926 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:33:32.928 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:33:32.935 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:33:32.936 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:33:32.938 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:33:32.938 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:33:32.938 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:33:32.938 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:33:32.938 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:33:32.938 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:33:32.938 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:33:32.938 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:33:32.938 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:33:32.938 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:33:32.951 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:33:32.953 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:33:32.959 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:33:32.959 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:33:32.961 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:33:32.961 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:33:32.961 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:33:32.961 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:33:32.961 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:33:32.963 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:33:32.963 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:33:32.963 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:33:32.963 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:33:32.963 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:33:32.963 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:33:32.963 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:33:32.966 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:33:32.968 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:33:32.968 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:33:32.968 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:33:32.968 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:33:32.968 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:33:32.968 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:33:32.968 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:33:32.970 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:33:32.972 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:33:32.974 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:33:32.974 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:33:32.974 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:33:32.976 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:33:32.976 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:33:32.992 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/clientes/110
2025-11-10 16:33:32.992 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/clientes/110
2025-11-10 16:33:32.992 [main] WARN  [475f794c190749ac] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:33:32.997 [main] DEBUG [475f794c190749ac] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 16:33:32.999 [main] DEBUG [475f794c190749ac] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:33:33.020 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:33:33.020 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:33:33.020 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:33:33.020 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:33:33.020 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:33:33.020 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:33:33.020 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:33:33.032 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:33:33.033 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:33:33.035 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:33:33.039 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:33:33.039 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:33:33.039 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:33:33.039 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:33:33.039 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:33:33.039 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:33:33.039 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:33:33.039 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:33:33.039 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:33:33.039 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:33:33.039 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:33:33.039 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:33:33.048 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:33:33.050 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:33:33.054 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/clientes
2025-11-10 16:33:33.055 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/clientes
2025-11-10 16:33:33.055 [main] WARN  [c0b422e991904db2] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:33:33.069 [main] DEBUG [c0b422e991904db2] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:33:33.119 [SpringApplicationShutdownHook] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 16:33:33.119 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 16:33:33.119 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 16:33:33.119 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 16:33:33.119 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 16:33:33.119 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 16:33:33.119 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 16:33:33.119 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 16:33:33.134 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 16:38:28.067 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 22996 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 16:38:28.081 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 16:38:28.082 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 16:38:29.442 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 16:38:29.444 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 16:38:29.606 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 155 ms. Found 5 JPA repository interfaces.
2025-11-10 16:38:29.631 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 16:38:29.631 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 16:38:29.649 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:38:29.649 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:38:29.649 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:38:29.649 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:38:29.649 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:38:29.649 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2025-11-10 16:38:31.482 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 16:38:31.532 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 16:38:31.757 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 16:38:31.759 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 16:38:31.801 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 16:38:33.031 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 16:38:33.031 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 16:38:33.031 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 16:38:33.031 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 16:38:33.031 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 16:38:33.031 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 16:38:33.031 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 16:38:33.047 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 16:38:33.047 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 16:38:33.047 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 16:38:33.047 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 16:38:33.047 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 16:38:33.047 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 16:38:33.063 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 16:38:33.063 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 16:38:33.063 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 16:38:33.063 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 16:38:33.063 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 16:38:33.429 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 16:38:34.915 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 16:38:34.915 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 16:38:35.083 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 16:38:36.650 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 16:38:36.773 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 16:38:36.773 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 16:38:36.773 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 16:38:36.779 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 6 ms
2025-11-10 16:38:36.865 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Started ClienteControllerIT in 9.216 seconds (process running for 10.007)
2025-11-10 16:38:37.015 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 16:38:37.114 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:38:37.166 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:38:37.173 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 16:38:37.177 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:38:37.183 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:38:37.230 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 16:38:37.256 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 16:38:37.266 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 16:38:37.266 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 16:38:37.282 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 16:38:37.282 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 16:38:37.282 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 16:38:37.315 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:38:37.337 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:38:37.340 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:38:37.363 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:38:37.365 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:38:37.365 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:38:37.365 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:38:37.371 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:38:37.371 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:38:37.375 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:38:37.381 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:38:37.381 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:38:37.381 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:38:37.381 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:38:37.381 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:38:37.391 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:38:37.391 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:38:37.391 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:38:37.393 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:38:37.393 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:38:37.393 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:38:37.393 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:38:37.398 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:38:37.399 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:38:37.516 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/clientes
2025-11-10 16:38:37.532 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/clientes
2025-11-10 16:38:37.548 [main] WARN  [f449c502106c47a1] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:38:37.667 [main] DEBUG [f449c502106c47a1] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:38:37.667 [main] DEBUG [f449c502106c47a1] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:38:37.667 [main] DEBUG [f449c502106c47a1] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:38:37.667 [main] DEBUG [f449c502106c47a1] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:38:37.682 [main] DEBUG [f449c502106c47a1] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:38:37.682 [main] DEBUG [f449c502106c47a1] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:38:37.682 [main] DEBUG [f449c502106c47a1] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:38:37.682 [main] DEBUG [f449c502106c47a1] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:38:37.682 [main] DEBUG [f449c502106c47a1] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:38:37.682 [main] DEBUG [f449c502106c47a1] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:38:37.682 [main] DEBUG [f449c502106c47a1] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:38:37.682 [main] DEBUG [f449c502106c47a1] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:38:37.682 [main] DEBUG [f449c502106c47a1] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:38:37.682 [main] DEBUG [f449c502106c47a1] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:38:37.682 [main] DEBUG [f449c502106c47a1] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:38:37.682 [main] DEBUG [f449c502106c47a1] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:38:37.682 [main] DEBUG [f449c502106c47a1] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:38:37.682 [main] DEBUG [f449c502106c47a1] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:38:37.682 [main] DEBUG [f449c502106c47a1] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:38:37.682 [main] DEBUG [f449c502106c47a1] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:38:37.682 [main] DEBUG [f449c502106c47a1] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:38:37.682 [main] DEBUG [f449c502106c47a1] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:38:37.682 [main] DEBUG [f449c502106c47a1] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:38:37.682 [main] DEBUG [f449c502106c47a1] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:38:37.682 [main] DEBUG [f449c502106c47a1] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:38:37.682 [main] DEBUG [f449c502106c47a1] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:38:37.682 [main] DEBUG [f449c502106c47a1] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:38:37.682 [main] DEBUG [f449c502106c47a1] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:38:37.682 [main] DEBUG [f449c502106c47a1] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 16:38:37.716 [main] DEBUG [f449c502106c47a1] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:38:37.738 [main] DEBUG [f449c502106c47a1] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:38:37.837 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:38:37.837 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:38:37.837 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:38:37.848 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:38:37.851 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:38:37.852 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:38:37.854 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:38:37.856 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:38:37.857 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:38:37.857 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:38:37.867 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:38:37.869 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:38:37.869 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:38:37.869 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:38:37.869 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:38:37.869 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:38:37.869 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:38:37.869 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:38:37.869 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:38:37.869 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:38:37.869 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:38:37.869 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:38:37.882 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:38:37.883 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:38:37.883 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:38:37.883 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:38:37.883 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:38:37.883 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:38:37.883 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:38:37.883 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:38:37.883 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:38:37.883 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:38:37.898 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:38:37.898 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:38:37.898 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:38:37.898 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:38:37.898 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:38:37.898 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:38:37.898 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:38:37.898 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:38:37.898 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:38:37.898 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:38:37.898 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:38:37.898 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:38:37.898 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:38:37.898 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:38:37.898 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:38:37.898 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:38:37.898 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:38:37.898 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:38:37.898 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:38:37.898 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:38:37.898 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:38:37.898 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/clientes/8
2025-11-10 16:38:37.898 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/clientes/8
2025-11-10 16:38:37.898 [main] WARN  [37b1791da35e41d1] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:38:37.914 [main] DEBUG [37b1791da35e41d1] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:38:37.934 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:38:37.936 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:38:37.938 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:38:37.939 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:38:37.941 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:38:37.941 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:38:37.941 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:38:37.941 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:38:37.948 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:38:37.951 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:38:37.956 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:38:37.957 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:38:37.958 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:38:37.958 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:38:37.958 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:38:37.958 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:38:37.958 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:38:37.965 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:38:37.970 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:38:37.970 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:38:37.970 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:38:37.970 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:38:37.970 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:38:37.970 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:38:37.982 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing PUT /api/clientes/4
2025-11-10 16:38:37.984 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured PUT /api/clientes/4
2025-11-10 16:38:37.984 [main] WARN  [66d2e82affc744b9] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:38:37.999 [main] DEBUG [66d2e82affc744b9] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:38:38.014 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:38:38.014 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:38:38.014 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:38:38.014 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:38:38.014 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:38:38.014 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:38:38.014 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:38:38.029 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:38:38.032 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:38:38.036 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:38:38.037 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:38:38.037 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:38:38.037 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:38:38.037 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:38:38.037 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:38:38.037 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:38:38.037 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:38:38.048 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:38:38.049 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:38:38.051 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:38:38.051 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:38:38.051 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:38:38.051 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:38:38.051 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:38:38.051 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:38:38.065 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:38:38.065 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:38:38.065 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:38:38.065 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:38:38.065 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:38:38.065 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:38:38.065 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:38:38.065 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:38:38.065 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:38:38.065 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:38:38.073 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:38:38.073 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:38:38.073 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:38:38.073 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:38:38.073 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:38:38.073 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:38:38.073 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:38:38.073 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:38:38.073 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:38:38.073 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:38:38.073 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:38:38.073 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:38:38.073 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:38:38.073 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:38:38.073 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:38:38.073 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:38:38.073 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:38:38.073 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:38:38.081 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/clientes/110
2025-11-10 16:38:38.083 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/clientes/110
2025-11-10 16:38:38.083 [main] WARN  [275215f27b2840d0] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:38:38.083 [main] DEBUG [275215f27b2840d0] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 16:38:38.083 [main] DEBUG [275215f27b2840d0] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:38:38.101 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:38:38.101 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:38:38.108 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:38:38.110 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:38:38.112 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:38:38.124 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:38:38.126 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:38:38.132 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:38:38.134 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:38:38.140 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:38:38.148 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:38:38.153 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:38:38.155 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:38:38.155 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:38:38.159 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:38:38.159 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:38:38.161 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:38:38.163 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:38:38.164 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:38:38.164 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:38:38.164 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:38:38.164 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:38:38.164 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:38:38.164 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:38:38.177 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/clientes
2025-11-10 16:38:38.177 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/clientes
2025-11-10 16:38:38.177 [main] WARN  [7da9e211c89a4c50] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:38:38.203 [main] DEBUG [7da9e211c89a4c50] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:38:38.238 [SpringApplicationShutdownHook] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 16:38:38.238 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 16:38:38.250 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 16:38:38.250 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 16:38:38.251 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 16:38:38.251 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 16:38:38.251 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 16:38:38.251 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 16:38:38.251 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 16:39:01.317 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 24416 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 16:39:01.317 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 16:39:01.317 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 16:39:02.732 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 16:39:02.737 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 16:39:02.931 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 178 ms. Found 5 JPA repository interfaces.
2025-11-10 16:39:02.943 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 16:39:02.947 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 16:39:02.966 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:39:02.966 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:39:02.966 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:39:02.966 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:39:02.966 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:39:02.966 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-11-10 16:39:04.793 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 16:39:04.850 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 16:39:05.073 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 16:39:05.073 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 16:39:05.098 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 16:39:06.198 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 16:39:06.215 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 16:39:06.215 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 16:39:06.215 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 16:39:06.215 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 16:39:06.215 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 16:39:06.215 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 16:39:06.230 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 16:39:06.232 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 16:39:06.232 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 16:39:06.232 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 16:39:06.232 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 16:39:06.232 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 16:39:06.248 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 16:39:06.248 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 16:39:06.248 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 16:39:06.248 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 16:39:06.248 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 16:39:06.601 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 16:39:08.098 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 16:39:08.098 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 16:39:08.282 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 16:39:09.832 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 16:39:09.948 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 16:39:09.964 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 16:39:09.965 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 16:39:09.966 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-11-10 16:39:10.048 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Started ClienteControllerIT in 9.18 seconds (process running for 10.038)
2025-11-10 16:39:10.182 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 16:39:10.282 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:39:10.316 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:39:10.316 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 16:39:10.316 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:39:10.316 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:39:10.398 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 16:39:10.430 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 16:39:10.432 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 16:39:10.448 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 16:39:10.448 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 16:39:10.448 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 16:39:10.465 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 16:39:10.499 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:39:10.504 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:39:10.517 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:39:10.532 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:39:10.532 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:39:10.532 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:39:10.532 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:39:10.532 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:39:10.532 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:39:10.532 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:39:10.549 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:39:10.549 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:39:10.549 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:39:10.549 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:39:10.549 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:39:10.549 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:39:10.549 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:39:10.549 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:39:10.549 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:39:10.549 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:39:10.549 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:39:10.549 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:39:10.564 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:39:10.566 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:39:10.682 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing PUT /api/clientes/4
2025-11-10 16:39:10.699 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured PUT /api/clientes/4
2025-11-10 16:39:10.699 [main] WARN  [097b0fc32f524eb9] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:39:10.833 [main] DEBUG [097b0fc32f524eb9] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:39:10.920 [SpringApplicationShutdownHook] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 16:39:10.920 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 16:39:10.920 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 16:39:10.931 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 16:39:10.932 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 16:39:10.933 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 16:39:10.934 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 16:39:10.937 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 16:39:10.938 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 16:39:58.358 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 20756 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 16:39:58.358 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 16:39:58.364 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 16:39:59.736 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 16:39:59.736 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 16:39:59.932 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 182 ms. Found 5 JPA repository interfaces.
2025-11-10 16:39:59.949 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 16:39:59.949 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 16:39:59.965 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:39:59.965 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:39:59.965 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:39:59.965 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:39:59.965 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:39:59.965 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-11-10 16:40:01.780 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 16:40:01.830 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 16:40:02.091 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 16:40:02.091 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 16:40:02.130 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 16:40:03.281 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 16:40:03.281 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 16:40:03.281 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 16:40:03.281 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 16:40:03.281 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 16:40:03.281 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 16:40:03.297 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 16:40:03.297 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 16:40:03.297 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 16:40:03.297 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 16:40:03.297 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 16:40:03.297 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 16:40:03.297 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 16:40:03.313 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 16:40:03.313 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 16:40:03.313 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 16:40:03.313 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 16:40:03.329 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 16:40:03.735 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 16:40:05.045 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 16:40:05.045 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 16:40:05.264 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 16:40:06.796 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 16:40:06.921 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 16:40:06.923 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 16:40:06.925 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 16:40:06.925 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2025-11-10 16:40:07.031 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Started ClienteControllerIT in 9.083 seconds (process running for 9.907)
2025-11-10 16:40:07.160 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 16:40:07.249 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:40:07.282 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:40:07.290 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 16:40:07.290 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:40:07.297 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:40:07.364 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 16:40:07.399 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 16:40:07.399 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 16:40:07.415 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 16:40:07.415 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 16:40:07.426 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 16:40:07.431 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 16:40:07.454 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:40:07.466 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:40:07.470 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:40:07.470 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:40:07.470 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:40:07.482 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:40:07.484 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:40:07.484 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:40:07.484 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:40:07.484 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:40:07.484 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:40:07.484 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:40:07.484 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:40:07.499 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:40:07.499 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:40:07.499 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:40:07.499 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:40:07.499 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:40:07.499 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:40:07.499 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:40:07.499 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:40:07.499 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:40:07.499 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:40:07.499 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:40:07.598 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing PUT /api/clientes/5
2025-11-10 16:40:07.623 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured PUT /api/clientes/5
2025-11-10 16:40:07.623 [main] WARN  [f64d31d7c4764880] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:40:07.736 [main] DEBUG [f64d31d7c4764880] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:40:07.807 [SpringApplicationShutdownHook] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 16:40:07.807 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 16:40:07.815 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 16:40:07.815 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 16:40:07.815 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 16:40:07.815 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 16:40:07.815 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 16:40:07.821 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 16:40:07.821 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 16:40:22.393 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 13108 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 16:40:22.394 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 16:40:22.395 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 16:40:23.782 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 16:40:23.783 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 16:40:23.965 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 173 ms. Found 5 JPA repository interfaces.
2025-11-10 16:40:23.986 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 16:40:23.986 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 16:40:23.998 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:40:24.013 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:40:24.014 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:40:24.014 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:40:24.014 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:40:24.015 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-11-10 16:40:25.899 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 16:40:25.948 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 16:40:26.189 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 16:40:26.196 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 16:40:26.232 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 16:40:27.615 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 16:40:27.615 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 16:40:27.615 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 16:40:27.615 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 16:40:27.615 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 16:40:27.615 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 16:40:27.632 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 16:40:27.632 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 16:40:27.632 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 16:40:27.632 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 16:40:27.648 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 16:40:27.648 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 16:40:27.648 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 16:40:27.648 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 16:40:27.664 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 16:40:27.665 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 16:40:27.665 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 16:40:27.665 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 16:40:28.056 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 16:40:29.782 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 16:40:29.782 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 16:40:29.997 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 16:40:31.832 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 16:40:31.961 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 16:40:31.965 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 16:40:31.965 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 16:40:31.965 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2025-11-10 16:40:32.082 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Started ClienteControllerIT in 10.13 seconds (process running for 11.04)
2025-11-10 16:40:32.247 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 16:40:32.348 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:40:32.398 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:40:32.398 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 16:40:32.398 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:40:32.398 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:40:32.482 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 16:40:32.498 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 16:40:32.515 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 16:40:32.522 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 16:40:32.534 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 16:40:32.540 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 16:40:32.542 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 16:40:32.589 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:40:32.590 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:40:32.606 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:40:32.616 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:40:32.616 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:40:32.616 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:40:32.616 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:40:32.616 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:40:32.616 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:40:32.632 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:40:32.632 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:40:32.632 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:40:32.632 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:40:32.649 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:40:32.650 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:40:32.650 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:40:32.650 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:40:32.650 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:40:32.650 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:40:32.650 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:40:32.650 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:40:32.650 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:40:32.650 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:40:32.650 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:40:32.798 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing PUT /api/clientes/6
2025-11-10 16:40:32.832 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured PUT /api/clientes/6
2025-11-10 16:40:32.832 [main] WARN  [753850f019ed46af] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:40:32.991 [main] DEBUG [753850f019ed46af] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:40:32.999 [main] DEBUG [753850f019ed46af] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:40:33.002 [main] DEBUG [753850f019ed46af] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:40:33.004 [main] DEBUG [753850f019ed46af] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:40:33.004 [main] DEBUG [753850f019ed46af] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:40:33.004 [main] DEBUG [753850f019ed46af] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:40:33.004 [main] DEBUG [753850f019ed46af] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:40:33.004 [main] DEBUG [753850f019ed46af] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:40:33.004 [main] DEBUG [753850f019ed46af] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:40:33.004 [main] DEBUG [753850f019ed46af] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:40:33.004 [main] DEBUG [753850f019ed46af] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:40:33.004 [main] DEBUG [753850f019ed46af] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:40:33.004 [main] DEBUG [753850f019ed46af] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:40:33.004 [main] DEBUG [753850f019ed46af] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:40:33.004 [main] DEBUG [753850f019ed46af] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:40:33.004 [main] DEBUG [753850f019ed46af] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:40:33.004 [main] DEBUG [753850f019ed46af] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:40:33.004 [main] DEBUG [753850f019ed46af] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:40:33.004 [main] DEBUG [753850f019ed46af] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:40:33.004 [main] DEBUG [753850f019ed46af] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:40:33.004 [main] DEBUG [753850f019ed46af] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:40:33.004 [main] DEBUG [753850f019ed46af] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:40:33.004 [main] DEBUG [753850f019ed46af] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:40:33.014 [main] DEBUG [753850f019ed46af] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:40:33.015 [main] DEBUG [753850f019ed46af] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:40:33.015 [main] DEBUG [753850f019ed46af] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:40:33.016 [main] DEBUG [753850f019ed46af] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:40:33.016 [main] DEBUG [753850f019ed46af] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:40:33.017 [main] DEBUG [753850f019ed46af] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 16:40:33.073 [main] DEBUG [753850f019ed46af] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:40:33.219 [SpringApplicationShutdownHook] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 16:40:33.219 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 16:40:33.219 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 16:40:33.231 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 16:40:33.232 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 16:40:33.233 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 16:40:33.233 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 16:40:33.233 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 16:40:33.233 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 16:41:09.365 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 15500 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 16:41:09.366 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 16:41:09.366 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 16:41:10.831 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 16:41:10.831 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 16:41:11.015 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 177 ms. Found 5 JPA repository interfaces.
2025-11-10 16:41:11.031 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 16:41:11.031 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 16:41:11.048 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:41:11.062 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:41:11.062 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:41:11.062 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:41:11.062 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:41:11.064 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-11-10 16:41:12.982 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 16:41:13.015 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 16:41:13.235 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 16:41:13.247 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 16:41:13.282 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 16:41:14.466 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 16:41:14.481 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 16:41:14.482 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 16:41:14.482 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 16:41:14.482 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 16:41:14.482 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 16:41:14.482 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 16:41:14.482 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 16:41:14.499 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 16:41:14.500 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 16:41:14.500 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 16:41:14.500 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 16:41:14.500 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 16:41:14.500 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 16:41:14.515 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 16:41:14.515 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 16:41:14.515 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 16:41:14.515 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 16:41:14.982 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 16:41:16.690 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 16:41:16.698 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 16:41:16.915 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 16:41:18.832 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 16:41:18.983 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 16:41:18.983 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 16:41:18.983 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 16:41:18.990 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 7 ms
2025-11-10 16:41:19.115 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Started ClienteControllerIT in 10.166 seconds (process running for 10.98)
2025-11-10 16:41:19.265 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 16:41:19.383 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:41:19.433 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:41:19.433 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 16:41:19.442 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:41:19.446 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:41:19.520 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 16:41:19.548 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 16:41:19.565 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 16:41:19.573 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 16:41:19.581 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 16:41:19.584 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 16:41:19.590 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 16:41:19.630 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:41:19.638 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:41:19.650 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:41:19.665 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:41:19.665 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:41:19.665 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:41:19.665 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:41:19.673 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:41:19.673 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:41:19.682 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:41:19.684 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:41:19.684 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:41:19.684 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:41:19.684 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:41:19.684 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:41:19.699 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:41:19.699 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:41:19.699 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:41:19.699 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:41:19.699 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:41:19.699 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:41:19.699 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:41:19.699 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:41:19.699 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:41:19.865 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/clientes
2025-11-10 16:41:19.898 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/clientes
2025-11-10 16:41:19.898 [main] WARN  [cfe25577500841aa] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:41:20.058 [main] DEBUG [cfe25577500841aa] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:41:20.058 [main] DEBUG [cfe25577500841aa] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:41:20.064 [main] DEBUG [cfe25577500841aa] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:41:20.066 [main] DEBUG [cfe25577500841aa] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:41:20.067 [main] DEBUG [cfe25577500841aa] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:41:20.068 [main] DEBUG [cfe25577500841aa] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:41:20.069 [main] DEBUG [cfe25577500841aa] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:41:20.069 [main] DEBUG [cfe25577500841aa] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:41:20.069 [main] DEBUG [cfe25577500841aa] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:41:20.069 [main] DEBUG [cfe25577500841aa] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:41:20.069 [main] DEBUG [cfe25577500841aa] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:41:20.069 [main] DEBUG [cfe25577500841aa] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:41:20.069 [main] DEBUG [cfe25577500841aa] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:41:20.069 [main] DEBUG [cfe25577500841aa] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:41:20.069 [main] DEBUG [cfe25577500841aa] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:41:20.069 [main] DEBUG [cfe25577500841aa] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:41:20.069 [main] DEBUG [cfe25577500841aa] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:41:20.069 [main] DEBUG [cfe25577500841aa] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:41:20.069 [main] DEBUG [cfe25577500841aa] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:41:20.069 [main] DEBUG [cfe25577500841aa] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:41:20.069 [main] DEBUG [cfe25577500841aa] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:41:20.069 [main] DEBUG [cfe25577500841aa] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:41:20.069 [main] DEBUG [cfe25577500841aa] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:41:20.081 [main] DEBUG [cfe25577500841aa] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:41:20.082 [main] DEBUG [cfe25577500841aa] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:41:20.083 [main] DEBUG [cfe25577500841aa] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:41:20.083 [main] DEBUG [cfe25577500841aa] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:41:20.084 [main] DEBUG [cfe25577500841aa] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:41:20.084 [main] DEBUG [cfe25577500841aa] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 16:41:20.152 [main] DEBUG [cfe25577500841aa] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:41:20.184 [main] DEBUG [cfe25577500841aa] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:41:20.301 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:41:20.304 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:41:20.306 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:41:20.306 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:41:20.306 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:41:20.306 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:41:20.314 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:41:20.316 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:41:20.317 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:41:20.320 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:41:20.323 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:41:20.323 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:41:20.323 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:41:20.332 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:41:20.333 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:41:20.334 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:41:20.334 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:41:20.334 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:41:20.334 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:41:20.334 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:41:20.334 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:41:20.334 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:41:20.334 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:41:20.334 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:41:20.352 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:41:20.352 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:41:20.352 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:41:20.352 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:41:20.358 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:41:20.358 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:41:20.358 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:41:20.358 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:41:20.358 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:41:20.358 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:41:20.358 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:41:20.358 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:41:20.358 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:41:20.358 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:41:20.365 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:41:20.365 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:41:20.366 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:41:20.367 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:41:20.367 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:41:20.367 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:41:20.367 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:41:20.367 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:41:20.367 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:41:20.367 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:41:20.367 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:41:20.367 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:41:20.367 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:41:20.367 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:41:20.373 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:41:20.373 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/clientes/8
2025-11-10 16:41:20.373 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/clientes/8
2025-11-10 16:41:20.373 [main] WARN  [d41406fb88544f52] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:41:20.384 [main] DEBUG [d41406fb88544f52] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:41:20.401 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:41:20.401 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:41:20.414 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:41:20.416 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:41:20.417 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:41:20.420 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:41:20.422 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:41:20.423 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:41:20.423 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:41:20.423 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:41:20.433 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:41:20.436 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:41:20.436 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:41:20.436 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:41:20.440 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:41:20.440 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:41:20.442 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:41:20.442 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:41:20.442 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:41:20.445 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:41:20.445 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:41:20.448 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:41:20.451 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:41:20.451 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:41:20.451 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing PUT /api/clientes/6
2025-11-10 16:41:20.451 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured PUT /api/clientes/6
2025-11-10 16:41:20.451 [main] WARN  [9e4cebb5a93f4ddf] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:41:20.467 [main] DEBUG [9e4cebb5a93f4ddf] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 16:41:20.489 [main] DEBUG [9e4cebb5a93f4ddf] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:41:20.510 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:41:20.512 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:41:20.516 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:41:20.517 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:41:20.518 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:41:20.519 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:41:20.520 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:41:20.522 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:41:20.523 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:41:20.527 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:41:20.533 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:41:20.534 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:41:20.534 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:41:20.534 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:41:20.534 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:41:20.534 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:41:20.534 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:41:20.534 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:41:20.534 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:41:20.534 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:41:20.534 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:41:20.534 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:41:20.534 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:41:20.548 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:41:20.550 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:41:20.550 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:41:20.550 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:41:20.550 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:41:20.550 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:41:20.550 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:41:20.550 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:41:20.550 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:41:20.550 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:41:20.550 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:41:20.550 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:41:20.550 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:41:20.550 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:41:20.550 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:41:20.550 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:41:20.550 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:41:20.565 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:41:20.565 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:41:20.566 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:41:20.566 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:41:20.566 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:41:20.567 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:41:20.567 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:41:20.569 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:41:20.569 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:41:20.569 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:41:20.569 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:41:20.571 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:41:20.571 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:41:20.573 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/clientes/110
2025-11-10 16:41:20.573 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/clientes/110
2025-11-10 16:41:20.573 [main] WARN  [93cb5d6fd2744633] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:41:20.573 [main] DEBUG [93cb5d6fd2744633] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 16:41:20.582 [main] DEBUG [93cb5d6fd2744633] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:41:20.599 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:41:20.601 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:41:20.603 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:41:20.605 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:41:20.605 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:41:20.605 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:41:20.605 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:41:20.613 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:41:20.614 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:41:20.617 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:41:20.621 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:41:20.623 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:41:20.625 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:41:20.626 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:41:20.626 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:41:20.626 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:41:20.626 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:41:20.631 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:41:20.632 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:41:20.633 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:41:20.633 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:41:20.635 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:41:20.636 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:41:20.638 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:41:20.638 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/clientes
2025-11-10 16:41:20.638 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/clientes
2025-11-10 16:41:20.638 [main] WARN  [69059379b5714342] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:41:20.666 [main] DEBUG [69059379b5714342] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:41:20.716 [SpringApplicationShutdownHook] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 16:41:20.716 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 16:41:20.732 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 16:41:20.732 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 16:41:20.732 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 16:41:20.732 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 16:41:20.732 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 16:41:20.732 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 16:41:20.732 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 16:41:52.515 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 4184 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 16:41:52.515 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 16:41:52.515 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 16:41:53.898 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 16:41:53.900 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 16:41:54.065 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 155 ms. Found 5 JPA repository interfaces.
2025-11-10 16:41:54.081 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 16:41:54.081 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 16:41:54.098 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:41:54.098 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:41:54.098 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:41:54.098 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:41:54.098 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:41:54.098 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-11-10 16:41:55.898 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 16:41:55.948 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 16:41:56.174 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 16:41:56.177 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 16:41:56.200 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 16:41:57.398 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 16:41:57.415 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 16:41:57.415 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 16:41:57.415 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 16:41:57.415 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 16:41:57.415 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 16:41:57.415 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 16:41:57.430 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 16:41:57.432 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 16:41:57.432 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 16:41:57.432 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 16:41:57.432 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 16:41:57.432 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 16:41:57.448 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 16:41:57.448 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 16:41:57.448 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 16:41:57.448 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 16:41:57.448 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 16:41:57.872 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 16:41:59.566 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 16:41:59.566 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 16:41:59.782 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 16:42:01.685 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 16:42:01.819 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 16:42:01.819 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 16:42:01.819 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 16:42:01.819 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2025-11-10 16:42:01.963 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Started ClienteControllerIT in 9.857 seconds (process running for 10.724)
2025-11-10 16:42:02.156 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 16:42:02.269 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:42:02.298 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:42:02.315 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 16:42:02.315 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:42:02.315 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:42:02.426 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 16:42:02.454 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 16:42:02.465 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 16:42:02.477 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 16:42:02.481 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 16:42:02.481 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 16:42:02.481 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 16:42:02.541 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:42:02.549 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:42:02.556 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:42:02.575 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:42:02.577 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:42:02.581 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:42:02.582 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:42:02.582 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:42:02.582 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:42:02.590 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:42:02.598 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:42:02.601 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:42:02.601 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:42:02.606 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:42:02.606 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:42:02.608 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:42:02.608 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:42:02.608 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:42:02.608 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:42:02.608 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:42:02.614 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:42:02.616 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:42:02.616 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:42:02.616 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:42:02.777 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing PUT /api/clientes/6
2025-11-10 16:42:02.815 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured PUT /api/clientes/6
2025-11-10 16:42:02.815 [main] WARN  [adc3058b5e7d4f29] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:42:02.998 [main] DEBUG [adc3058b5e7d4f29] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:42:03.000 [main] DEBUG [adc3058b5e7d4f29] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:42:03.000 [main] DEBUG [adc3058b5e7d4f29] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:42:03.000 [main] DEBUG [adc3058b5e7d4f29] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:42:03.000 [main] DEBUG [adc3058b5e7d4f29] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:42:03.000 [main] DEBUG [adc3058b5e7d4f29] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:42:03.000 [main] DEBUG [adc3058b5e7d4f29] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:42:03.000 [main] DEBUG [adc3058b5e7d4f29] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:42:03.000 [main] DEBUG [adc3058b5e7d4f29] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:42:03.000 [main] DEBUG [adc3058b5e7d4f29] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:42:03.000 [main] DEBUG [adc3058b5e7d4f29] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:42:03.000 [main] DEBUG [adc3058b5e7d4f29] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:42:03.000 [main] DEBUG [adc3058b5e7d4f29] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:42:03.000 [main] DEBUG [adc3058b5e7d4f29] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:42:03.000 [main] DEBUG [adc3058b5e7d4f29] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:42:03.000 [main] DEBUG [adc3058b5e7d4f29] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:42:03.000 [main] DEBUG [adc3058b5e7d4f29] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:42:03.014 [main] DEBUG [adc3058b5e7d4f29] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:42:03.014 [main] DEBUG [adc3058b5e7d4f29] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:42:03.015 [main] DEBUG [adc3058b5e7d4f29] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:42:03.015 [main] DEBUG [adc3058b5e7d4f29] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:42:03.016 [main] DEBUG [adc3058b5e7d4f29] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:42:03.016 [main] DEBUG [adc3058b5e7d4f29] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:42:03.016 [main] DEBUG [adc3058b5e7d4f29] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:42:03.016 [main] DEBUG [adc3058b5e7d4f29] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:42:03.016 [main] DEBUG [adc3058b5e7d4f29] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:42:03.016 [main] DEBUG [adc3058b5e7d4f29] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:42:03.016 [main] DEBUG [adc3058b5e7d4f29] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:42:03.016 [main] DEBUG [adc3058b5e7d4f29] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 16:42:03.082 [main] DEBUG [adc3058b5e7d4f29] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:42:03.234 [SpringApplicationShutdownHook] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 16:42:03.234 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 16:42:03.249 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 16:42:03.251 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 16:42:03.252 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 16:42:03.252 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 16:42:03.252 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 16:42:03.253 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 16:42:03.253 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 16:43:21.948 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 7000 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 16:43:21.948 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 16:43:21.948 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 16:43:23.349 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 16:43:23.352 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 16:43:23.540 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 177 ms. Found 5 JPA repository interfaces.
2025-11-10 16:43:23.556 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 16:43:23.556 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 16:43:23.582 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:43:23.582 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:43:23.582 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:43:23.582 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:43:23.582 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:43:23.582 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-11-10 16:43:25.331 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 16:43:25.381 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 16:43:25.613 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 16:43:25.615 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 16:43:25.648 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 16:43:26.698 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 16:43:26.698 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 16:43:26.698 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 16:43:26.698 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 16:43:26.698 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 16:43:26.698 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 16:43:26.713 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 16:43:26.714 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 16:43:26.714 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 16:43:26.714 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 16:43:26.714 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 16:43:26.714 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 16:43:26.714 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 16:43:26.733 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 16:43:26.733 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 16:43:26.733 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 16:43:26.733 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 16:43:26.733 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 16:43:27.153 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 16:43:28.665 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 16:43:28.665 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 16:43:28.864 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 16:43:30.399 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 16:43:30.515 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 16:43:30.515 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 16:43:30.515 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 16:43:30.515 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2025-11-10 16:43:30.618 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Started ClienteControllerIT in 9.104 seconds (process running for 9.91)
2025-11-10 16:43:30.749 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 16:43:30.835 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:43:30.893 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:43:30.898 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 16:43:30.907 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:43:30.909 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:43:30.965 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 16:43:30.996 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 16:43:30.998 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 16:43:31.014 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 16:43:31.019 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 16:43:31.023 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 16:43:31.023 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 16:43:31.066 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:43:31.072 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:43:31.083 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:43:31.088 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:43:31.088 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:43:31.096 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:43:31.098 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:43:31.098 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:43:31.098 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:43:31.098 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:43:31.098 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:43:31.115 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:43:31.115 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:43:31.115 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:43:31.115 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:43:31.115 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:43:31.115 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:43:31.115 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:43:31.115 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:43:31.124 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:43:31.124 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:43:31.124 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:43:31.124 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:43:31.124 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:43:31.267 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/clientes
2025-11-10 16:43:31.298 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/clientes
2025-11-10 16:43:31.298 [main] WARN  [63a4c53fab084c03] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:43:31.422 [main] DEBUG [63a4c53fab084c03] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:43:31.431 [main] DEBUG [63a4c53fab084c03] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:43:31.431 [main] DEBUG [63a4c53fab084c03] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:43:31.431 [main] DEBUG [63a4c53fab084c03] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:43:31.431 [main] DEBUG [63a4c53fab084c03] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:43:31.431 [main] DEBUG [63a4c53fab084c03] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:43:31.437 [main] DEBUG [63a4c53fab084c03] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:43:31.437 [main] DEBUG [63a4c53fab084c03] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:43:31.437 [main] DEBUG [63a4c53fab084c03] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:43:31.437 [main] DEBUG [63a4c53fab084c03] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:43:31.437 [main] DEBUG [63a4c53fab084c03] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:43:31.437 [main] DEBUG [63a4c53fab084c03] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:43:31.437 [main] DEBUG [63a4c53fab084c03] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:43:31.437 [main] DEBUG [63a4c53fab084c03] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:43:31.437 [main] DEBUG [63a4c53fab084c03] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:43:31.437 [main] DEBUG [63a4c53fab084c03] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:43:31.437 [main] DEBUG [63a4c53fab084c03] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:43:31.437 [main] DEBUG [63a4c53fab084c03] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:43:31.437 [main] DEBUG [63a4c53fab084c03] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:43:31.437 [main] DEBUG [63a4c53fab084c03] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:43:31.437 [main] DEBUG [63a4c53fab084c03] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:43:31.437 [main] DEBUG [63a4c53fab084c03] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:43:31.437 [main] DEBUG [63a4c53fab084c03] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:43:31.437 [main] DEBUG [63a4c53fab084c03] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:43:31.446 [main] DEBUG [63a4c53fab084c03] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:43:31.447 [main] DEBUG [63a4c53fab084c03] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:43:31.448 [main] DEBUG [63a4c53fab084c03] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:43:31.448 [main] DEBUG [63a4c53fab084c03] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:43:31.448 [main] DEBUG [63a4c53fab084c03] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 16:43:31.475 [main] DEBUG [63a4c53fab084c03] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:43:31.501 [main] DEBUG [63a4c53fab084c03] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:43:31.583 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:43:31.588 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:43:31.589 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:43:31.589 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:43:31.589 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:43:31.589 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:43:31.589 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:43:31.598 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:43:31.599 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:43:31.602 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:43:31.604 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:43:31.604 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:43:31.604 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:43:31.604 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:43:31.604 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:43:31.615 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:43:31.616 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:43:31.617 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:43:31.618 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:43:31.619 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:43:31.620 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:43:31.620 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:43:31.623 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:43:31.625 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:43:31.633 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:43:31.633 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:43:31.633 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:43:31.633 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:43:31.633 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:43:31.633 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:43:31.633 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:43:31.633 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:43:31.640 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:43:31.640 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:43:31.640 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:43:31.640 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:43:31.640 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:43:31.640 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:43:31.640 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:43:31.640 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:43:31.640 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:43:31.640 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:43:31.640 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:43:31.640 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:43:31.640 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:43:31.640 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:43:31.640 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:43:31.648 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:43:31.648 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:43:31.648 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:43:31.648 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:43:31.648 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:43:31.648 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:43:31.648 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/clientes/8
2025-11-10 16:43:31.648 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/clientes/8
2025-11-10 16:43:31.648 [main] WARN  [cf6bcc2216e347a8] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:43:31.665 [main] DEBUG [cf6bcc2216e347a8] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:43:31.677 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:43:31.677 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:43:31.682 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:43:31.684 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:43:31.685 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:43:31.688 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:43:31.689 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:43:31.689 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:43:31.693 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:43:31.695 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:43:31.700 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:43:31.701 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:43:31.703 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:43:31.704 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:43:31.705 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:43:31.706 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:43:31.708 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:43:31.708 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:43:31.708 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:43:31.708 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:43:31.708 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:43:31.708 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:43:31.715 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:43:31.717 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:43:31.718 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing PUT /api/clientes/4
2025-11-10 16:43:31.718 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured PUT /api/clientes/4
2025-11-10 16:43:31.718 [main] WARN  [90137430f3ee4c36] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:43:31.740 [main] DEBUG [90137430f3ee4c36] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:43:31.752 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:43:31.752 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:43:31.764 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:43:31.766 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:43:31.767 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:43:31.768 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:43:31.768 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:43:31.769 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:43:31.769 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:43:31.771 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:43:31.773 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:43:31.773 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:43:31.773 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:43:31.773 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:43:31.773 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:43:31.773 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:43:31.782 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:43:31.783 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:43:31.783 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:43:31.783 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:43:31.783 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:43:31.783 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:43:31.783 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:43:31.783 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:43:31.789 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:43:31.789 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:43:31.789 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:43:31.789 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:43:31.789 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:43:31.789 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:43:31.789 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:43:31.789 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:43:31.789 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:43:31.789 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:43:31.789 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:43:31.789 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:43:31.789 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:43:31.797 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:43:31.798 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:43:31.798 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:43:31.798 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:43:31.801 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:43:31.801 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:43:31.801 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:43:31.801 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:43:31.801 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:43:31.801 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:43:31.801 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:43:31.801 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:43:31.801 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:43:31.801 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:43:31.801 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:43:31.801 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:43:31.801 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/clientes/110
2025-11-10 16:43:31.801 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/clientes/110
2025-11-10 16:43:31.801 [main] WARN  [93e6bd1d440644ad] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:43:31.801 [main] DEBUG [93e6bd1d440644ad] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 16:43:31.815 [main] DEBUG [93e6bd1d440644ad] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:43:31.831 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:43:31.831 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:43:31.831 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:43:31.831 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:43:31.831 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:43:31.831 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:43:31.839 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:43:31.839 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:43:31.839 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:43:31.839 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:43:31.839 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:43:31.839 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:43:31.839 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:43:31.846 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:43:31.847 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:43:31.848 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:43:31.848 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:43:31.849 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:43:31.849 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:43:31.850 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:43:31.850 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:43:31.851 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:43:31.852 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:43:31.854 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:43:31.854 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/clientes
2025-11-10 16:43:31.854 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/clientes
2025-11-10 16:43:31.854 [main] WARN  [65343ab32559483a] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:43:31.871 [main] DEBUG [65343ab32559483a] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:43:31.904 [SpringApplicationShutdownHook] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 16:43:31.904 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 16:43:31.915 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 16:43:31.916 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 16:43:31.916 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 16:43:31.917 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 16:43:31.917 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 16:43:31.918 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 16:43:31.918 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 16:45:19.585 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 19248 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 16:45:19.586 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 16:45:19.587 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 16:45:21.018 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 16:45:21.018 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 16:45:21.181 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 149 ms. Found 5 JPA repository interfaces.
2025-11-10 16:45:21.199 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 16:45:21.199 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 16:45:21.216 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:45:21.216 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:45:21.216 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:45:21.216 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:45:21.216 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:45:21.216 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-11-10 16:45:23.114 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 16:45:23.150 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 16:45:23.391 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 16:45:23.391 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 16:45:23.423 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 16:45:24.582 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 16:45:24.582 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 16:45:24.582 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 16:45:24.582 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 16:45:24.582 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 16:45:24.582 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 16:45:24.598 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 16:45:24.598 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 16:45:24.598 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 16:45:24.598 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 16:45:24.598 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 16:45:24.613 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 16:45:24.613 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 16:45:24.613 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 16:45:24.613 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 16:45:24.629 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 16:45:24.631 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 16:45:24.631 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 16:45:25.044 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 16:45:26.406 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 16:45:26.406 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 16:45:26.582 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 16:45:28.067 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 16:45:28.178 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 16:45:28.181 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 16:45:28.181 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 16:45:28.181 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2025-11-10 16:45:28.248 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Started ClienteControllerIT in 9.08 seconds (process running for 9.892)
2025-11-10 16:45:28.397 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 16:45:28.480 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:45:28.512 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:45:28.517 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 16:45:28.523 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:45:28.523 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:45:28.598 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 16:45:28.617 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 16:45:28.631 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 16:45:28.631 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 16:45:28.647 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 16:45:28.647 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 16:45:28.656 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 16:45:28.688 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:45:28.688 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:45:28.699 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:45:28.699 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:45:28.699 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:45:28.699 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:45:28.699 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:45:28.699 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:45:28.714 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:45:28.717 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:45:28.717 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:45:28.717 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:45:28.717 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:45:28.717 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:45:28.717 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:45:28.717 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:45:28.717 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:45:28.717 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:45:28.717 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:45:28.717 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:45:28.717 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:45:28.730 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:45:28.732 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:45:28.732 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:45:28.818 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/clientes
2025-11-10 16:45:28.830 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/clientes
2025-11-10 16:45:28.830 [main] WARN  [8d4dca70024242ad] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:45:28.926 [main] DEBUG [8d4dca70024242ad] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:45:28.929 [main] DEBUG [8d4dca70024242ad] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:45:28.932 [main] DEBUG [8d4dca70024242ad] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:45:28.932 [main] DEBUG [8d4dca70024242ad] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:45:28.934 [main] DEBUG [8d4dca70024242ad] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:45:28.934 [main] DEBUG [8d4dca70024242ad] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:45:28.934 [main] DEBUG [8d4dca70024242ad] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:45:28.934 [main] DEBUG [8d4dca70024242ad] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:45:28.934 [main] DEBUG [8d4dca70024242ad] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:45:28.934 [main] DEBUG [8d4dca70024242ad] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:45:28.934 [main] DEBUG [8d4dca70024242ad] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:45:28.934 [main] DEBUG [8d4dca70024242ad] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:45:28.934 [main] DEBUG [8d4dca70024242ad] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:45:28.934 [main] DEBUG [8d4dca70024242ad] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:45:28.934 [main] DEBUG [8d4dca70024242ad] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:45:28.934 [main] DEBUG [8d4dca70024242ad] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:45:28.934 [main] DEBUG [8d4dca70024242ad] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:45:28.934 [main] DEBUG [8d4dca70024242ad] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:45:28.934 [main] DEBUG [8d4dca70024242ad] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:45:28.934 [main] DEBUG [8d4dca70024242ad] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:45:28.934 [main] DEBUG [8d4dca70024242ad] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:45:28.934 [main] DEBUG [8d4dca70024242ad] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:45:28.934 [main] DEBUG [8d4dca70024242ad] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:45:28.939 [main] DEBUG [8d4dca70024242ad] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:45:28.939 [main] DEBUG [8d4dca70024242ad] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:45:28.939 [main] DEBUG [8d4dca70024242ad] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:45:28.939 [main] DEBUG [8d4dca70024242ad] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:45:28.939 [main] DEBUG [8d4dca70024242ad] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:45:28.939 [main] DEBUG [8d4dca70024242ad] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 16:45:28.964 [main] DEBUG [8d4dca70024242ad] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:45:28.978 [main] DEBUG [8d4dca70024242ad] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:45:29.081 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:45:29.081 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:45:29.088 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:45:29.088 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:45:29.088 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:45:29.088 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:45:29.094 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:45:29.094 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:45:29.097 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:45:29.100 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:45:29.104 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:45:29.105 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:45:29.107 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:45:29.107 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:45:29.107 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:45:29.107 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:45:29.107 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:45:29.107 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:45:29.114 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:45:29.115 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:45:29.116 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:45:29.118 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:45:29.118 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:45:29.118 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:45:29.125 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:45:29.125 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:45:29.127 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:45:29.127 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:45:29.127 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:45:29.127 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:45:29.127 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:45:29.127 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:45:29.127 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:45:29.127 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:45:29.132 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:45:29.132 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:45:29.132 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:45:29.132 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:45:29.135 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:45:29.135 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:45:29.135 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:45:29.135 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:45:29.135 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:45:29.135 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:45:29.135 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:45:29.135 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:45:29.135 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:45:29.137 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:45:29.137 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:45:29.137 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:45:29.137 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:45:29.137 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:45:29.140 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:45:29.140 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/clientes/8
2025-11-10 16:45:29.140 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/clientes/8
2025-11-10 16:45:29.140 [main] WARN  [d9dd6d06a4e04edb] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:45:29.154 [main] DEBUG [d9dd6d06a4e04edb] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:45:29.169 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:45:29.169 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:45:29.173 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:45:29.173 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:45:29.173 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:45:29.173 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:45:29.173 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:45:29.173 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:45:29.173 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:45:29.182 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:45:29.185 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:45:29.186 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:45:29.187 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:45:29.188 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:45:29.189 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:45:29.190 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:45:29.190 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:45:29.193 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:45:29.193 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:45:29.193 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:45:29.195 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:45:29.195 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:45:29.199 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:45:29.201 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:45:29.205 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing PUT /api/clientes/7
2025-11-10 16:45:29.205 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured PUT /api/clientes/7
2025-11-10 16:45:29.205 [main] WARN  [2e26e371a0974281] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:45:29.205 [main] DEBUG [2e26e371a0974281] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 16:45:29.221 [main] DEBUG [2e26e371a0974281] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:45:29.236 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:45:29.236 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:45:29.236 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:45:29.236 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:45:29.236 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:45:29.247 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:45:29.247 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:45:29.248 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:45:29.249 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:45:29.252 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:45:29.256 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:45:29.256 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:45:29.256 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:45:29.256 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:45:29.256 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:45:29.256 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:45:29.256 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:45:29.256 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:45:29.256 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:45:29.256 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:45:29.256 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:45:29.265 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:45:29.266 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:45:29.266 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:45:29.284 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:45:29.286 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:45:29.286 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:45:29.286 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:45:29.286 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:45:29.289 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:45:29.289 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:45:29.289 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:45:29.289 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:45:29.289 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:45:29.289 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:45:29.289 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:45:29.297 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:45:29.297 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:45:29.297 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:45:29.299 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:45:29.299 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:45:29.299 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:45:29.300 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:45:29.300 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:45:29.300 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:45:29.300 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:45:29.301 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:45:29.302 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:45:29.302 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:45:29.302 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:45:29.302 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:45:29.302 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:45:29.304 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:45:29.308 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/clientes/110
2025-11-10 16:45:29.308 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/clientes/110
2025-11-10 16:45:29.308 [main] WARN  [76840bf0ddc14f82] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:45:29.312 [main] DEBUG [76840bf0ddc14f82] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 16:45:29.316 [main] DEBUG [76840bf0ddc14f82] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:45:29.333 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:45:29.333 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:45:29.333 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:45:29.333 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:45:29.333 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:45:29.333 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:45:29.333 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:45:29.333 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:45:29.333 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:45:29.333 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:45:29.347 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:45:29.349 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:45:29.351 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:45:29.352 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:45:29.352 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:45:29.353 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:45:29.353 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:45:29.354 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:45:29.354 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:45:29.355 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:45:29.355 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:45:29.355 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:45:29.355 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:45:29.355 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:45:29.355 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/clientes
2025-11-10 16:45:29.355 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/clientes
2025-11-10 16:45:29.355 [main] WARN  [4ca53e37d0984e7b] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:45:29.366 [main] DEBUG [4ca53e37d0984e7b] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:45:29.404 [SpringApplicationShutdownHook] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 16:45:29.404 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 16:45:29.404 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 16:45:29.412 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 16:45:29.412 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 16:45:29.412 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 16:45:29.414 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 16:45:29.416 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 16:45:29.418 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 16:47:19.509 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 12616 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 16:47:19.510 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 16:47:19.511 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 16:47:20.907 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 16:47:20.909 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 16:47:21.095 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 172 ms. Found 5 JPA repository interfaces.
2025-11-10 16:47:21.111 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 16:47:21.113 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 16:47:21.138 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:47:21.139 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:47:21.139 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:47:21.140 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:47:21.141 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:47:21.141 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2025-11-10 16:47:23.018 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 16:47:23.063 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 16:47:23.276 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 16:47:23.279 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 16:47:23.313 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 16:47:24.429 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 16:47:24.434 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 16:47:24.434 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 16:47:24.434 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 16:47:24.435 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 16:47:24.435 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 16:47:24.439 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 16:47:24.449 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 16:47:24.451 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 16:47:24.453 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 16:47:24.454 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 16:47:24.455 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 16:47:24.457 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 16:47:24.467 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 16:47:24.469 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 16:47:24.470 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 16:47:24.471 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 16:47:24.475 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 16:47:24.814 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 16:47:26.315 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 16:47:26.315 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 16:47:26.499 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 16:47:28.057 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 16:47:28.165 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 16:47:28.167 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 16:47:28.167 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 16:47:28.169 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-11-10 16:47:28.260 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Started ClienteControllerIT in 9.177 seconds (process running for 10.021)
2025-11-10 16:47:28.389 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 16:47:28.477 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:47:28.523 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:47:28.528 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 16:47:28.538 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:47:28.541 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:47:28.593 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 16:47:28.617 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 16:47:28.628 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 16:47:28.635 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 16:47:28.640 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 16:47:28.645 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 16:47:28.650 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 16:47:28.685 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:47:28.692 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:47:28.702 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:47:28.713 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:47:28.715 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:47:28.717 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:47:28.719 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:47:28.720 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:47:28.721 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:47:28.727 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:47:28.733 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:47:28.735 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:47:28.737 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:47:28.740 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:47:28.741 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:47:28.742 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:47:28.743 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:47:28.744 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:47:28.744 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:47:28.745 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:47:28.746 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:47:28.747 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:47:28.750 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:47:28.752 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:47:28.865 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/clientes
2025-11-10 16:47:28.884 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/clientes
2025-11-10 16:47:28.886 [main] WARN  [b89dbd043e3e4c7a] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:47:28.985 [main] DEBUG [b89dbd043e3e4c7a] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:47:28.988 [main] DEBUG [b89dbd043e3e4c7a] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:47:28.991 [main] DEBUG [b89dbd043e3e4c7a] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:47:28.992 [main] DEBUG [b89dbd043e3e4c7a] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:47:28.993 [main] DEBUG [b89dbd043e3e4c7a] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:47:28.994 [main] DEBUG [b89dbd043e3e4c7a] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:47:28.995 [main] DEBUG [b89dbd043e3e4c7a] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:47:28.996 [main] DEBUG [b89dbd043e3e4c7a] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:47:28.997 [main] DEBUG [b89dbd043e3e4c7a] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:47:28.998 [main] DEBUG [b89dbd043e3e4c7a] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:47:28.999 [main] DEBUG [b89dbd043e3e4c7a] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:47:29.000 [main] DEBUG [b89dbd043e3e4c7a] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:47:29.000 [main] DEBUG [b89dbd043e3e4c7a] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:47:29.001 [main] DEBUG [b89dbd043e3e4c7a] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:47:29.002 [main] DEBUG [b89dbd043e3e4c7a] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:47:29.002 [main] DEBUG [b89dbd043e3e4c7a] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:47:29.003 [main] DEBUG [b89dbd043e3e4c7a] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:47:29.003 [main] DEBUG [b89dbd043e3e4c7a] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:47:29.004 [main] DEBUG [b89dbd043e3e4c7a] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:47:29.004 [main] DEBUG [b89dbd043e3e4c7a] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:47:29.005 [main] DEBUG [b89dbd043e3e4c7a] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:47:29.005 [main] DEBUG [b89dbd043e3e4c7a] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:47:29.006 [main] DEBUG [b89dbd043e3e4c7a] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:47:29.008 [main] DEBUG [b89dbd043e3e4c7a] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:47:29.009 [main] DEBUG [b89dbd043e3e4c7a] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:47:29.010 [main] DEBUG [b89dbd043e3e4c7a] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:47:29.011 [main] DEBUG [b89dbd043e3e4c7a] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:47:29.011 [main] DEBUG [b89dbd043e3e4c7a] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:47:29.013 [main] DEBUG [b89dbd043e3e4c7a] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 16:47:29.040 [main] DEBUG [b89dbd043e3e4c7a] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:47:29.063 [main] DEBUG [b89dbd043e3e4c7a] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:47:29.150 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:47:29.152 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:47:29.154 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:47:29.156 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:47:29.157 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:47:29.160 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:47:29.161 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:47:29.162 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:47:29.163 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:47:29.166 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:47:29.171 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:47:29.173 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:47:29.175 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:47:29.176 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:47:29.177 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:47:29.178 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:47:29.178 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:47:29.179 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:47:29.180 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:47:29.181 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:47:29.182 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:47:29.184 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:47:29.186 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:47:29.188 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:47:29.195 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:47:29.195 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:47:29.196 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:47:29.196 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:47:29.197 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:47:29.198 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:47:29.199 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:47:29.200 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:47:29.201 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:47:29.201 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:47:29.202 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:47:29.203 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:47:29.203 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:47:29.203 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:47:29.204 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:47:29.205 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:47:29.206 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:47:29.206 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:47:29.206 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:47:29.206 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:47:29.207 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:47:29.207 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:47:29.207 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:47:29.209 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:47:29.209 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:47:29.210 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:47:29.210 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:47:29.210 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:47:29.211 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:47:29.215 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/clientes/8
2025-11-10 16:47:29.217 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/clientes/8
2025-11-10 16:47:29.217 [main] WARN  [f8e2d0a54bcc4ca1] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:47:29.227 [main] DEBUG [f8e2d0a54bcc4ca1] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:47:29.239 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:47:29.240 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:47:29.242 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:47:29.243 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:47:29.245 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:47:29.247 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:47:29.249 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:47:29.251 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:47:29.252 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:47:29.254 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:47:29.259 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:47:29.260 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:47:29.261 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:47:29.261 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:47:29.262 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:47:29.262 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:47:29.262 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:47:29.263 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:47:29.264 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:47:29.265 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:47:29.266 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:47:29.267 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:47:29.268 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:47:29.269 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:47:29.275 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:47:29.275 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:47:29.276 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:47:29.277 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:47:29.278 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:47:29.278 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:47:29.279 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:47:29.280 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:47:29.280 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:47:29.281 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:47:29.282 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:47:29.283 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:47:29.283 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:47:29.284 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:47:29.285 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:47:29.286 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:47:29.287 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:47:29.287 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:47:29.287 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:47:29.287 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:47:29.288 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:47:29.288 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:47:29.288 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:47:29.290 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:47:29.290 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:47:29.291 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:47:29.291 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:47:29.291 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:47:29.292 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:47:29.295 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing PUT /api/clientes/9
2025-11-10 16:47:29.297 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured PUT /api/clientes/9
2025-11-10 16:47:29.297 [main] WARN  [a8dcc7c3b9404699] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:47:29.302 [main] DEBUG [a8dcc7c3b9404699] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 16:47:29.307 [main] DEBUG [a8dcc7c3b9404699] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:47:29.318 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:47:29.320 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:47:29.322 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:47:29.323 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:47:29.325 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:47:29.326 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:47:29.327 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:47:29.327 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:47:29.328 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:47:29.330 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:47:29.334 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:47:29.336 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:47:29.337 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:47:29.338 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:47:29.339 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:47:29.339 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:47:29.340 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:47:29.341 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:47:29.341 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:47:29.342 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:47:29.342 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:47:29.343 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:47:29.345 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:47:29.346 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:47:29.352 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:47:29.353 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:47:29.353 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:47:29.353 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:47:29.354 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:47:29.354 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:47:29.354 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:47:29.354 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:47:29.355 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:47:29.355 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:47:29.356 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:47:29.357 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:47:29.357 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:47:29.357 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:47:29.358 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:47:29.358 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:47:29.358 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:47:29.359 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:47:29.359 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:47:29.359 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:47:29.359 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:47:29.359 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:47:29.360 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:47:29.361 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:47:29.361 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:47:29.361 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:47:29.361 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:47:29.361 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:47:29.362 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:47:29.366 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/clientes/110
2025-11-10 16:47:29.367 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/clientes/110
2025-11-10 16:47:29.367 [main] WARN  [18ff1db8dd6f4364] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:47:29.369 [main] DEBUG [18ff1db8dd6f4364] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 16:47:29.385 [main] DEBUG [18ff1db8dd6f4364] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:47:29.395 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:47:29.398 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:47:29.399 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:47:29.400 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:47:29.401 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:47:29.402 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:47:29.403 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:47:29.405 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:47:29.405 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:47:29.408 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:47:29.410 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:47:29.411 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:47:29.412 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:47:29.413 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:47:29.414 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:47:29.414 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:47:29.415 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:47:29.416 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:47:29.416 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:47:29.417 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:47:29.418 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:47:29.419 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:47:29.420 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:47:29.422 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:47:29.425 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/clientes
2025-11-10 16:47:29.426 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/clientes
2025-11-10 16:47:29.426 [main] WARN  [edabfcae974549e1] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:47:29.443 [main] DEBUG [edabfcae974549e1] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:47:29.491 [SpringApplicationShutdownHook] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 16:47:29.493 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 16:47:29.498 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 16:47:29.499 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 16:47:29.500 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 16:47:29.500 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 16:47:29.501 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 16:47:29.504 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 16:47:29.511 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 16:48:17.332 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 11188 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 16:48:17.332 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 16:48:17.332 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 16:48:18.749 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 16:48:18.751 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 16:48:18.947 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 193 ms. Found 5 JPA repository interfaces.
2025-11-10 16:48:18.981 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 16:48:18.981 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 16:48:18.998 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:48:18.998 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:48:18.998 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:48:18.998 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:48:18.998 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:48:18.998 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2025-11-10 16:48:20.837 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 16:48:20.888 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 16:48:21.113 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 16:48:21.114 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 16:48:21.148 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 16:48:22.248 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 16:48:22.248 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 16:48:22.248 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 16:48:22.248 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 16:48:22.248 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 16:48:22.248 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 16:48:22.264 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 16:48:22.264 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 16:48:22.264 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 16:48:22.264 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 16:48:22.279 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 16:48:22.281 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 16:48:22.282 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 16:48:22.282 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 16:48:22.282 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 16:48:22.282 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 16:48:22.282 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 16:48:22.298 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 16:48:22.748 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 16:48:24.056 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 16:48:24.056 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 16:48:24.247 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 16:48:25.764 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 16:48:25.864 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 16:48:25.864 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 16:48:25.864 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 16:48:25.864 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2025-11-10 16:48:25.965 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Started ClienteControllerIT in 9.037 seconds (process running for 9.843)
2025-11-10 16:48:26.085 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 16:48:26.164 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:48:26.218 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:48:26.224 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 16:48:26.228 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:48:26.231 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:48:26.309 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 16:48:26.331 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 16:48:26.341 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 16:48:26.350 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 16:48:26.350 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 16:48:26.350 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 16:48:26.366 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 16:48:26.400 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:48:26.404 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:48:26.416 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:48:26.416 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:48:26.416 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:48:26.431 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:48:26.431 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:48:26.431 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:48:26.431 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:48:26.441 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:48:26.448 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:48:26.451 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:48:26.451 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:48:26.456 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:48:26.456 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:48:26.456 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:48:26.459 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:48:26.459 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:48:26.459 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:48:26.461 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:48:26.461 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:48:26.461 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:48:26.465 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:48:26.466 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:48:26.590 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/clientes
2025-11-10 16:48:26.614 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/clientes
2025-11-10 16:48:26.614 [main] WARN  [fbcddcafc32a4121] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:48:26.733 [main] DEBUG [fbcddcafc32a4121] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:48:26.741 [main] DEBUG [fbcddcafc32a4121] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:48:26.741 [main] DEBUG [fbcddcafc32a4121] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:48:26.741 [main] DEBUG [fbcddcafc32a4121] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:48:26.741 [main] DEBUG [fbcddcafc32a4121] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:48:26.741 [main] DEBUG [fbcddcafc32a4121] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:48:26.741 [main] DEBUG [fbcddcafc32a4121] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:48:26.748 [main] DEBUG [fbcddcafc32a4121] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:48:26.750 [main] DEBUG [fbcddcafc32a4121] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:48:26.750 [main] DEBUG [fbcddcafc32a4121] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:48:26.750 [main] DEBUG [fbcddcafc32a4121] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:48:26.750 [main] DEBUG [fbcddcafc32a4121] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:48:26.750 [main] DEBUG [fbcddcafc32a4121] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:48:26.750 [main] DEBUG [fbcddcafc32a4121] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:48:26.750 [main] DEBUG [fbcddcafc32a4121] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:48:26.750 [main] DEBUG [fbcddcafc32a4121] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:48:26.750 [main] DEBUG [fbcddcafc32a4121] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:48:26.750 [main] DEBUG [fbcddcafc32a4121] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:48:26.750 [main] DEBUG [fbcddcafc32a4121] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:48:26.756 [main] DEBUG [fbcddcafc32a4121] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:48:26.756 [main] DEBUG [fbcddcafc32a4121] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:48:26.756 [main] DEBUG [fbcddcafc32a4121] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:48:26.756 [main] DEBUG [fbcddcafc32a4121] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:48:26.756 [main] DEBUG [fbcddcafc32a4121] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:48:26.756 [main] DEBUG [fbcddcafc32a4121] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:48:26.760 [main] DEBUG [fbcddcafc32a4121] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:48:26.760 [main] DEBUG [fbcddcafc32a4121] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:48:26.760 [main] DEBUG [fbcddcafc32a4121] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:48:26.762 [main] DEBUG [fbcddcafc32a4121] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 16:48:26.790 [main] DEBUG [fbcddcafc32a4121] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:48:26.816 [main] DEBUG [fbcddcafc32a4121] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:48:26.915 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:48:26.918 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:48:26.920 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:48:26.922 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:48:26.924 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:48:26.924 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:48:26.924 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:48:26.924 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:48:26.931 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:48:26.934 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:48:26.935 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:48:26.940 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:48:26.940 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:48:26.941 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:48:26.941 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:48:26.941 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:48:26.941 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:48:26.941 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:48:26.941 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:48:26.941 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:48:26.948 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:48:26.950 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:48:26.951 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:48:26.951 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:48:26.956 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:48:26.956 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:48:26.956 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:48:26.956 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:48:26.956 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:48:26.956 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:48:26.956 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:48:26.964 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:48:26.964 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:48:26.964 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:48:26.964 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:48:26.964 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:48:26.964 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:48:26.964 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:48:26.964 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:48:26.964 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:48:26.964 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:48:26.964 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:48:26.964 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:48:26.964 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:48:26.964 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:48:26.964 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:48:26.964 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:48:26.964 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:48:26.964 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:48:26.964 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:48:26.973 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:48:26.973 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:48:26.973 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:48:26.975 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/clientes/8
2025-11-10 16:48:26.979 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/clientes/8
2025-11-10 16:48:26.979 [main] WARN  [075e5984952740c9] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:48:26.990 [main] DEBUG [075e5984952740c9] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:48:27.004 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:48:27.006 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:48:27.006 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:48:27.006 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:48:27.006 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:48:27.006 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:48:27.014 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:48:27.016 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:48:27.016 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:48:27.018 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:48:27.021 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:48:27.022 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:48:27.024 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:48:27.025 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:48:27.025 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:48:27.025 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:48:27.025 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:48:27.025 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:48:27.030 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:48:27.031 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:48:27.031 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:48:27.033 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:48:27.033 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:48:27.033 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:48:27.043 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:48:27.043 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:48:27.043 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:48:27.045 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:48:27.045 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:48:27.045 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:48:27.047 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:48:27.047 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:48:27.047 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:48:27.047 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:48:27.047 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:48:27.047 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:48:27.047 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:48:27.047 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:48:27.047 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:48:27.047 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:48:27.047 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:48:27.047 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:48:27.047 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:48:27.047 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:48:27.055 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:48:27.055 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:48:27.055 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:48:27.057 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:48:27.057 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:48:27.057 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:48:27.057 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:48:27.057 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:48:27.057 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:48:27.062 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing PUT /api/clientes/9
2025-11-10 16:48:27.062 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured PUT /api/clientes/9
2025-11-10 16:48:27.062 [main] WARN  [8db31e7810b74c45] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:48:27.065 [main] DEBUG [8db31e7810b74c45] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 16:48:27.073 [main] DEBUG [8db31e7810b74c45] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:48:27.082 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:48:27.082 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:48:27.082 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:48:27.090 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:48:27.090 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:48:27.090 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:48:27.090 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:48:27.090 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:48:27.090 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:48:27.090 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:48:27.099 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:48:27.101 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:48:27.102 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:48:27.103 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:48:27.103 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:48:27.104 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:48:27.104 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:48:27.104 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:48:27.104 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:48:27.104 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:48:27.104 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:48:27.104 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:48:27.104 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:48:27.104 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:48:27.116 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:48:27.116 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:48:27.116 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:48:27.116 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:48:27.116 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:48:27.116 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:48:27.116 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:48:27.116 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:48:27.116 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:48:27.116 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 16:48:27.116 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 16:48:27.116 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:48:27.116 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:48:27.116 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 16:48:27.116 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:48:27.116 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:48:27.116 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:48:27.116 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:48:27.116 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:48:27.116 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:48:27.116 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:48:27.116 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:48:27.116 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 16:48:27.116 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:48:27.116 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:48:27.116 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:48:27.116 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:48:27.116 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 16:48:27.116 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:48:27.116 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/clientes/110
2025-11-10 16:48:27.116 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/clientes/110
2025-11-10 16:48:27.116 [main] WARN  [473499f9082e45b2] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:48:27.131 [main] DEBUG [473499f9082e45b2] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 16:48:27.141 [main] DEBUG [473499f9082e45b2] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:48:27.149 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 16:48:27.165 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:48:27.167 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:48:27.169 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:48:27.170 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:48:27.170 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:48:27.170 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 16:48:27.170 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:48:27.170 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 16:48:27.170 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 16:48:27.170 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 16:48:27.180 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:48:27.182 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:48:27.183 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:48:27.184 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:48:27.185 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:48:27.185 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:48:27.185 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:48:27.185 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:48:27.185 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 16:48:27.185 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 16:48:27.185 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 16:48:27.185 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 16:48:27.185 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 16:48:27.185 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/clientes
2025-11-10 16:48:27.185 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/clientes
2025-11-10 16:48:27.185 [main] WARN  [03631280f60c4d79] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 16:48:27.214 [main] DEBUG [03631280f60c4d79] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 16:48:27.249 [SpringApplicationShutdownHook] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 16:48:27.249 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 16:48:27.249 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 16:48:27.249 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 16:48:27.249 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 16:48:27.249 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 16:48:27.249 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 16:48:27.249 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 16:48:27.264 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 16:55:42.852 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Starting PedidoControllerIT using Java 17.0.16 with PID 27896 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 16:55:42.852 [main] DEBUG [] c.d.d.controller.PedidoControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 16:55:42.852 [main] INFO  [] c.d.d.controller.PedidoControllerIT - The following 1 profile is active: "test"
2025-11-10 16:55:44.184 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 16:55:44.184 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 16:55:44.361 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 158 ms. Found 5 JPA repository interfaces.
2025-11-10 16:55:44.376 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 16:55:44.382 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 16:55:44.392 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:55:44.392 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:55:44.392 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:55:44.392 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:55:44.392 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 16:55:44.392 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-11-10 16:55:45.467 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 16:55:45.496 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 16:55:45.615 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 16:55:45.615 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 16:55:45.635 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 16:55:46.596 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 16:55:46.596 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 16:55:46.596 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 16:55:46.596 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 16:55:46.596 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 16:55:46.596 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 16:55:46.612 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 16:55:46.620 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 16:55:46.620 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 16:55:46.620 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 16:55:46.620 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 16:55:46.620 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 16:55:46.620 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 16:55:46.630 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 16:55:46.630 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 16:55:46.645 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 16:55:46.646 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 16:55:46.647 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 16:55:47.034 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 16:55:47.655 [main] WARN  [] o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'authController': Unsatisfied dependency expressed through field 'authenticationManager': No qualifying bean of type 'org.springframework.security.authentication.AuthenticationManager' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2025-11-10 16:55:47.655 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 16:55:47.655 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 16:55:47.659 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 16:55:47.660 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 16:55:47.661 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 16:55:47.662 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 16:55:47.663 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 16:55:47.666 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 16:55:47.666 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 16:55:47.697 [main] INFO  [] o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-10 16:55:47.742 [main] ERROR [] o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field authenticationManager in com.deliverytech.delivery_api.controller.AuthController required a bean of type 'org.springframework.security.authentication.AuthenticationManager' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'org.springframework.security.authentication.AuthenticationManager' in your configuration.

2025-11-10 16:55:47.752 [main] WARN  [] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.deliverytech.delivery_api.controller.PedidoControllerIT@67c602e9]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2f11f73e testClass = com.deliverytech.delivery_api.controller.PedidoControllerIT, locations = [], classes = [com.deliverytech.delivery_api.DeliveryApiApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@76dc6191 key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, com.deliverytech.delivery_api.config.TestDataConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, com.deliverytech.delivery_api.exception.GlobalExceptionHandler, com.deliverytech.delivery_api.config.TestSecurityConfig, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1f9e9475, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14dd7b39, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1f9f6368, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@5be1d0a4, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@311bf055, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@50f6ac94, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@5088a101], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:47)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:46)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'authController': Unsatisfied dependency expressed through field 'authenticationManager': No qualifying bean of type 'org.springframework.security.authentication.AuthenticationManager' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:788)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1459)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1187)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 78 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.security.authentication.AuthenticationManager' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:2303)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1723)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1643)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	... 105 common frames omitted
2025-11-10 16:55:47.773 [main] WARN  [] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.deliverytech.delivery_api.controller.PedidoControllerIT@1d57b043]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@2f11f73e testClass = com.deliverytech.delivery_api.controller.PedidoControllerIT, locations = [], classes = [com.deliverytech.delivery_api.DeliveryApiApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@76dc6191 key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, com.deliverytech.delivery_api.config.TestDataConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, com.deliverytech.delivery_api.exception.GlobalExceptionHandler, com.deliverytech.delivery_api.config.TestSecurityConfig, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1f9e9475, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14dd7b39, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1f9f6368, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@5be1d0a4, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@311bf055, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@50f6ac94, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@5088a101], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:47)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:46)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211)
2025-11-10 16:55:47.782 [main] WARN  [] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.deliverytech.delivery_api.controller.PedidoControllerIT@1a9797f2]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@2f11f73e testClass = com.deliverytech.delivery_api.controller.PedidoControllerIT, locations = [], classes = [com.deliverytech.delivery_api.DeliveryApiApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@76dc6191 key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, com.deliverytech.delivery_api.config.TestDataConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, com.deliverytech.delivery_api.exception.GlobalExceptionHandler, com.deliverytech.delivery_api.config.TestSecurityConfig, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1f9e9475, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14dd7b39, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1f9f6368, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@5be1d0a4, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@311bf055, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@50f6ac94, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@5088a101], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:47)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:46)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211)
2025-11-10 16:55:47.786 [main] WARN  [] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.deliverytech.delivery_api.controller.PedidoControllerIT@4ba25170]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@2f11f73e testClass = com.deliverytech.delivery_api.controller.PedidoControllerIT, locations = [], classes = [com.deliverytech.delivery_api.DeliveryApiApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@76dc6191 key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, com.deliverytech.delivery_api.config.TestDataConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, com.deliverytech.delivery_api.exception.GlobalExceptionHandler, com.deliverytech.delivery_api.config.TestSecurityConfig, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1f9e9475, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14dd7b39, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1f9f6368, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@5be1d0a4, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@311bf055, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@50f6ac94, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@5088a101], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:47)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:46)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211)
2025-11-10 16:55:47.788 [main] WARN  [] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.deliverytech.delivery_api.controller.PedidoControllerIT@4b2c95ff]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@2f11f73e testClass = com.deliverytech.delivery_api.controller.PedidoControllerIT, locations = [], classes = [com.deliverytech.delivery_api.DeliveryApiApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@76dc6191 key = [org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientWebSecurityAutoConfiguration, com.deliverytech.delivery_api.config.TestDataConfiguration, org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, com.deliverytech.delivery_api.exception.GlobalExceptionHandler, com.deliverytech.delivery_api.config.TestSecurityConfig, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.OAuth2ClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1f9e9475, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@14dd7b39, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1f9f6368, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@5be1d0a4, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@311bf055, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@50f6ac94, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@5088a101], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:47)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:46)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211)
2025-11-10 17:30:47.927 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Starting PedidoControllerIT using Java 17.0.16 with PID 22792 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 17:30:47.928 [main] DEBUG [] c.d.d.controller.PedidoControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 17:30:47.928 [main] INFO  [] c.d.d.controller.PedidoControllerIT - The following 1 profile is active: "test"
2025-11-10 17:30:49.453 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 17:30:49.453 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 17:30:49.649 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 185 ms. Found 5 JPA repository interfaces.
2025-11-10 17:30:49.676 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 17:30:49.676 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 17:30:49.694 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 17:30:49.703 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 17:30:49.703 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 17:30:49.703 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 17:30:49.703 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 17:30:49.703 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-11-10 17:30:51.571 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 17:30:51.613 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 17:30:51.847 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 17:30:51.851 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 17:30:51.876 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 17:30:53.033 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 17:30:53.033 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 17:30:53.033 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 17:30:53.033 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 17:30:53.033 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 17:30:53.033 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 17:30:53.043 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 17:30:53.052 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 17:30:53.052 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 17:30:53.052 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 17:30:53.052 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 17:30:53.052 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 17:30:53.059 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 17:30:53.060 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 17:30:53.060 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 17:30:53.060 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 17:30:53.060 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 17:30:53.076 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 17:30:53.465 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 17:30:55.029 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 17:30:55.029 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 17:30:55.214 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 17:30:56.793 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 17:30:56.893 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 17:30:56.893 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 17:30:56.893 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 17:30:56.910 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 17 ms
2025-11-10 17:30:57.016 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Started PedidoControllerIT in 9.522 seconds (process running for 10.562)
2025-11-10 17:30:57.161 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 17:30:57.245 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 17:30:57.290 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 17:30:57.293 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 17:30:57.293 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 17:30:57.301 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 17:30:57.360 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 17:30:57.377 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 17:30:57.392 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 17:30:57.399 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 17:30:57.403 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 17:30:57.408 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 17:30:57.410 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 17:30:57.444 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 17:30:57.448 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 17:30:57.460 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 17:30:57.470 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 17:30:57.470 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 17:30:57.476 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 17:30:57.477 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 17:30:57.477 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 17:30:57.477 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 17:30:57.482 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:30:57.482 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:30:57.494 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 17:30:57.494 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 17:30:57.494 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:30:57.494 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:30:57.494 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 17:30:57.494 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 17:30:57.494 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:30:57.494 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:30:57.499 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 17:30:57.499 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 17:30:57.499 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 17:30:57.501 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 17:30:57.501 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 17:30:57.509 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:30:57.511 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:30:57.511 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:30:57.511 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:30:57.511 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:30:57.511 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:30:57.511 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:30:57.511 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:30:57.511 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:30:57.511 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 17:30:57.511 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 17:30:57.511 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 17:30:57.511 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 17:30:57.511 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 17:30:57.523 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 17:30:57.523 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 17:30:57.523 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 17:30:57.523 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 17:30:57.526 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 17:30:57.527 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 17:30:57.527 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 17:30:57.527 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 17:30:57.527 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 17:30:57.527 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 17:30:57.527 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 17:30:57.527 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 17:30:57.527 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 17:30:57.536 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 17:30:57.565 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 17:30:57.565 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 17:30:57.565 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 17:30:57.701 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/pedidos
2025-11-10 17:30:57.727 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/pedidos
2025-11-10 17:30:57.727 [main] WARN  [e82e61bb8cf54ffc] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 17:30:57.878 [main] DEBUG [e82e61bb8cf54ffc] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 17:30:57.888 [main] DEBUG [e82e61bb8cf54ffc] org.hibernate.SQL - select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.id=?
2025-11-10 17:30:57.890 [main] DEBUG [e82e61bb8cf54ffc] org.hibernate.SQL - select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0 where p1_0.id=?
2025-11-10 17:30:57.893 [main] DEBUG [e82e61bb8cf54ffc] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Pedido */insert into pedido (cep,cliente_id,data_pedido,endereco_entrega,forma_pagamento,observacoes,restaurante_id,status,subtotal,taxa_entrega,valor_total,id) values (?,?,?,?,?,?,?,?,?,?,?,default)
2025-11-10 17:30:57.927 [main] DEBUG [e82e61bb8cf54ffc] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.ItemPedido */insert into item_pedido (observacoes,pedido_id,preco_unitario,produto_id,quantidade,subtotal,id) values (?,?,?,?,?,?,default)
2025-11-10 17:30:57.977 [main] DEBUG [e82e61bb8cf54ffc] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 17:30:58.071 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 17:30:58.071 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 17:30:58.071 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 17:30:58.071 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 17:30:58.076 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 17:30:58.077 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 17:30:58.077 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 17:30:58.077 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 17:30:58.077 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 17:35:04.924 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Starting PedidoControllerIT using Java 17.0.16 with PID 3128 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 17:35:04.925 [main] DEBUG [] c.d.d.controller.PedidoControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 17:35:04.925 [main] INFO  [] c.d.d.controller.PedidoControllerIT - The following 1 profile is active: "test"
2025-11-10 17:35:06.311 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 17:35:06.313 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 17:35:06.495 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 169 ms. Found 5 JPA repository interfaces.
2025-11-10 17:35:06.523 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 17:35:06.525 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 17:35:06.556 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 17:35:06.557 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 17:35:06.558 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 17:35:06.558 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 17:35:06.559 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 17:35:06.559 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2025-11-10 17:35:08.384 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 17:35:08.428 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 17:35:08.657 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 17:35:08.661 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 17:35:08.701 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 17:35:09.874 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 17:35:09.878 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 17:35:09.878 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 17:35:09.878 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 17:35:09.879 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 17:35:09.879 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 17:35:09.885 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 17:35:09.893 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 17:35:09.894 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 17:35:09.896 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 17:35:09.897 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 17:35:09.899 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 17:35:09.900 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 17:35:09.911 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 17:35:09.912 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 17:35:09.913 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 17:35:09.915 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 17:35:09.919 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 17:35:10.266 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 17:35:11.921 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 17:35:11.922 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 17:35:12.115 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 17:35:13.744 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 17:35:13.855 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 17:35:13.856 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 17:35:13.857 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 17:35:13.859 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-11-10 17:35:13.956 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Started PedidoControllerIT in 9.473 seconds (process running for 10.4)
2025-11-10 17:35:14.087 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 17:35:14.188 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 17:35:14.234 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 17:35:14.238 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 17:35:14.242 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 17:35:14.245 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 17:35:14.305 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 17:35:14.330 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 17:35:14.339 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 17:35:14.347 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 17:35:14.352 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 17:35:14.357 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 17:35:14.363 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 17:35:14.392 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 17:35:14.397 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 17:35:14.410 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 17:35:14.423 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 17:35:14.425 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 17:35:14.427 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 17:35:14.429 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 17:35:14.430 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 17:35:14.431 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 17:35:14.439 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:35:14.442 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:35:14.445 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 17:35:14.446 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 17:35:14.447 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:35:14.448 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:35:14.449 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 17:35:14.450 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 17:35:14.450 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:35:14.450 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:35:14.451 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 17:35:14.452 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 17:35:14.453 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 17:35:14.453 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 17:35:14.459 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 17:35:14.463 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:35:14.464 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:35:14.465 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:35:14.465 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:35:14.465 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:35:14.466 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:35:14.466 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:35:14.466 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:35:14.466 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:35:14.470 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 17:35:14.472 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 17:35:14.474 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 17:35:14.476 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 17:35:14.477 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 17:35:14.478 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 17:35:14.479 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 17:35:14.480 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 17:35:14.480 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 17:35:14.481 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 17:35:14.482 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 17:35:14.485 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 17:35:14.486 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 17:35:14.486 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 17:35:14.487 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 17:35:14.487 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 17:35:14.489 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 17:35:14.492 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 17:35:14.496 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 17:35:14.528 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 17:35:14.532 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 17:35:14.535 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 17:35:14.612 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/pedidos
2025-11-10 17:35:14.627 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/pedidos
2025-11-10 17:35:14.629 [main] WARN  [e82333142485465c] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 17:35:14.741 [main] DEBUG [e82333142485465c] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 17:35:14.744 [main] DEBUG [e82333142485465c] org.hibernate.SQL - select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.id=?
2025-11-10 17:35:14.748 [main] DEBUG [e82333142485465c] org.hibernate.SQL - select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0 where p1_0.id=?
2025-11-10 17:35:14.751 [main] DEBUG [e82333142485465c] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Pedido */insert into pedido (cep,cliente_id,data_pedido,endereco_entrega,forma_pagamento,observacoes,restaurante_id,status,subtotal,taxa_entrega,valor_total,id) values (?,?,?,?,?,?,?,?,?,?,?,default)
2025-11-10 17:35:14.789 [main] DEBUG [e82333142485465c] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.ItemPedido */insert into item_pedido (observacoes,pedido_id,preco_unitario,produto_id,quantidade,subtotal,id) values (?,?,?,?,?,?,default)
2025-11-10 17:35:14.828 [main] DEBUG [e82333142485465c] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 17:35:14.921 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 17:35:14.922 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 17:35:14.925 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 17:35:14.926 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 17:35:14.927 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 17:35:14.928 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 17:35:14.929 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 17:35:14.933 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 17:35:14.935 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 17:40:18.416 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Starting PedidoControllerIT using Java 17.0.16 with PID 2080 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 17:40:18.416 [main] DEBUG [] c.d.d.controller.PedidoControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 17:40:18.416 [main] INFO  [] c.d.d.controller.PedidoControllerIT - The following 1 profile is active: "test"
2025-11-10 17:40:20.538 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 17:40:20.548 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 17:40:20.816 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 248 ms. Found 5 JPA repository interfaces.
2025-11-10 17:40:20.848 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 17:40:20.848 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 17:40:20.874 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 17:40:20.875 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 17:40:20.876 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 17:40:20.877 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 17:40:20.877 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 17:40:20.878 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-11-10 17:40:24.028 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 17:40:24.126 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 17:40:24.851 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 17:40:24.860 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 17:40:24.934 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 17:40:27.502 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 17:40:27.516 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 17:40:27.516 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 17:40:27.516 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 17:40:27.518 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 17:40:27.518 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 17:40:27.530 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 17:40:27.557 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 17:40:27.561 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 17:40:27.565 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 17:40:27.565 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 17:40:27.571 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 17:40:27.573 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 17:40:27.609 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 17:40:27.612 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 17:40:27.617 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 17:40:27.620 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 17:40:27.632 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 17:40:28.333 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 17:40:30.842 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 17:40:30.842 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 17:40:31.144 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 17:40:33.472 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 17:40:33.639 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 17:40:33.639 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 17:40:33.639 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 17:40:33.639 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2025-11-10 17:40:33.759 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Started PedidoControllerIT in 16.168 seconds (process running for 18.638)
2025-11-10 17:40:33.939 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 17:40:34.058 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 17:40:34.099 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 17:40:34.099 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 17:40:34.099 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 17:40:34.108 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 17:40:34.183 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 17:40:34.209 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 17:40:34.231 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 17:40:34.241 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 17:40:34.247 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 17:40:34.252 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 17:40:34.257 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 17:40:34.294 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 17:40:34.301 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 17:40:34.309 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 17:40:34.318 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 17:40:34.325 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 17:40:34.325 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 17:40:34.325 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 17:40:34.330 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 17:40:34.330 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 17:40:34.338 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:40:34.342 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:40:34.342 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 17:40:34.342 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 17:40:34.342 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:40:34.342 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:40:34.342 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 17:40:34.342 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 17:40:34.342 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:40:34.342 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:40:34.342 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 17:40:34.342 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 17:40:34.342 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 17:40:34.342 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 17:40:34.357 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 17:40:34.361 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:40:34.362 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:40:34.362 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:40:34.362 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:40:34.362 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:40:34.363 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:40:34.363 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:40:34.363 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:40:34.363 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:40:34.368 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 17:40:34.370 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 17:40:34.371 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 17:40:34.372 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 17:40:34.373 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 17:40:34.374 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 17:40:34.374 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 17:40:34.375 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 17:40:34.375 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 17:40:34.376 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 17:40:34.377 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 17:40:34.379 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 17:40:34.379 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 17:40:34.379 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 17:40:34.379 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 17:40:34.380 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 17:40:34.382 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 17:40:34.384 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 17:40:34.386 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 17:40:34.416 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 17:40:34.429 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 17:40:34.433 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 17:40:34.566 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/pedidos
2025-11-10 17:40:34.604 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/pedidos
2025-11-10 17:40:34.606 [main] WARN  [a6b77e1aef9b4db8] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 17:40:34.836 [main] DEBUG [a6b77e1aef9b4db8] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 17:40:34.842 [main] DEBUG [a6b77e1aef9b4db8] org.hibernate.SQL - select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.id=?
2025-11-10 17:40:34.842 [main] DEBUG [a6b77e1aef9b4db8] org.hibernate.SQL - select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0 where p1_0.id=?
2025-11-10 17:40:34.848 [main] DEBUG [a6b77e1aef9b4db8] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Pedido */insert into pedido (cep,cliente_id,data_pedido,endereco_entrega,forma_pagamento,observacoes,restaurante_id,status,subtotal,taxa_entrega,valor_total,id) values (?,?,?,?,?,?,?,?,?,?,?,default)
2025-11-10 17:40:34.907 [main] DEBUG [a6b77e1aef9b4db8] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.ItemPedido */insert into item_pedido (observacoes,pedido_id,preco_unitario,produto_id,quantidade,subtotal,id) values (?,?,?,?,?,?,default)
2025-11-10 17:40:34.971 [main] DEBUG [a6b77e1aef9b4db8] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 17:40:35.126 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 17:40:35.126 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 17:40:35.136 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 17:40:35.137 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 17:40:35.137 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 17:40:35.137 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 17:40:35.138 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 17:40:35.142 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 17:40:35.144 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 17:47:32.024 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Starting PedidoControllerIT using Java 17.0.16 with PID 6536 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 17:47:32.024 [main] DEBUG [] c.d.d.controller.PedidoControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 17:47:32.024 [main] INFO  [] c.d.d.controller.PedidoControllerIT - The following 1 profile is active: "test"
2025-11-10 17:47:33.706 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 17:47:33.722 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 17:47:33.910 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 174 ms. Found 5 JPA repository interfaces.
2025-11-10 17:47:33.926 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 17:47:33.926 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 17:47:33.959 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 17:47:33.959 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 17:47:33.959 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 17:47:33.959 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 17:47:33.959 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 17:47:33.959 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-11-10 17:47:35.774 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 17:47:35.806 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 17:47:36.041 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 17:47:36.041 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 17:47:36.074 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 17:47:37.153 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 17:47:37.153 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 17:47:37.153 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 17:47:37.153 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 17:47:37.153 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 17:47:37.153 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 17:47:37.153 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 17:47:37.169 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 17:47:37.176 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 17:47:37.176 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 17:47:37.176 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 17:47:37.176 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 17:47:37.176 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 17:47:37.191 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 17:47:37.192 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 17:47:37.192 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 17:47:37.192 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 17:47:37.192 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 17:47:37.551 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 17:47:39.027 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 17:47:39.027 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 17:47:39.203 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 17:47:40.730 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 17:47:40.848 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 17:47:40.858 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 17:47:40.858 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 17:47:40.859 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2025-11-10 17:47:40.958 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Started PedidoControllerIT in 9.364 seconds (process running for 10.392)
2025-11-10 17:47:41.089 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 17:47:41.176 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 17:47:41.216 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 17:47:41.218 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 17:47:41.223 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 17:47:41.224 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 17:47:41.291 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 17:47:41.325 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 17:47:41.332 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 17:47:41.343 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 17:47:41.343 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 17:47:41.352 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 17:47:41.355 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 17:47:41.375 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 17:47:41.391 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 17:47:41.400 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 17:47:41.409 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 17:47:41.409 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 17:47:41.409 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 17:47:41.409 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 17:47:41.409 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 17:47:41.409 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 17:47:41.425 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:47:41.428 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:47:41.430 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 17:47:41.430 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 17:47:41.430 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:47:41.430 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:47:41.430 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 17:47:41.430 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 17:47:41.430 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:47:41.430 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:47:41.430 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 17:47:41.430 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 17:47:41.430 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 17:47:41.430 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 17:47:41.446 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 17:47:41.446 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:47:41.446 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:47:41.446 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:47:41.446 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:47:41.446 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:47:41.446 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:47:41.446 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:47:41.446 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:47:41.446 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:47:41.457 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 17:47:41.459 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 17:47:41.459 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 17:47:41.464 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 17:47:41.464 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 17:47:41.466 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 17:47:41.466 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 17:47:41.466 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 17:47:41.466 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 17:47:41.470 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 17:47:41.470 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 17:47:41.470 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 17:47:41.470 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 17:47:41.470 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 17:47:41.470 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 17:47:41.470 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 17:47:41.474 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 17:47:41.475 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 17:47:41.475 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 17:47:41.510 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 17:47:41.516 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 17:47:41.516 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 17:47:41.621 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/pedidos
2025-11-10 17:47:41.653 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/pedidos
2025-11-10 17:47:41.653 [main] WARN  [de132c12604f4d9e] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 17:47:41.813 [main] DEBUG [de132c12604f4d9e] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 17:47:41.813 [main] DEBUG [de132c12604f4d9e] org.hibernate.SQL - select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.id=?
2025-11-10 17:47:41.825 [main] DEBUG [de132c12604f4d9e] org.hibernate.SQL - select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0 where p1_0.id=?
2025-11-10 17:47:41.825 [main] DEBUG [de132c12604f4d9e] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Pedido */insert into pedido (cep,cliente_id,data_pedido,endereco_entrega,forma_pagamento,observacoes,restaurante_id,status,subtotal,taxa_entrega,valor_total,id) values (?,?,?,?,?,?,?,?,?,?,?,default)
2025-11-10 17:47:41.859 [main] DEBUG [de132c12604f4d9e] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.ItemPedido */insert into item_pedido (observacoes,pedido_id,preco_unitario,produto_id,quantidade,subtotal,id) values (?,?,?,?,?,?,default)
2025-11-10 17:47:41.898 [main] DEBUG [de132c12604f4d9e] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 17:47:42.005 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 17:47:42.005 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 17:47:42.005 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 17:47:42.005 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 17:47:42.005 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 17:47:42.005 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 17:47:42.005 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 17:47:42.016 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 17:47:42.021 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 17:50:00.194 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Starting PedidoControllerIT using Java 17.0.16 with PID 25880 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 17:50:00.194 [main] DEBUG [] c.d.d.controller.PedidoControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 17:50:00.195 [main] INFO  [] c.d.d.controller.PedidoControllerIT - The following 1 profile is active: "test"
2025-11-10 17:50:01.606 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 17:50:01.609 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 17:50:01.812 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 184 ms. Found 5 JPA repository interfaces.
2025-11-10 17:50:01.838 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 17:50:01.840 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 17:50:01.866 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 17:50:01.867 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 17:50:01.867 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 17:50:01.868 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 17:50:01.868 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 17:50:01.868 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2025-11-10 17:50:03.723 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 17:50:03.780 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 17:50:04.009 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 17:50:04.012 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 17:50:04.047 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 17:50:05.047 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 17:50:05.050 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 17:50:05.050 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 17:50:05.050 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 17:50:05.051 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 17:50:05.051 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 17:50:05.056 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 17:50:05.065 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 17:50:05.066 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 17:50:05.068 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 17:50:05.069 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 17:50:05.070 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 17:50:05.071 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 17:50:05.093 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 17:50:05.096 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 17:50:05.098 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 17:50:05.100 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 17:50:05.109 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 17:50:05.529 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 17:50:07.034 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 17:50:07.035 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 17:50:07.209 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 17:50:08.774 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 17:50:08.892 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 17:50:08.894 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 17:50:08.895 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 17:50:08.897 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2025-11-10 17:50:09.002 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Started PedidoControllerIT in 9.231 seconds (process running for 10.206)
2025-11-10 17:50:09.135 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 17:50:09.232 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 17:50:09.285 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 17:50:09.289 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 17:50:09.292 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 17:50:09.295 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 17:50:09.352 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 17:50:09.374 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 17:50:09.385 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 17:50:09.392 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 17:50:09.397 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 17:50:09.402 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 17:50:09.406 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 17:50:09.438 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 17:50:09.445 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 17:50:09.454 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 17:50:09.467 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 17:50:09.469 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 17:50:09.470 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 17:50:09.471 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 17:50:09.473 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 17:50:09.474 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 17:50:09.480 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:50:09.483 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:50:09.486 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 17:50:09.487 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 17:50:09.488 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:50:09.488 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:50:09.488 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 17:50:09.489 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 17:50:09.489 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:50:09.489 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:50:09.490 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 17:50:09.491 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 17:50:09.491 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 17:50:09.492 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 17:50:09.497 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 17:50:09.502 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:50:09.502 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:50:09.503 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:50:09.503 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:50:09.503 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:50:09.503 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:50:09.504 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:50:09.504 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:50:09.504 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:50:09.508 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 17:50:09.510 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 17:50:09.511 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 17:50:09.513 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 17:50:09.513 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 17:50:09.514 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 17:50:09.515 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 17:50:09.516 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 17:50:09.517 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 17:50:09.518 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 17:50:09.519 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 17:50:09.521 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 17:50:09.521 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 17:50:09.521 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 17:50:09.521 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 17:50:09.522 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 17:50:09.524 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 17:50:09.527 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 17:50:09.529 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 17:50:09.556 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 17:50:09.561 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 17:50:09.565 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 17:50:09.650 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/pedidos
2025-11-10 17:50:09.669 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/pedidos
2025-11-10 17:50:09.674 [main] WARN  [855de17189f546f5] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 17:50:09.789 [main] DEBUG [855de17189f546f5] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 17:50:09.792 [main] DEBUG [855de17189f546f5] org.hibernate.SQL - select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.id=?
2025-11-10 17:50:09.794 [main] DEBUG [855de17189f546f5] org.hibernate.SQL - select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0 where p1_0.id=?
2025-11-10 17:50:09.796 [main] DEBUG [855de17189f546f5] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Pedido */insert into pedido (cep,cliente_id,data_pedido,endereco_entrega,forma_pagamento,observacoes,restaurante_id,status,subtotal,taxa_entrega,valor_total,id) values (?,?,?,?,?,?,?,?,?,?,?,default)
2025-11-10 17:50:09.834 [main] DEBUG [855de17189f546f5] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.ItemPedido */insert into item_pedido (observacoes,pedido_id,preco_unitario,produto_id,quantidade,subtotal,id) values (?,?,?,?,?,?,default)
2025-11-10 17:50:09.872 [main] DEBUG [855de17189f546f5] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 17:50:09.968 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 17:50:09.969 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 17:50:09.971 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 17:50:09.972 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 17:50:09.973 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 17:50:09.975 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 17:50:09.975 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 17:50:09.977 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 17:50:09.979 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 17:50:38.374 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Starting PedidoControllerIT using Java 17.0.16 with PID 2520 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 17:50:38.375 [main] DEBUG [] c.d.d.controller.PedidoControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 17:50:38.376 [main] INFO  [] c.d.d.controller.PedidoControllerIT - The following 1 profile is active: "test"
2025-11-10 17:50:39.759 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 17:50:39.762 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 17:50:39.938 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 165 ms. Found 5 JPA repository interfaces.
2025-11-10 17:50:39.963 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 17:50:39.966 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 17:50:39.987 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 17:50:39.988 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 17:50:39.988 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 17:50:39.988 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 17:50:39.989 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 17:50:39.989 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-11-10 17:50:41.820 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 17:50:41.874 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 17:50:42.122 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 17:50:42.126 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 17:50:42.165 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 17:50:43.375 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 17:50:43.386 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 17:50:43.386 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 17:50:43.386 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 17:50:43.386 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 17:50:43.386 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 17:50:43.392 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 17:50:43.392 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 17:50:43.401 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 17:50:43.404 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 17:50:43.404 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 17:50:43.404 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 17:50:43.408 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 17:50:43.408 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 17:50:43.408 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 17:50:43.408 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 17:50:43.408 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 17:50:43.427 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 17:50:43.774 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 17:50:45.742 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 17:50:45.742 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 17:50:45.942 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 17:50:47.550 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 17:50:47.659 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 17:50:47.672 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 17:50:47.672 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 17:50:47.672 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2025-11-10 17:50:47.758 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Started PedidoControllerIT in 9.815 seconds (process running for 10.803)
2025-11-10 17:50:47.925 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 17:50:48.047 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 17:50:48.092 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 17:50:48.092 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 17:50:48.092 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 17:50:48.092 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 17:50:48.157 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 17:50:48.187 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 17:50:48.200 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 17:50:48.210 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 17:50:48.216 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 17:50:48.219 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 17:50:48.226 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 17:50:48.263 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 17:50:48.269 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 17:50:48.276 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 17:50:48.292 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 17:50:48.292 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 17:50:48.292 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 17:50:48.292 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 17:50:48.292 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 17:50:48.292 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 17:50:48.308 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:50:48.314 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:50:48.314 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 17:50:48.314 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 17:50:48.314 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:50:48.314 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:50:48.314 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 17:50:48.322 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 17:50:48.324 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:50:48.324 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:50:48.325 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 17:50:48.325 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 17:50:48.325 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 17:50:48.325 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 17:50:48.333 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 17:50:48.339 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:50:48.339 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:50:48.339 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:50:48.339 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:50:48.341 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:50:48.342 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:50:48.342 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:50:48.342 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:50:48.342 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:50:48.344 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 17:50:48.350 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 17:50:48.352 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 17:50:48.352 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 17:50:48.352 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 17:50:48.352 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 17:50:48.358 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 17:50:48.359 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 17:50:48.360 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 17:50:48.361 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 17:50:48.362 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 17:50:48.364 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 17:50:48.365 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 17:50:48.365 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 17:50:48.366 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 17:50:48.366 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 17:50:48.366 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 17:50:48.366 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 17:50:48.378 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 17:50:48.412 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 17:50:48.414 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 17:50:48.541 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/pedidos
2025-11-10 17:50:48.580 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/pedidos
2025-11-10 17:50:48.583 [main] WARN  [3cfc0d19787c4ec5] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 17:50:48.760 [main] DEBUG [3cfc0d19787c4ec5] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 17:50:48.764 [main] DEBUG [3cfc0d19787c4ec5] org.hibernate.SQL - select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.id=?
2025-11-10 17:50:48.767 [main] DEBUG [3cfc0d19787c4ec5] org.hibernate.SQL - select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0 where p1_0.id=?
2025-11-10 17:50:48.792 [main] DEBUG [3cfc0d19787c4ec5] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 17:50:48.859 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 17:50:48.859 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 17:50:48.859 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 17:50:48.859 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 17:50:48.859 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 17:50:48.859 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 17:50:48.859 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 17:50:48.872 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 17:50:48.874 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 17:53:12.277 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Starting PedidoControllerIT using Java 17.0.16 with PID 12956 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 17:53:12.291 [main] DEBUG [] c.d.d.controller.PedidoControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 17:53:12.291 [main] INFO  [] c.d.d.controller.PedidoControllerIT - The following 1 profile is active: "test"
2025-11-10 17:53:13.791 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 17:53:13.791 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 17:53:14.016 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 201 ms. Found 5 JPA repository interfaces.
2025-11-10 17:53:14.048 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 17:53:14.048 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 17:53:14.078 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 17:53:14.078 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 17:53:14.080 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 17:53:14.080 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 17:53:14.080 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 17:53:14.080 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2025-11-10 17:53:15.974 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 17:53:16.024 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 17:53:16.257 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 17:53:16.258 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 17:53:16.291 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 17:53:17.524 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 17:53:17.534 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 17:53:17.534 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 17:53:17.534 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 17:53:17.534 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 17:53:17.534 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 17:53:17.546 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 17:53:17.546 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 17:53:17.558 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 17:53:17.558 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 17:53:17.558 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 17:53:17.558 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 17:53:17.558 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 17:53:17.575 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 17:53:17.575 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 17:53:17.575 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 17:53:17.575 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 17:53:17.583 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 17:53:18.014 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 17:53:19.479 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 17:53:19.479 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 17:53:19.659 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 17:53:21.255 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 17:53:21.366 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 17:53:21.366 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 17:53:21.366 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 17:53:21.374 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 8 ms
2025-11-10 17:53:21.458 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Started PedidoControllerIT in 9.599 seconds (process running for 10.672)
2025-11-10 17:53:21.601 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 17:53:21.687 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 17:53:21.744 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 17:53:21.758 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 17:53:21.760 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 17:53:21.764 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 17:53:21.816 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 17:53:21.839 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 17:53:21.850 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 17:53:21.859 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 17:53:21.859 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 17:53:21.868 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 17:53:21.874 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 17:53:21.901 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 17:53:21.910 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 17:53:21.916 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 17:53:21.930 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 17:53:21.934 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 17:53:21.937 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 17:53:21.937 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 17:53:21.940 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 17:53:21.945 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 17:53:21.953 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:53:21.958 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:53:21.958 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 17:53:21.958 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 17:53:21.958 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:53:21.965 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:53:21.965 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 17:53:21.965 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 17:53:21.968 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:53:21.968 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 17:53:21.968 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 17:53:21.970 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 17:53:21.970 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 17:53:21.970 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 17:53:21.975 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 17:53:21.981 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:53:21.981 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:53:21.981 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:53:21.981 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:53:21.981 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:53:21.981 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:53:21.981 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:53:21.981 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:53:21.981 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 17:53:21.981 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 17:53:21.981 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 17:53:21.981 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 17:53:21.991 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 17:53:21.992 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 17:53:21.992 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 17:53:21.992 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 17:53:21.992 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 17:53:21.992 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 17:53:21.992 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 17:53:21.992 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 17:53:22.000 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 17:53:22.000 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 17:53:22.000 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 17:53:22.000 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 17:53:22.000 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 17:53:22.000 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 17:53:22.000 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 17:53:22.008 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 17:53:22.039 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 17:53:22.042 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 17:53:22.142 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/pedidos
2025-11-10 17:53:22.176 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/pedidos
2025-11-10 17:53:22.176 [main] WARN  [7a7d1b1c80c040e9] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 17:53:22.328 [main] DEBUG [7a7d1b1c80c040e9] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 17:53:22.335 [main] DEBUG [7a7d1b1c80c040e9] org.hibernate.SQL - select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.id=?
2025-11-10 17:53:22.341 [main] DEBUG [7a7d1b1c80c040e9] org.hibernate.SQL - select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0 where p1_0.id=?
2025-11-10 17:53:22.373 [main] DEBUG [7a7d1b1c80c040e9] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 17:53:22.461 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 17:53:22.469 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 17:53:22.472 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 17:53:22.474 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 17:53:22.474 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 17:53:22.474 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 17:53:22.474 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 17:53:22.474 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 17:53:22.474 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 18:01:12.049 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Starting PedidoControllerIT using Java 17.0.16 with PID 25028 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 18:01:12.052 [main] DEBUG [] c.d.d.controller.PedidoControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 18:01:12.054 [main] INFO  [] c.d.d.controller.PedidoControllerIT - The following 1 profile is active: "test"
2025-11-10 18:01:13.419 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:01:13.419 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 18:01:13.614 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 181 ms. Found 5 JPA repository interfaces.
2025-11-10 18:01:13.641 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:01:13.641 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 18:01:13.669 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:01:13.669 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:01:13.669 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:01:13.669 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:01:13.669 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:01:13.669 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2025-11-10 18:01:15.509 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 18:01:15.551 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 18:01:15.780 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 18:01:15.780 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 18:01:15.810 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 18:01:17.133 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:01:17.133 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:01:17.133 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:01:17.133 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:01:17.133 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:01:17.133 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:01:17.150 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 18:01:17.153 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 18:01:17.153 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 18:01:17.153 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 18:01:17.153 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 18:01:17.153 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 18:01:17.169 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 18:01:17.178 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 18:01:17.181 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 18:01:17.181 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 18:01:17.181 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 18:01:17.185 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:01:17.549 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 18:01:19.011 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 18:01:19.011 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 18:01:19.184 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 18:01:20.785 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 18:01:20.891 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 18:01:20.900 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 18:01:20.900 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 18:01:20.900 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2025-11-10 18:01:20.995 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Started PedidoControllerIT in 9.415 seconds (process running for 10.408)
2025-11-10 18:01:21.140 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 18:01:21.218 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:01:21.285 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:01:21.291 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 18:01:21.294 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:01:21.294 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:01:21.360 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 18:01:21.376 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 18:01:21.385 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 18:01:21.399 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 18:01:21.404 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 18:01:21.409 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 18:01:21.412 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 18:01:21.445 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:01:21.453 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:01:21.464 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:01:21.477 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:01:21.479 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:01:21.479 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:01:21.479 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:01:21.479 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:01:21.485 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:01:21.496 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:01:21.498 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:01:21.503 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:01:21.503 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:01:21.503 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:01:21.505 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:01:21.505 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:01:21.507 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:01:21.507 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:01:21.507 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:01:21.509 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:01:21.509 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:01:21.509 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:01:21.509 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:01:21.515 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:01:21.519 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:01:21.519 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:01:21.519 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:01:21.519 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:01:21.519 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:01:21.519 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:01:21.519 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:01:21.519 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:01:21.519 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:01:21.523 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:01:21.523 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:01:21.523 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:01:21.523 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:01:21.523 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:01:21.523 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:01:21.523 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:01:21.523 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:01:21.534 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:01:21.535 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:01:21.536 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:01:21.536 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:01:21.536 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:01:21.536 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:01:21.536 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:01:21.536 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:01:21.542 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:01:21.544 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:01:21.548 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 18:01:21.579 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:01:21.579 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:01:21.585 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:01:21.685 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/pedidos
2025-11-10 18:01:21.699 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/pedidos
2025-11-10 18:01:21.699 [main] WARN  [e72a6e59e5494fb7] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 18:01:21.831 [main] DEBUG [e72a6e59e5494fb7] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 18:01:21.833 [main] DEBUG [e72a6e59e5494fb7] org.hibernate.SQL - select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.id=?
2025-11-10 18:01:21.835 [main] DEBUG [e72a6e59e5494fb7] org.hibernate.SQL - select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0 where p1_0.id=?
2025-11-10 18:01:21.841 [main] DEBUG [e72a6e59e5494fb7] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Pedido */insert into pedido (cep,cliente_id,data_pedido,endereco_entrega,forma_pagamento,observacoes,restaurante_id,status,subtotal,taxa_entrega,valor_total,id) values (?,?,?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:01:21.867 [main] DEBUG [e72a6e59e5494fb7] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.ItemPedido */insert into item_pedido (observacoes,pedido_id,preco_unitario,produto_id,quantidade,subtotal,id) values (?,?,?,?,?,?,default)
2025-11-10 18:01:21.912 [main] DEBUG [e72a6e59e5494fb7] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 18:01:21.931 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/pedidos/cliente/6
2025-11-10 18:01:21.931 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/pedidos/cliente/6
2025-11-10 18:01:21.931 [main] WARN  [2989938cf9c740cb] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 18:01:21.938 [main] DEBUG [2989938cf9c740cb] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.cep,p1_0.cliente_id,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.restaurante_id,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where c1_0.id=?
2025-11-10 18:01:21.938 [main] DEBUG [2989938cf9c740cb] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 18:01:21.941 [main] DEBUG [2989938cf9c740cb] org.hibernate.SQL - select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.id=?
2025-11-10 18:01:21.944 [main] DEBUG [2989938cf9c740cb] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:01:21.948 [main] DEBUG [2989938cf9c740cb] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 18:01:22.039 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:01:22.039 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:01:22.047 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:01:22.047 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:01:22.047 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:01:22.047 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:01:22.047 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:01:22.055 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 18:01:22.055 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 18:04:01.564 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Starting PedidoControllerIT using Java 17.0.16 with PID 27084 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 18:04:01.569 [main] DEBUG [] c.d.d.controller.PedidoControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 18:04:01.569 [main] INFO  [] c.d.d.controller.PedidoControllerIT - The following 1 profile is active: "test"
2025-11-10 18:04:03.086 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:04:03.086 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 18:04:03.270 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 164 ms. Found 5 JPA repository interfaces.
2025-11-10 18:04:03.310 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:04:03.310 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 18:04:03.334 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:04:03.334 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:04:03.335 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:04:03.335 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:04:03.335 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:04:03.335 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-11-10 18:04:05.127 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 18:04:05.185 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 18:04:05.425 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 18:04:05.427 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 18:04:05.462 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 18:04:06.536 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:04:06.536 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:04:06.536 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:04:06.536 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:04:06.536 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:04:06.536 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:04:06.536 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 18:04:06.552 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 18:04:06.552 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 18:04:06.552 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 18:04:06.552 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 18:04:06.552 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 18:04:06.562 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 18:04:06.569 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 18:04:06.569 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 18:04:06.569 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 18:04:06.569 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 18:04:06.569 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:04:06.963 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 18:04:08.387 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 18:04:08.387 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 18:04:08.574 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 18:04:10.169 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 18:04:10.285 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 18:04:10.285 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 18:04:10.285 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 18:04:10.291 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 6 ms
2025-11-10 18:04:10.385 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Started PedidoControllerIT in 9.265 seconds (process running for 10.234)
2025-11-10 18:04:10.535 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 18:04:10.647 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:04:10.691 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:04:10.691 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 18:04:10.699 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:04:10.701 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:04:10.755 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 18:04:10.785 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 18:04:10.786 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 18:04:10.786 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 18:04:10.802 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 18:04:10.802 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 18:04:10.802 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 18:04:10.841 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:04:10.846 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:04:10.857 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:04:10.871 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:04:10.871 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:04:10.871 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:04:10.871 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:04:10.871 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:04:10.871 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:04:10.885 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:04:10.886 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:04:10.890 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:04:10.890 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:04:10.892 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:04:10.892 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:04:10.894 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:04:10.894 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:04:10.894 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:04:10.894 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:04:10.896 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:04:10.896 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:04:10.896 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:04:10.896 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:04:10.902 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:04:10.906 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:04:10.906 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:04:10.906 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:04:10.906 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:04:10.906 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:04:10.906 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:04:10.906 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:04:10.906 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:04:10.906 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:04:10.906 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:04:10.906 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:04:10.914 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:04:10.914 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:04:10.917 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:04:10.918 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:04:10.919 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:04:10.920 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:04:10.920 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:04:10.920 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:04:10.920 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:04:10.920 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:04:10.920 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:04:10.920 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:04:10.920 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:04:10.920 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:04:10.920 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:04:10.920 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:04:10.920 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 18:04:10.960 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:04:10.966 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:04:10.971 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:04:11.052 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/pedidos
2025-11-10 18:04:11.052 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/pedidos
2025-11-10 18:04:11.069 [main] WARN  [cb452518a0e54464] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 18:04:11.181 [main] DEBUG [cb452518a0e54464] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 18:04:11.185 [main] DEBUG [cb452518a0e54464] org.hibernate.SQL - select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.id=?
2025-11-10 18:04:11.189 [main] DEBUG [cb452518a0e54464] org.hibernate.SQL - select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0 where p1_0.id=?
2025-11-10 18:04:11.189 [main] DEBUG [cb452518a0e54464] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Pedido */insert into pedido (cep,cliente_id,data_pedido,endereco_entrega,forma_pagamento,observacoes,restaurante_id,status,subtotal,taxa_entrega,valor_total,id) values (?,?,?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:04:11.219 [main] DEBUG [cb452518a0e54464] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.ItemPedido */insert into item_pedido (observacoes,pedido_id,preco_unitario,produto_id,quantidade,subtotal,id) values (?,?,?,?,?,?,default)
2025-11-10 18:04:11.269 [main] DEBUG [cb452518a0e54464] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 18:04:11.273 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/pedidos/cliente/6
2025-11-10 18:04:11.273 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/pedidos/cliente/6
2025-11-10 18:04:11.273 [main] WARN  [8fb9b6e51b3644af] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 18:04:11.285 [main] DEBUG [8fb9b6e51b3644af] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.cep,p1_0.cliente_id,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.restaurante_id,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where c1_0.id=?
2025-11-10 18:04:11.285 [main] DEBUG [8fb9b6e51b3644af] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 18:04:11.285 [main] DEBUG [8fb9b6e51b3644af] org.hibernate.SQL - select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.id=?
2025-11-10 18:04:11.285 [main] DEBUG [8fb9b6e51b3644af] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:04:11.285 [main] DEBUG [8fb9b6e51b3644af] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 18:04:11.386 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:04:11.386 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:04:11.389 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:04:11.389 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:04:11.389 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:04:11.389 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:04:11.389 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:04:11.389 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 18:04:11.389 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 18:06:03.090 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Starting PedidoControllerIT using Java 17.0.16 with PID 20600 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 18:06:03.102 [main] DEBUG [] c.d.d.controller.PedidoControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 18:06:03.102 [main] INFO  [] c.d.d.controller.PedidoControllerIT - The following 1 profile is active: "test"
2025-11-10 18:06:04.452 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:06:04.468 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 18:06:04.619 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 145 ms. Found 5 JPA repository interfaces.
2025-11-10 18:06:04.653 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:06:04.653 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 18:06:04.685 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:06:04.685 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:06:04.685 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:06:04.685 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:06:04.685 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:06:04.685 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2025-11-10 18:06:06.567 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 18:06:06.602 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 18:06:06.852 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 18:06:06.852 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 18:06:06.885 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 18:06:07.969 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:06:07.981 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:06:07.981 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:06:07.981 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:06:07.981 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:06:07.981 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:06:07.986 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 18:06:07.986 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 18:06:07.986 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 18:06:08.003 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 18:06:08.005 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 18:06:08.007 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 18:06:08.007 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 18:06:08.018 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 18:06:08.018 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 18:06:08.018 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 18:06:08.018 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 18:06:08.018 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:06:08.435 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 18:06:09.943 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 18:06:09.943 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 18:06:10.127 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 18:06:11.710 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 18:06:11.838 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 18:06:11.840 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 18:06:11.840 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 18:06:11.840 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2025-11-10 18:06:11.947 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Started PedidoControllerIT in 9.302 seconds (process running for 10.257)
2025-11-10 18:06:12.089 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 18:06:12.169 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:06:12.235 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:06:12.235 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 18:06:12.235 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:06:12.235 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:06:12.293 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 18:06:12.313 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 18:06:12.326 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 18:06:12.331 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 18:06:12.335 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 18:06:12.342 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 18:06:12.348 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 18:06:12.371 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:06:12.375 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:06:12.386 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:06:12.393 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:06:12.393 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:06:12.395 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:06:12.395 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:06:12.395 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:06:12.395 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:06:12.402 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:06:12.402 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:06:12.402 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:06:12.402 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:06:12.402 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:06:12.402 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:06:12.402 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:06:12.402 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:06:12.402 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:06:12.402 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:06:12.402 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:06:12.402 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:06:12.402 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:06:12.402 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:06:12.417 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:06:12.418 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:06:12.418 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:06:12.418 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:06:12.422 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:06:12.422 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:06:12.422 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:06:12.422 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:06:12.422 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:06:12.422 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:06:12.424 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:06:12.426 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:06:12.426 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:06:12.428 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:06:12.428 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:06:12.428 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:06:12.430 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:06:12.430 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:06:12.430 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:06:12.432 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:06:12.432 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:06:12.434 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:06:12.435 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:06:12.435 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:06:12.435 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:06:12.435 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:06:12.436 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:06:12.441 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:06:12.443 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 18:06:12.464 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:06:12.469 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:06:12.473 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:06:12.549 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/pedidos
2025-11-10 18:06:12.552 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/pedidos
2025-11-10 18:06:12.552 [main] WARN  [5cc8b95fc452481d] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 18:06:12.682 [main] DEBUG [5cc8b95fc452481d] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 18:06:12.687 [main] DEBUG [5cc8b95fc452481d] org.hibernate.SQL - select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.id=?
2025-11-10 18:06:12.689 [main] DEBUG [5cc8b95fc452481d] org.hibernate.SQL - select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0 where p1_0.id=?
2025-11-10 18:06:12.693 [main] DEBUG [5cc8b95fc452481d] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Pedido */insert into pedido (cep,cliente_id,data_pedido,endereco_entrega,forma_pagamento,observacoes,restaurante_id,status,subtotal,taxa_entrega,valor_total,id) values (?,?,?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:06:12.723 [main] DEBUG [5cc8b95fc452481d] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.ItemPedido */insert into item_pedido (observacoes,pedido_id,preco_unitario,produto_id,quantidade,subtotal,id) values (?,?,?,?,?,?,default)
2025-11-10 18:06:12.774 [main] DEBUG [5cc8b95fc452481d] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 18:06:12.785 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/pedidos/cliente/6
2025-11-10 18:06:12.791 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/pedidos/cliente/6
2025-11-10 18:06:12.791 [main] WARN  [90c98f462baa4560] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 18:06:12.798 [main] DEBUG [90c98f462baa4560] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.cep,p1_0.cliente_id,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.restaurante_id,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where c1_0.id=?
2025-11-10 18:06:12.800 [main] DEBUG [90c98f462baa4560] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 18:06:12.802 [main] DEBUG [90c98f462baa4560] org.hibernate.SQL - select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.id=?
2025-11-10 18:06:12.802 [main] DEBUG [90c98f462baa4560] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:06:12.808 [main] DEBUG [90c98f462baa4560] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 18:06:12.902 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:06:12.910 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:06:12.912 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:06:12.912 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:06:12.912 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:06:12.912 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:06:12.912 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:06:12.918 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 18:06:12.918 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 18:11:54.101 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Starting PedidoControllerIT using Java 17.0.16 with PID 25072 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 18:11:54.101 [main] DEBUG [] c.d.d.controller.PedidoControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 18:11:54.101 [main] INFO  [] c.d.d.controller.PedidoControllerIT - The following 1 profile is active: "test"
2025-11-10 18:11:55.474 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:11:55.474 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 18:11:55.652 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 172 ms. Found 5 JPA repository interfaces.
2025-11-10 18:11:55.684 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:11:55.695 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 18:11:55.718 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:11:55.718 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:11:55.718 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:11:55.718 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:11:55.718 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:11:55.718 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2025-11-10 18:11:57.617 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 18:11:57.652 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 18:11:57.885 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 18:11:57.885 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 18:11:57.935 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 18:11:59.101 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:11:59.118 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:11:59.118 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:11:59.118 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:11:59.118 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:11:59.118 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:11:59.118 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 18:11:59.118 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 18:11:59.135 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 18:11:59.135 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 18:11:59.135 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 18:11:59.135 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 18:11:59.135 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 18:11:59.151 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 18:11:59.152 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 18:11:59.152 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 18:11:59.152 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 18:11:59.152 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:11:59.502 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 18:12:01.151 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 18:12:01.151 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 18:12:01.336 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 18:12:02.885 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 18:12:03.002 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 18:12:03.002 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 18:12:03.002 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 18:12:03.002 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2025-11-10 18:12:03.107 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Started PedidoControllerIT in 9.473 seconds (process running for 10.557)
2025-11-10 18:12:03.251 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 18:12:03.336 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:12:03.368 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:12:03.368 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 18:12:03.368 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:12:03.368 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:12:03.435 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 18:12:03.452 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 18:12:03.452 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 18:12:03.468 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 18:12:03.468 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 18:12:03.468 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 18:12:03.485 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 18:12:03.502 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:12:03.502 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:12:03.521 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:12:03.524 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:12:03.524 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:12:03.524 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:12:03.524 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:12:03.535 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:12:03.536 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:12:03.536 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:12:03.536 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:12:03.536 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:12:03.536 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:12:03.536 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:12:03.536 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:12:03.536 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:12:03.551 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:12:03.551 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:12:03.551 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:12:03.551 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:12:03.551 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:12:03.551 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:12:03.551 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:12:03.551 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:12:03.551 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:12:03.551 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:12:03.551 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:12:03.551 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:12:03.551 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:12:03.551 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:12:03.551 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:12:03.551 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:12:03.551 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:12:03.568 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:12:03.568 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:12:03.568 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:12:03.574 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:12:03.574 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:12:03.574 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:12:03.574 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:12:03.574 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:12:03.574 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:12:03.574 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:12:03.574 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:12:03.574 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:12:03.574 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:12:03.574 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:12:03.574 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:12:03.574 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:12:03.574 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:12:03.583 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:12:03.585 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 18:12:03.602 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:12:03.607 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:12:03.607 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:12:03.701 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/pedidos
2025-11-10 18:12:03.718 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/pedidos
2025-11-10 18:12:03.718 [main] WARN  [7babc3267072474f] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 18:12:03.853 [main] DEBUG [7babc3267072474f] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 18:12:03.853 [main] DEBUG [7babc3267072474f] org.hibernate.SQL - select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.id=?
2025-11-10 18:12:03.865 [main] DEBUG [7babc3267072474f] org.hibernate.SQL - select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0 where p1_0.id=?
2025-11-10 18:12:03.868 [main] DEBUG [7babc3267072474f] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Pedido */insert into pedido (cep,cliente_id,data_pedido,endereco_entrega,forma_pagamento,observacoes,restaurante_id,status,subtotal,taxa_entrega,valor_total,id) values (?,?,?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:12:03.902 [main] DEBUG [7babc3267072474f] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.ItemPedido */insert into item_pedido (observacoes,pedido_id,preco_unitario,produto_id,quantidade,subtotal,id) values (?,?,?,?,?,?,default)
2025-11-10 18:12:03.939 [main] DEBUG [7babc3267072474f] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 18:12:03.957 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/pedidos/cliente/6
2025-11-10 18:12:03.959 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/pedidos/cliente/6
2025-11-10 18:12:03.959 [main] WARN  [448cc82a6d544724] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 18:12:03.959 [main] DEBUG [448cc82a6d544724] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.cep,p1_0.cliente_id,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.restaurante_id,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where c1_0.id=?
2025-11-10 18:12:03.967 [main] DEBUG [448cc82a6d544724] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 18:12:03.968 [main] DEBUG [448cc82a6d544724] org.hibernate.SQL - select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.id=?
2025-11-10 18:12:03.968 [main] DEBUG [448cc82a6d544724] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:12:03.968 [main] DEBUG [448cc82a6d544724] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 18:12:04.058 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:12:04.058 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:12:04.058 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:12:04.067 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:12:04.068 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:12:04.068 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:12:04.068 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:12:04.068 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 18:12:04.068 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 18:12:19.727 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Starting PedidoControllerIT using Java 17.0.16 with PID 22940 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 18:12:19.732 [main] DEBUG [] c.d.d.controller.PedidoControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 18:12:19.732 [main] INFO  [] c.d.d.controller.PedidoControllerIT - The following 1 profile is active: "test"
2025-11-10 18:12:21.121 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:12:21.130 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 18:12:21.318 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 181 ms. Found 5 JPA repository interfaces.
2025-11-10 18:12:21.349 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:12:21.351 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 18:12:21.368 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:12:21.368 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:12:21.368 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:12:21.368 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:12:21.368 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:12:21.368 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-11-10 18:12:23.186 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 18:12:23.251 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 18:12:23.499 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 18:12:23.501 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 18:12:23.538 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 18:12:24.668 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:12:24.668 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:12:24.668 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:12:24.668 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:12:24.668 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:12:24.668 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:12:24.668 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 18:12:24.684 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 18:12:24.684 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 18:12:24.684 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 18:12:24.684 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 18:12:24.684 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 18:12:24.701 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 18:12:24.702 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 18:12:24.702 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 18:12:24.702 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 18:12:24.717 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 18:12:24.722 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:12:25.123 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 18:12:26.901 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 18:12:26.901 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 18:12:27.125 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 18:12:28.840 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 18:12:28.967 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 18:12:28.967 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 18:12:28.967 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 18:12:28.975 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 8 ms
2025-11-10 18:12:29.085 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Started PedidoControllerIT in 9.779 seconds (process running for 10.789)
2025-11-10 18:12:29.244 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 18:12:29.332 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:12:29.380 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:12:29.383 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 18:12:29.383 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:12:29.391 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:12:29.453 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 18:12:29.484 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 18:12:29.489 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 18:12:29.500 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 18:12:29.508 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 18:12:29.510 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 18:12:29.517 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 18:12:29.538 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:12:29.547 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:12:29.557 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:12:29.573 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:12:29.573 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:12:29.573 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:12:29.573 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:12:29.578 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:12:29.578 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:12:29.585 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:12:29.592 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:12:29.594 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:12:29.597 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:12:29.597 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:12:29.597 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:12:29.601 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:12:29.601 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:12:29.601 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:12:29.604 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:12:29.604 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:12:29.606 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:12:29.606 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:12:29.606 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:12:29.606 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:12:29.619 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:12:29.619 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:12:29.619 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:12:29.619 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:12:29.619 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:12:29.619 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:12:29.619 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:12:29.619 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:12:29.619 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:12:29.624 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:12:29.631 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:12:29.631 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:12:29.636 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:12:29.636 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:12:29.638 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:12:29.638 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:12:29.638 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:12:29.638 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:12:29.638 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:12:29.638 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:12:29.644 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:12:29.644 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:12:29.644 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:12:29.644 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:12:29.644 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:12:29.644 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:12:29.650 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:12:29.652 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 18:12:29.669 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:12:29.684 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:12:29.688 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:12:29.808 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/pedidos
2025-11-10 18:12:29.842 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/pedidos
2025-11-10 18:12:29.845 [main] WARN  [1f6f8f0ac9904da4] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 18:12:30.019 [main] DEBUG [1f6f8f0ac9904da4] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 18:12:30.019 [main] DEBUG [1f6f8f0ac9904da4] org.hibernate.SQL - select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.id=?
2025-11-10 18:12:30.019 [main] DEBUG [1f6f8f0ac9904da4] org.hibernate.SQL - select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0 where p1_0.id=?
2025-11-10 18:12:30.019 [main] DEBUG [1f6f8f0ac9904da4] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Pedido */insert into pedido (cep,cliente_id,data_pedido,endereco_entrega,forma_pagamento,observacoes,restaurante_id,status,subtotal,taxa_entrega,valor_total,id) values (?,?,?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:12:30.056 [main] DEBUG [1f6f8f0ac9904da4] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.ItemPedido */insert into item_pedido (observacoes,pedido_id,preco_unitario,produto_id,quantidade,subtotal,id) values (?,?,?,?,?,?,default)
2025-11-10 18:12:30.100 [main] DEBUG [1f6f8f0ac9904da4] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 18:12:30.171 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:12:30.171 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:12:30.174 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:12:30.176 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:12:30.176 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:12:30.176 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:12:30.176 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:12:30.180 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 18:12:30.186 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 18:14:21.389 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Starting PedidoControllerIT using Java 17.0.16 with PID 5448 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 18:14:21.389 [main] DEBUG [] c.d.d.controller.PedidoControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 18:14:21.389 [main] INFO  [] c.d.d.controller.PedidoControllerIT - The following 1 profile is active: "test"
2025-11-10 18:14:22.734 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:14:22.734 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 18:14:22.958 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 196 ms. Found 5 JPA repository interfaces.
2025-11-10 18:14:22.984 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:14:22.984 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 18:14:23.007 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:14:23.007 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:14:23.007 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:14:23.007 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:14:23.007 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:14:23.007 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-11-10 18:14:24.734 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 18:14:24.785 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 18:14:25.018 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 18:14:25.022 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 18:14:25.051 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 18:14:26.141 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:14:26.150 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:14:26.151 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:14:26.151 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:14:26.151 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:14:26.151 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:14:26.157 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 18:14:26.164 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 18:14:26.166 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 18:14:26.168 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 18:14:26.168 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 18:14:26.168 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 18:14:26.168 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 18:14:26.184 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 18:14:26.184 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 18:14:26.184 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 18:14:26.189 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 18:14:26.189 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:14:26.606 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 18:14:28.126 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 18:14:28.126 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 18:14:28.301 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 18:14:29.837 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 18:14:29.952 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 18:14:29.952 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 18:14:29.952 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 18:14:29.952 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2025-11-10 18:14:30.039 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Started PedidoControllerIT in 9.088 seconds (process running for 10.081)
2025-11-10 18:14:30.184 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 18:14:30.268 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:14:30.318 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:14:30.327 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 18:14:30.327 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:14:30.334 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:14:30.401 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 18:14:30.418 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 18:14:30.427 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 18:14:30.434 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 18:14:30.434 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 18:14:30.450 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 18:14:30.452 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 18:14:30.485 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:14:30.491 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:14:30.502 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:14:30.518 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:14:30.518 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:14:30.518 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:14:30.518 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:14:30.518 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:14:30.527 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:14:30.534 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:14:30.534 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:14:30.534 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:14:30.534 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:14:30.534 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:14:30.534 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:14:30.534 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:14:30.534 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:14:30.534 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:14:30.534 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:14:30.549 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:14:30.550 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:14:30.551 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:14:30.551 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:14:30.551 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:14:30.551 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:14:30.551 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:14:30.551 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:14:30.551 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:14:30.551 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:14:30.551 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:14:30.551 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:14:30.551 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:14:30.551 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:14:30.568 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:14:30.569 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:14:30.572 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:14:30.572 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:14:30.577 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:14:30.579 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:14:30.579 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:14:30.579 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:14:30.579 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:14:30.584 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:14:30.585 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:14:30.587 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:14:30.587 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:14:30.588 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:14:30.589 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:14:30.589 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:14:30.592 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:14:30.594 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:14:30.600 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 18:14:30.627 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:14:30.635 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:14:30.635 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:14:30.734 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/pedidos
2025-11-10 18:14:30.740 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/pedidos
2025-11-10 18:14:30.740 [main] WARN  [dc05fe39ec6440b6] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 18:14:30.888 [main] DEBUG [dc05fe39ec6440b6] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 18:14:30.896 [main] DEBUG [dc05fe39ec6440b6] org.hibernate.SQL - select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.id=?
2025-11-10 18:14:30.901 [main] DEBUG [dc05fe39ec6440b6] org.hibernate.SQL - select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0 where p1_0.id=?
2025-11-10 18:14:30.905 [main] DEBUG [dc05fe39ec6440b6] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Pedido */insert into pedido (cep,cliente_id,data_pedido,endereco_entrega,forma_pagamento,observacoes,restaurante_id,status,subtotal,taxa_entrega,valor_total,id) values (?,?,?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:14:30.952 [main] DEBUG [dc05fe39ec6440b6] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.ItemPedido */insert into item_pedido (observacoes,pedido_id,preco_unitario,produto_id,quantidade,subtotal,id) values (?,?,?,?,?,?,default)
2025-11-10 18:14:30.988 [main] DEBUG [dc05fe39ec6440b6] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 18:14:31.025 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing PUT /api/pedidos/4/status
2025-11-10 18:14:31.028 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured PUT /api/pedidos/4/status
2025-11-10 18:14:31.028 [main] WARN  [5f3c7a9c063e4bde] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 18:14:31.038 [main] DEBUG [5f3c7a9c063e4bde] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 18:14:31.084 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:14:31.084 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:14:31.084 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:14:31.084 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:14:31.084 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:14:31.084 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:14:31.084 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:14:31.084 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 18:14:31.084 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 18:16:44.834 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Starting PedidoControllerIT using Java 17.0.16 with PID 19488 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 18:16:44.836 [main] DEBUG [] c.d.d.controller.PedidoControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 18:16:44.837 [main] INFO  [] c.d.d.controller.PedidoControllerIT - The following 1 profile is active: "test"
2025-11-10 18:16:46.230 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:16:46.233 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 18:16:46.411 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 163 ms. Found 5 JPA repository interfaces.
2025-11-10 18:16:46.440 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:16:46.442 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 18:16:46.462 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:16:46.466 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:16:46.467 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:16:46.467 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:16:46.468 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:16:46.468 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2025-11-10 18:16:48.255 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 18:16:48.299 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 18:16:48.522 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 18:16:48.524 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 18:16:48.557 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 18:16:49.687 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:16:49.691 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:16:49.691 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:16:49.692 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:16:49.692 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:16:49.693 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:16:49.697 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 18:16:49.706 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 18:16:49.706 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 18:16:49.706 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 18:16:49.706 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 18:16:49.706 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 18:16:49.714 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 18:16:49.723 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 18:16:49.723 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 18:16:49.723 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 18:16:49.723 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 18:16:49.734 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:16:50.089 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 18:16:51.638 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 18:16:51.638 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 18:16:51.839 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 18:16:53.434 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 18:16:53.550 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 18:16:53.552 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 18:16:53.552 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 18:16:53.552 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2025-11-10 18:16:53.661 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Started PedidoControllerIT in 9.272 seconds (process running for 10.214)
2025-11-10 18:16:53.801 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 18:16:53.885 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:16:53.922 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:16:53.926 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 18:16:53.930 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:16:53.934 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:16:54.002 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 18:16:54.023 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 18:16:54.034 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 18:16:54.038 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 18:16:54.046 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 18:16:54.052 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 18:16:54.058 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 18:16:54.089 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:16:54.092 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:16:54.102 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:16:54.121 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:16:54.121 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:16:54.127 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:16:54.130 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:16:54.130 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:16:54.133 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:16:54.141 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:16:54.143 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:16:54.145 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:16:54.149 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:16:54.150 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:16:54.150 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:16:54.152 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:16:54.152 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:16:54.152 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:16:54.152 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:16:54.155 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:16:54.155 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:16:54.155 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:16:54.157 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:16:54.163 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:16:54.166 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:16:54.167 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:16:54.167 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:16:54.167 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:16:54.167 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:16:54.168 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:16:54.168 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:16:54.168 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:16:54.168 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:16:54.172 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:16:54.174 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:16:54.176 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:16:54.176 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:16:54.178 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:16:54.178 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:16:54.178 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:16:54.180 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:16:54.180 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:16:54.180 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:16:54.182 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:16:54.184 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:16:54.184 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:16:54.184 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:16:54.184 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:16:54.184 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:16:54.186 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:16:54.187 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:16:54.191 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 18:16:54.219 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:16:54.219 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:16:54.226 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:16:54.322 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/pedidos
2025-11-10 18:16:54.334 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/pedidos
2025-11-10 18:16:54.334 [main] WARN  [a88d75eb76a74348] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 18:16:54.464 [main] DEBUG [a88d75eb76a74348] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 18:16:54.468 [main] DEBUG [a88d75eb76a74348] org.hibernate.SQL - select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.id=?
2025-11-10 18:16:54.472 [main] DEBUG [a88d75eb76a74348] org.hibernate.SQL - select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0 where p1_0.id=?
2025-11-10 18:16:54.474 [main] DEBUG [a88d75eb76a74348] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Pedido */insert into pedido (cep,cliente_id,data_pedido,endereco_entrega,forma_pagamento,observacoes,restaurante_id,status,subtotal,taxa_entrega,valor_total,id) values (?,?,?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:16:54.508 [main] DEBUG [a88d75eb76a74348] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.ItemPedido */insert into item_pedido (observacoes,pedido_id,preco_unitario,produto_id,quantidade,subtotal,id) values (?,?,?,?,?,?,default)
2025-11-10 18:16:54.541 [main] DEBUG [a88d75eb76a74348] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 18:16:54.573 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing PUT /api/pedidos/4/status
2025-11-10 18:16:54.575 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured PUT /api/pedidos/4/status
2025-11-10 18:16:54.575 [main] WARN  [de49611c84c249dd] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 18:16:54.586 [main] DEBUG [de49611c84c249dd] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 18:16:54.642 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:16:54.642 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:16:54.647 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:16:54.650 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:16:54.650 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:16:54.651 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:16:54.652 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:16:54.654 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 18:16:54.654 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 18:19:27.437 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Starting PedidoControllerIT using Java 17.0.16 with PID 23384 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 18:19:27.439 [main] DEBUG [] c.d.d.controller.PedidoControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 18:19:27.440 [main] INFO  [] c.d.d.controller.PedidoControllerIT - The following 1 profile is active: "test"
2025-11-10 18:19:29.537 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:19:29.537 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 18:19:29.783 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 224 ms. Found 5 JPA repository interfaces.
2025-11-10 18:19:29.813 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:19:29.815 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 18:19:29.839 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:19:29.839 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:19:29.839 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:19:29.839 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:19:29.839 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:19:29.839 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-11-10 18:19:32.647 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 18:19:32.735 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 18:19:33.328 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 18:19:33.332 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 18:19:33.400 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 18:19:35.601 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:19:35.611 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:19:35.611 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:19:35.611 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:19:35.617 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:19:35.617 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:19:35.631 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 18:19:35.656 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 18:19:35.662 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 18:19:35.668 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 18:19:35.670 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 18:19:35.672 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 18:19:35.674 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 18:19:35.701 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 18:19:35.715 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 18:19:35.717 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 18:19:35.720 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 18:19:35.728 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:19:36.304 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 18:19:38.715 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 18:19:38.715 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 18:19:39.008 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 18:19:41.295 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 18:19:41.459 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 18:19:41.459 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 18:19:41.459 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 18:19:41.459 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2025-11-10 18:19:41.574 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Started PedidoControllerIT in 14.907 seconds (process running for 17.073)
2025-11-10 18:19:41.737 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 18:19:41.819 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:19:41.865 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:19:41.869 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 18:19:41.871 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:19:41.873 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:19:41.951 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 18:19:41.990 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 18:19:42.003 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 18:19:42.006 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 18:19:42.019 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 18:19:42.023 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 18:19:42.030 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 18:19:42.069 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:19:42.073 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:19:42.087 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:19:42.091 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:19:42.102 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:19:42.103 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:19:42.105 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:19:42.107 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:19:42.107 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:19:42.107 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:19:42.118 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:19:42.121 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:19:42.122 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:19:42.123 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:19:42.124 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:19:42.124 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:19:42.124 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:19:42.124 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:19:42.124 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:19:42.124 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:19:42.124 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:19:42.124 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:19:42.124 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:19:42.124 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:19:42.135 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:19:42.135 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:19:42.135 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:19:42.135 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:19:42.135 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:19:42.135 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:19:42.135 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:19:42.135 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:19:42.135 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:19:42.135 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:19:42.135 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:19:42.135 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:19:42.135 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:19:42.135 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:19:42.135 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:19:42.150 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:19:42.150 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:19:42.151 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:19:42.152 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:19:42.152 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:19:42.152 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:19:42.152 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:19:42.152 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:19:42.152 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:19:42.152 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:19:42.152 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:19:42.152 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:19:42.152 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 18:19:42.189 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:19:42.193 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:19:42.198 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:19:42.296 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/pedidos
2025-11-10 18:19:42.320 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/pedidos
2025-11-10 18:19:42.323 [main] WARN  [c4f1756b70644979] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 18:19:42.525 [main] DEBUG [c4f1756b70644979] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 18:19:42.533 [main] DEBUG [c4f1756b70644979] org.hibernate.SQL - select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.id=?
2025-11-10 18:19:42.539 [main] DEBUG [c4f1756b70644979] org.hibernate.SQL - select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0 where p1_0.id=?
2025-11-10 18:19:42.541 [main] DEBUG [c4f1756b70644979] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Pedido */insert into pedido (cep,cliente_id,data_pedido,endereco_entrega,forma_pagamento,observacoes,restaurante_id,status,subtotal,taxa_entrega,valor_total,id) values (?,?,?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:19:42.592 [main] DEBUG [c4f1756b70644979] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.ItemPedido */insert into item_pedido (observacoes,pedido_id,preco_unitario,produto_id,quantidade,subtotal,id) values (?,?,?,?,?,?,default)
2025-11-10 18:19:42.651 [main] DEBUG [c4f1756b70644979] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 18:19:42.690 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing PUT /api/pedidos/4/status
2025-11-10 18:19:42.690 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured PUT /api/pedidos/4/status
2025-11-10 18:19:42.690 [main] WARN  [56d6ab1ffd62444f] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 18:19:42.713 [main] DEBUG [56d6ab1ffd62444f] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 18:19:42.765 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:19:42.765 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:19:42.765 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:19:42.765 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:19:42.765 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:19:42.765 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:19:42.765 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:19:42.781 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 18:19:42.781 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 18:22:55.126 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Starting PedidoControllerIT using Java 17.0.16 with PID 18260 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 18:22:55.126 [main] DEBUG [] c.d.d.controller.PedidoControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 18:22:55.126 [main] INFO  [] c.d.d.controller.PedidoControllerIT - The following 1 profile is active: "test"
2025-11-10 18:22:56.668 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:22:56.670 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 18:22:56.881 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 202 ms. Found 5 JPA repository interfaces.
2025-11-10 18:22:56.898 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:22:56.914 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 18:22:56.940 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:22:56.940 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:22:56.940 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:22:56.940 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:22:56.940 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:22:56.940 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2025-11-10 18:22:58.845 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 18:22:58.884 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 18:22:59.117 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 18:22:59.125 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 18:22:59.152 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 18:23:00.332 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:23:00.348 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:23:00.348 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:23:00.348 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:23:00.348 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:23:00.348 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:23:00.348 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 18:23:00.363 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 18:23:00.367 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 18:23:00.367 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 18:23:00.367 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 18:23:00.367 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 18:23:00.367 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 18:23:00.383 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 18:23:00.383 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 18:23:00.383 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 18:23:00.383 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 18:23:00.383 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:23:00.734 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 18:23:02.265 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 18:23:02.265 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 18:23:02.436 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 18:23:04.111 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 18:23:04.220 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 18:23:04.231 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 18:23:04.233 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 18:23:04.233 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2025-11-10 18:23:04.320 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Started PedidoControllerIT in 9.686 seconds (process running for 10.783)
2025-11-10 18:23:04.468 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 18:23:04.566 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:23:04.618 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:23:04.621 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 18:23:04.623 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:23:04.627 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:23:04.684 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 18:23:04.706 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 18:23:04.723 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 18:23:04.723 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 18:23:04.734 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 18:23:04.734 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 18:23:04.734 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 18:23:04.768 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:23:04.768 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:23:04.792 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:23:04.802 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:23:04.802 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:23:04.802 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:23:04.802 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:23:04.802 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:23:04.802 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:23:04.821 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:23:04.821 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:23:04.821 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:23:04.821 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:23:04.831 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:23:04.831 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:23:04.831 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:23:04.833 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:23:04.835 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:23:04.835 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:23:04.836 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:23:04.836 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:23:04.836 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:23:04.836 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:23:04.840 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:23:04.840 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:23:04.840 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:23:04.840 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:23:04.850 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:23:04.850 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:23:04.851 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:23:04.851 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:23:04.852 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:23:04.852 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:23:04.854 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:23:04.858 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:23:04.858 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:23:04.858 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:23:04.858 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:23:04.858 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:23:04.858 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:23:04.858 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:23:04.858 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:23:04.864 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:23:04.864 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:23:04.867 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:23:04.867 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:23:04.867 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:23:04.867 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:23:04.867 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:23:04.867 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:23:04.873 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:23:04.873 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 18:23:04.906 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:23:04.906 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:23:04.916 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:23:05.021 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/pedidos
2025-11-10 18:23:05.046 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/pedidos
2025-11-10 18:23:05.054 [main] WARN  [d7a8dcd8ef0c47e5] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 18:23:05.204 [main] DEBUG [d7a8dcd8ef0c47e5] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 18:23:05.206 [main] DEBUG [d7a8dcd8ef0c47e5] org.hibernate.SQL - select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.id=?
2025-11-10 18:23:05.206 [main] DEBUG [d7a8dcd8ef0c47e5] org.hibernate.SQL - select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0 where p1_0.id=?
2025-11-10 18:23:05.206 [main] DEBUG [d7a8dcd8ef0c47e5] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Pedido */insert into pedido (cep,cliente_id,data_pedido,endereco_entrega,forma_pagamento,observacoes,restaurante_id,status,subtotal,taxa_entrega,valor_total,id) values (?,?,?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:23:05.240 [main] DEBUG [d7a8dcd8ef0c47e5] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.ItemPedido */insert into item_pedido (observacoes,pedido_id,preco_unitario,produto_id,quantidade,subtotal,id) values (?,?,?,?,?,?,default)
2025-11-10 18:23:05.288 [main] DEBUG [d7a8dcd8ef0c47e5] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 18:23:05.305 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing PATCH /api/pedidos/4/status
2025-11-10 18:23:05.305 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured PATCH /api/pedidos/4/status
2025-11-10 18:23:05.305 [main] WARN  [4c4a22f533314704] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 18:23:05.326 [main] DEBUG [4c4a22f533314704] org.hibernate.SQL - select p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.id=?
2025-11-10 18:23:05.334 [main] DEBUG [4c4a22f533314704] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:23:05.341 [main] DEBUG [4c4a22f533314704] org.hibernate.SQL - /* update for com.deliverytech.delivery_api.model.Pedido */update pedido set cep=?,cliente_id=?,data_pedido=?,endereco_entrega=?,forma_pagamento=?,observacoes=?,restaurante_id=?,status=?,subtotal=?,taxa_entrega=?,valor_total=? where id=?
2025-11-10 18:23:05.341 [main] DEBUG [4c4a22f533314704] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 18:23:05.425 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:23:05.425 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:23:05.431 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:23:05.431 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:23:05.433 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:23:05.434 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:23:05.434 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:23:05.436 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 18:23:05.436 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 18:24:03.168 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Starting PedidoControllerIT using Java 17.0.16 with PID 21300 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 18:24:03.174 [main] DEBUG [] c.d.d.controller.PedidoControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 18:24:03.175 [main] INFO  [] c.d.d.controller.PedidoControllerIT - The following 1 profile is active: "test"
2025-11-10 18:24:04.862 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:24:04.865 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 18:24:05.067 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 196 ms. Found 5 JPA repository interfaces.
2025-11-10 18:24:05.100 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:24:05.100 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 18:24:05.123 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:24:05.123 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:24:05.123 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:24:05.132 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:24:05.132 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:24:05.132 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2025-11-10 18:24:07.367 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 18:24:07.434 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 18:24:07.793 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 18:24:07.793 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 18:24:07.851 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 18:24:09.550 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:24:09.567 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:24:09.567 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:24:09.567 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:24:09.567 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:24:09.567 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:24:09.567 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 18:24:09.583 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 18:24:09.583 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 18:24:09.583 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 18:24:09.583 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 18:24:09.583 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 18:24:09.598 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 18:24:09.602 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 18:24:09.602 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 18:24:09.616 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 18:24:09.617 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 18:24:09.617 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:24:10.070 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 18:24:12.496 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 18:24:12.496 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 18:24:12.740 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 18:24:14.787 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 18:24:14.922 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 18:24:14.922 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 18:24:14.922 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 18:24:14.934 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 12 ms
2025-11-10 18:24:15.050 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Started PedidoControllerIT in 12.35 seconds (process running for 13.464)
2025-11-10 18:24:15.225 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 18:24:15.334 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:24:15.390 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:24:15.398 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 18:24:15.402 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:24:15.404 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:24:15.484 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 18:24:15.518 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 18:24:15.534 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 18:24:15.542 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 18:24:15.542 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 18:24:15.551 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 18:24:15.561 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 18:24:15.598 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:24:15.608 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:24:15.621 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:24:15.634 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:24:15.634 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:24:15.644 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:24:15.648 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:24:15.650 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:24:15.651 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:24:15.664 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:24:15.667 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:24:15.667 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:24:15.667 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:24:15.667 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:24:15.667 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:24:15.667 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:24:15.678 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:24:15.678 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:24:15.678 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:24:15.680 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:24:15.682 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:24:15.682 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:24:15.683 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:24:15.690 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:24:15.693 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:24:15.693 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:24:15.693 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:24:15.693 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:24:15.693 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:24:15.693 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:24:15.693 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:24:15.693 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:24:15.693 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:24:15.702 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:24:15.704 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:24:15.706 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:24:15.709 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:24:15.709 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:24:15.711 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:24:15.714 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:24:15.717 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:24:15.718 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:24:15.721 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:24:15.722 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:24:15.724 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:24:15.724 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:24:15.725 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:24:15.726 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:24:15.726 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:24:15.730 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:24:15.734 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:24:15.734 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 18:24:15.774 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:24:15.777 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:24:15.784 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:24:15.907 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/pedidos
2025-11-10 18:24:15.935 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/pedidos
2025-11-10 18:24:15.935 [main] WARN  [e72feb61bb1d4dd8] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 18:24:16.098 [main] DEBUG [e72feb61bb1d4dd8] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 18:24:16.101 [main] DEBUG [e72feb61bb1d4dd8] org.hibernate.SQL - select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.id=?
2025-11-10 18:24:16.101 [main] DEBUG [e72feb61bb1d4dd8] org.hibernate.SQL - select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0 where p1_0.id=?
2025-11-10 18:24:16.108 [main] DEBUG [e72feb61bb1d4dd8] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Pedido */insert into pedido (cep,cliente_id,data_pedido,endereco_entrega,forma_pagamento,observacoes,restaurante_id,status,subtotal,taxa_entrega,valor_total,id) values (?,?,?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:24:16.159 [main] DEBUG [e72feb61bb1d4dd8] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.ItemPedido */insert into item_pedido (observacoes,pedido_id,preco_unitario,produto_id,quantidade,subtotal,id) values (?,?,?,?,?,?,default)
2025-11-10 18:24:16.210 [main] DEBUG [e72feb61bb1d4dd8] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 18:24:16.234 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing PATCH /api/pedidos/4/status
2025-11-10 18:24:16.239 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured PATCH /api/pedidos/4/status
2025-11-10 18:24:16.241 [main] WARN  [3e715aa011fd4749] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 18:24:16.255 [main] DEBUG [3e715aa011fd4749] org.hibernate.SQL - select p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.id=?
2025-11-10 18:24:16.266 [main] DEBUG [3e715aa011fd4749] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:24:16.275 [main] DEBUG [3e715aa011fd4749] org.hibernate.SQL - /* update for com.deliverytech.delivery_api.model.Pedido */update pedido set cep=?,cliente_id=?,data_pedido=?,endereco_entrega=?,forma_pagamento=?,observacoes=?,restaurante_id=?,status=?,subtotal=?,taxa_entrega=?,valor_total=? where id=?
2025-11-10 18:24:16.277 [main] DEBUG [3e715aa011fd4749] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 18:24:16.416 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:24:16.418 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:24:16.422 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:24:16.422 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:24:16.426 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:24:16.426 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:24:16.427 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:24:16.431 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 18:24:16.435 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 18:24:40.477 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Starting PedidoControllerIT using Java 17.0.16 with PID 27560 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 18:24:40.481 [main] DEBUG [] c.d.d.controller.PedidoControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 18:24:40.483 [main] INFO  [] c.d.d.controller.PedidoControllerIT - The following 1 profile is active: "test"
2025-11-10 18:24:42.627 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:24:42.629 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 18:24:42.943 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 295 ms. Found 5 JPA repository interfaces.
2025-11-10 18:24:42.975 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:24:42.985 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 18:24:43.017 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:24:43.017 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:24:43.017 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:24:43.017 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:24:43.017 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:24:43.017 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
2025-11-10 18:24:45.886 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 18:24:45.968 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 18:24:46.335 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 18:24:46.341 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 18:24:46.397 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 18:24:48.217 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:24:48.217 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:24:48.217 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:24:48.217 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:24:48.217 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:24:48.217 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:24:48.233 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 18:24:48.249 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 18:24:48.250 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 18:24:48.250 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 18:24:48.250 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 18:24:48.257 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 18:24:48.257 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 18:24:48.267 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 18:24:48.267 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 18:24:48.267 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 18:24:48.282 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 18:24:48.285 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:24:48.795 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 18:24:51.309 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 18:24:51.315 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 18:24:51.646 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 18:24:53.865 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 18:24:54.047 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 18:24:54.047 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 18:24:54.051 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 18:24:54.055 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 4 ms
2025-11-10 18:24:54.200 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Started PedidoControllerIT in 14.249 seconds (process running for 15.258)
2025-11-10 18:24:54.474 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 18:24:54.693 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:24:54.809 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:24:54.814 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 18:24:54.819 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:24:54.825 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:24:54.959 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 18:24:55.001 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 18:24:55.026 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 18:24:55.039 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 18:24:55.045 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 18:24:55.053 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 18:24:55.059 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 18:24:55.120 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:24:55.130 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:24:55.148 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:24:55.171 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:24:55.174 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:24:55.176 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:24:55.179 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:24:55.183 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:24:55.187 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:24:55.206 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:24:55.217 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:24:55.223 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:24:55.226 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:24:55.227 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:24:55.227 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:24:55.231 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:24:55.237 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:24:55.239 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:24:55.241 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:24:55.243 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:24:55.247 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:24:55.251 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:24:55.251 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:24:55.257 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:24:55.270 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:24:55.270 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:24:55.273 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:24:55.273 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:24:55.273 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:24:55.273 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:24:55.273 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:24:55.273 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:24:55.273 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:24:55.273 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:24:55.286 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:24:55.291 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:24:55.297 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:24:55.298 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:24:55.299 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:24:55.300 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:24:55.303 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:24:55.305 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:24:55.307 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:24:55.308 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:24:55.312 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:24:55.313 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:24:55.314 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:24:55.315 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:24:55.315 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:24:55.327 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:24:55.338 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:24:55.395 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 18:24:55.519 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:24:55.525 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:24:55.534 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:24:55.770 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/pedidos
2025-11-10 18:24:55.834 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/pedidos
2025-11-10 18:24:55.834 [main] WARN  [3769e7938cb8438f] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 18:24:56.147 [main] DEBUG [3769e7938cb8438f] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 18:24:56.151 [main] DEBUG [3769e7938cb8438f] org.hibernate.SQL - select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.id=?
2025-11-10 18:24:56.161 [main] DEBUG [3769e7938cb8438f] org.hibernate.SQL - select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0 where p1_0.id=?
2025-11-10 18:24:56.173 [main] DEBUG [3769e7938cb8438f] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Pedido */insert into pedido (cep,cliente_id,data_pedido,endereco_entrega,forma_pagamento,observacoes,restaurante_id,status,subtotal,taxa_entrega,valor_total,id) values (?,?,?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:24:56.249 [main] DEBUG [3769e7938cb8438f] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.ItemPedido */insert into item_pedido (observacoes,pedido_id,preco_unitario,produto_id,quantidade,subtotal,id) values (?,?,?,?,?,?,default)
2025-11-10 18:24:56.251 [main] DEBUG [3769e7938cb8438f] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.ItemPedido */insert into item_pedido (observacoes,pedido_id,preco_unitario,produto_id,quantidade,subtotal,id) values (?,?,?,?,?,?,default)
2025-11-10 18:24:56.336 [main] DEBUG [3769e7938cb8438f] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 18:24:56.534 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:24:56.536 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:24:56.540 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:24:56.543 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:24:56.543 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:24:56.543 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:24:56.547 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:24:56.553 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 18:24:56.555 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 18:25:37.100 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Starting PedidoControllerIT using Java 17.0.16 with PID 23164 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 18:25:37.103 [main] DEBUG [] c.d.d.controller.PedidoControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 18:25:37.104 [main] INFO  [] c.d.d.controller.PedidoControllerIT - The following 1 profile is active: "test"
2025-11-10 18:25:39.164 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:25:39.164 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 18:25:39.436 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 246 ms. Found 5 JPA repository interfaces.
2025-11-10 18:25:39.474 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:25:39.474 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 18:25:39.513 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:25:39.521 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:25:39.521 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:25:39.523 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:25:39.524 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:25:39.524 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2025-11-10 18:25:42.210 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 18:25:42.293 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 18:25:42.635 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 18:25:42.635 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 18:25:42.687 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 18:25:44.540 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:25:44.550 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:25:44.550 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:25:44.550 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:25:44.550 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:25:44.550 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:25:44.550 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 18:25:44.567 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 18:25:44.567 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 18:25:44.567 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 18:25:44.567 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 18:25:44.567 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 18:25:44.567 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 18:25:44.590 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 18:25:44.601 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 18:25:44.603 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 18:25:44.604 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 18:25:44.607 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:25:45.194 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 18:25:47.344 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 18:25:47.344 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 18:25:47.599 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 18:25:49.665 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 18:25:49.840 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 18:25:49.840 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 18:25:49.840 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 18:25:49.845 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 5 ms
2025-11-10 18:25:49.982 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Started PedidoControllerIT in 13.598 seconds (process running for 14.895)
2025-11-10 18:25:50.171 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 18:25:50.300 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:25:50.368 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:25:50.373 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 18:25:50.381 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:25:50.383 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:25:50.472 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 18:25:50.548 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 18:25:50.573 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 18:25:50.585 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 18:25:50.590 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 18:25:50.592 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 18:25:50.600 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 18:25:50.648 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:25:50.659 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:25:50.669 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:25:50.698 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:25:50.701 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:25:50.703 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:25:50.707 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:25:50.707 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:25:50.710 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:25:50.723 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:25:50.725 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:25:50.732 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:25:50.734 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:25:50.735 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:25:50.737 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:25:50.738 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:25:50.738 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:25:50.740 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:25:50.740 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:25:50.742 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:25:50.744 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:25:50.744 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:25:50.744 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:25:50.755 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:25:50.762 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:25:50.762 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:25:50.765 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:25:50.765 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:25:50.767 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:25:50.767 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:25:50.767 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:25:50.768 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:25:50.769 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:25:50.775 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:25:50.779 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:25:50.783 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:25:50.785 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:25:50.785 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:25:50.785 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:25:50.790 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:25:50.790 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:25:50.793 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:25:50.793 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:25:50.795 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:25:50.797 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:25:50.799 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:25:50.799 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:25:50.801 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:25:50.801 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:25:50.801 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:25:50.810 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:25:50.814 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 18:25:50.858 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:25:50.866 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:25:50.875 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:25:51.050 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/pedidos
2025-11-10 18:25:51.102 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/pedidos
2025-11-10 18:25:51.102 [main] WARN  [ed26368fc97b40de] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 18:25:51.369 [main] DEBUG [ed26368fc97b40de] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 18:25:51.375 [main] DEBUG [ed26368fc97b40de] org.hibernate.SQL - select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.id=?
2025-11-10 18:25:51.377 [main] DEBUG [ed26368fc97b40de] org.hibernate.SQL - select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0 where p1_0.id=?
2025-11-10 18:25:51.387 [main] DEBUG [ed26368fc97b40de] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Pedido */insert into pedido (cep,cliente_id,data_pedido,endereco_entrega,forma_pagamento,observacoes,restaurante_id,status,subtotal,taxa_entrega,valor_total,id) values (?,?,?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:25:51.448 [main] DEBUG [ed26368fc97b40de] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.ItemPedido */insert into item_pedido (observacoes,pedido_id,preco_unitario,produto_id,quantidade,subtotal,id) values (?,?,?,?,?,?,default)
2025-11-10 18:25:51.450 [main] DEBUG [ed26368fc97b40de] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.ItemPedido */insert into item_pedido (observacoes,pedido_id,preco_unitario,produto_id,quantidade,subtotal,id) values (?,?,?,?,?,?,default)
2025-11-10 18:25:51.518 [main] DEBUG [ed26368fc97b40de] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 18:25:51.672 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:25:51.681 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:25:51.683 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:25:51.683 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:25:51.689 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:25:51.689 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:25:51.691 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:25:51.691 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 18:25:51.698 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 18:26:45.682 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Starting PedidoControllerIT using Java 17.0.16 with PID 21944 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 18:26:45.690 [main] DEBUG [] c.d.d.controller.PedidoControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 18:26:45.690 [main] INFO  [] c.d.d.controller.PedidoControllerIT - The following 1 profile is active: "test"
2025-11-10 18:26:47.649 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:26:47.652 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 18:26:47.881 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 215 ms. Found 5 JPA repository interfaces.
2025-11-10 18:26:47.918 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:26:47.918 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 18:26:47.950 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:26:47.951 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:26:47.951 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:26:47.951 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:26:47.951 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:26:47.953 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2025-11-10 18:26:50.568 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 18:26:50.638 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 18:26:50.949 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 18:26:50.949 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 18:26:50.997 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 18:26:52.860 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:26:52.863 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:26:52.863 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:26:52.863 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:26:52.863 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:26:52.863 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:26:52.877 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 18:26:52.893 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 18:26:52.899 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 18:26:52.901 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 18:26:52.904 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 18:26:52.904 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 18:26:52.904 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 18:26:52.917 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 18:26:52.917 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 18:26:52.917 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 18:26:52.930 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 18:26:52.933 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:26:53.408 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 18:26:55.437 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 18:26:55.437 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 18:26:55.679 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 18:26:57.733 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 18:26:57.902 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 18:26:57.902 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 18:26:57.902 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 18:26:57.922 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2025-11-10 18:26:58.048 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Started PedidoControllerIT in 13.005 seconds (process running for 14.119)
2025-11-10 18:26:58.222 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 18:26:58.351 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:26:58.415 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:26:58.415 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 18:26:58.415 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:26:58.431 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:26:58.510 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 18:26:58.533 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 18:26:58.551 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 18:26:58.556 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 18:26:58.567 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 18:26:58.575 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 18:26:58.583 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 18:26:58.617 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:26:58.624 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:26:58.635 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:26:58.651 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:26:58.651 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:26:58.653 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:26:58.653 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:26:58.653 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:26:58.653 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:26:58.669 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:26:58.669 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:26:58.669 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:26:58.681 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:26:58.682 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:26:58.683 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:26:58.684 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:26:58.684 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:26:58.684 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:26:58.684 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:26:58.684 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:26:58.684 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:26:58.684 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:26:58.684 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:26:58.684 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:26:58.699 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:26:58.701 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:26:58.701 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:26:58.701 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:26:58.701 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:26:58.701 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:26:58.701 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:26:58.701 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:26:58.701 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:26:58.703 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:26:58.703 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:26:58.703 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:26:58.710 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:26:58.710 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:26:58.710 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:26:58.715 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:26:58.715 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:26:58.716 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:26:58.717 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:26:58.718 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:26:58.721 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:26:58.722 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:26:58.723 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:26:58.723 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:26:58.723 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:26:58.723 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:26:58.723 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:26:58.734 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 18:26:58.767 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:26:58.772 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:26:58.772 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:26:58.884 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/pedidos
2025-11-10 18:26:58.903 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/pedidos
2025-11-10 18:26:58.909 [main] WARN  [52440b579aba438b] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 18:26:59.077 [main] DEBUG [52440b579aba438b] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 18:26:59.085 [main] DEBUG [52440b579aba438b] org.hibernate.SQL - select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.id=?
2025-11-10 18:26:59.089 [main] DEBUG [52440b579aba438b] org.hibernate.SQL - select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0 where p1_0.id=?
2025-11-10 18:26:59.089 [main] DEBUG [52440b579aba438b] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Pedido */insert into pedido (cep,cliente_id,data_pedido,endereco_entrega,forma_pagamento,observacoes,restaurante_id,status,subtotal,taxa_entrega,valor_total,id) values (?,?,?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:26:59.140 [main] DEBUG [52440b579aba438b] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.ItemPedido */insert into item_pedido (observacoes,pedido_id,preco_unitario,produto_id,quantidade,subtotal,id) values (?,?,?,?,?,?,default)
2025-11-10 18:26:59.201 [main] DEBUG [52440b579aba438b] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 18:26:59.318 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:26:59.318 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:26:59.331 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:26:59.331 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:26:59.331 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:26:59.331 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:26:59.331 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:26:59.338 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 18:26:59.338 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 18:26:59.363 [main] INFO  [] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-10 18:26:59.417 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Starting PedidoControllerIT using Java 17.0.16 with PID 21944 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 18:26:59.417 [main] DEBUG [] c.d.d.controller.PedidoControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 18:26:59.417 [main] INFO  [] c.d.d.controller.PedidoControllerIT - The following 1 profile is active: "test"
2025-11-10 18:26:59.916 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:26:59.916 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 18:26:59.951 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 5 JPA repository interfaces.
2025-11-10 18:26:59.951 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:26:59.951 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 18:26:59.966 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:26:59.966 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:26:59.966 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:26:59.966 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:26:59.966 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:26:59.966 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-11-10 18:27:00.134 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 18:27:00.139 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-11-10 18:27:00.141 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection conn10: url=jdbc:h2:mem:testdb user=SA
2025-11-10 18:27:00.141 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-11-10 18:27:00.141 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 18:27:00.243 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:27:00.243 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:27:00.243 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:27:00.243 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:27:00.243 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:27:00.243 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:27:00.243 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 18:27:00.257 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 18:27:00.259 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 18:27:00.261 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 18:27:00.265 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 18:27:00.267 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 18:27:00.268 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 18:27:00.272 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 18:27:00.272 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 18:27:00.277 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 18:27:00.277 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 18:27:00.281 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:27:00.602 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 18:27:00.603 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 18:27:00.635 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 18:27:01.067 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 18:27:01.088 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 18:27:01.088 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 18:27:01.088 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 18:27:01.088 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2025-11-10 18:27:01.116 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Started PedidoControllerIT in 1.753 seconds (process running for 17.187)
2025-11-10 18:27:01.123 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 18:27:01.124 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:27:01.124 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:27:01.133 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 18:27:01.133 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:27:01.140 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:27:01.144 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 18:27:01.152 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 18:27:01.159 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 18:27:01.159 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 18:27:01.166 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 18:27:01.172 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 18:27:01.177 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 18:27:01.185 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:27:01.187 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:27:01.187 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:27:01.187 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:27:01.187 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:27:01.187 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:27:01.199 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:27:01.202 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:27:01.203 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:27:01.205 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:27:01.206 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:27:01.207 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:27:01.207 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:27:01.208 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:27:01.208 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:27:01.209 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:27:01.210 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:27:01.210 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:27:01.210 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:27:01.210 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:27:01.214 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:27:01.214 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:27:01.214 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:27:01.219 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:27:01.219 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:27:01.219 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:27:01.219 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:27:01.219 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:27:01.219 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:27:01.219 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:27:01.219 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:27:01.219 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:27:01.219 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:27:01.219 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:27:01.219 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:27:01.219 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:27:01.235 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:27:01.235 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:27:01.235 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:27:01.235 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:27:01.235 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:27:01.235 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:27:01.235 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:27:01.235 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:27:01.235 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:27:01.235 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:27:01.235 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:27:01.235 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:27:01.235 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:27:01.244 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:27:01.244 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:27:01.251 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 18:27:01.253 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:27:01.260 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:27:01.268 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:27:01.270 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/pedidos
2025-11-10 18:27:01.281 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/pedidos
2025-11-10 18:27:01.283 [main] WARN  [a06471cea72a4cdd] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 18:27:01.320 [main] DEBUG [a06471cea72a4cdd] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 18:27:01.320 [main] DEBUG [a06471cea72a4cdd] org.hibernate.SQL - select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.id=?
2025-11-10 18:27:01.320 [main] DEBUG [a06471cea72a4cdd] org.hibernate.SQL - select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0 where p1_0.id=?
2025-11-10 18:27:01.333 [main] DEBUG [a06471cea72a4cdd] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Pedido */insert into pedido (cep,cliente_id,data_pedido,endereco_entrega,forma_pagamento,observacoes,restaurante_id,status,subtotal,taxa_entrega,valor_total,id) values (?,?,?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:27:01.335 [main] DEBUG [a06471cea72a4cdd] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.ItemPedido */insert into item_pedido (observacoes,pedido_id,preco_unitario,produto_id,quantidade,subtotal,id) values (?,?,?,?,?,?,default)
2025-11-10 18:27:01.346 [main] DEBUG [a06471cea72a4cdd] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 18:27:01.352 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/pedidos/cliente/6
2025-11-10 18:27:01.352 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/pedidos/cliente/6
2025-11-10 18:27:01.355 [main] WARN  [74d150e00786409b] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 18:27:01.357 [main] DEBUG [74d150e00786409b] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.cep,p1_0.cliente_id,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.restaurante_id,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where c1_0.id=?
2025-11-10 18:27:01.365 [main] DEBUG [74d150e00786409b] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 18:27:01.366 [main] DEBUG [74d150e00786409b] org.hibernate.SQL - select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.id=?
2025-11-10 18:27:01.368 [main] DEBUG [74d150e00786409b] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:27:01.368 [main] DEBUG [74d150e00786409b] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 18:27:01.391 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:27:01.391 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:27:01.391 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:27:01.391 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:27:01.391 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:27:01.391 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:27:01.398 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:27:01.398 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-11-10 18:27:01.401 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-11-10 18:27:01.406 [main] INFO  [] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-10 18:27:01.462 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Starting PedidoControllerIT using Java 17.0.16 with PID 21944 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 18:27:01.462 [main] DEBUG [] c.d.d.controller.PedidoControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 18:27:01.462 [main] INFO  [] c.d.d.controller.PedidoControllerIT - The following 1 profile is active: "test"
2025-11-10 18:27:01.917 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:27:01.917 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 18:27:01.951 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 5 JPA repository interfaces.
2025-11-10 18:27:01.951 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:27:01.951 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 18:27:01.951 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:27:01.951 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:27:01.951 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:27:01.951 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:27:01.951 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:27:01.951 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-11-10 18:27:02.065 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 18:27:02.081 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-11-10 18:27:02.084 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection conn20: url=jdbc:h2:mem:testdb user=SA
2025-11-10 18:27:02.084 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-11-10 18:27:02.084 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 18:27:02.167 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:27:02.167 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:27:02.167 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:27:02.167 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:27:02.167 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:27:02.167 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:27:02.173 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 18:27:02.173 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 18:27:02.176 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 18:27:02.176 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 18:27:02.178 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 18:27:02.178 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 18:27:02.180 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 18:27:02.183 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 18:27:02.185 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 18:27:02.186 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 18:27:02.186 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 18:27:02.186 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:27:02.445 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 18:27:02.445 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 18:27:02.466 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 18:27:02.765 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 18:27:02.796 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 18:27:02.796 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 18:27:02.796 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 18:27:02.801 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 5 ms
2025-11-10 18:27:02.829 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Started PedidoControllerIT in 1.423 seconds (process running for 18.901)
2025-11-10 18:27:02.835 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 18:27:02.837 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:27:02.840 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:27:02.842 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 18:27:02.845 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:27:02.851 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:27:02.851 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 18:27:02.851 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 18:27:02.851 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 18:27:02.867 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 18:27:02.867 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 18:27:02.867 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 18:27:02.883 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 18:27:02.894 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:27:02.897 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:27:02.899 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:27:02.901 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:27:02.903 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:27:02.905 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:27:02.907 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:27:02.910 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:27:02.910 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:27:02.912 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:27:02.912 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:27:02.914 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:27:02.915 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:27:02.917 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:27:02.917 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:27:02.918 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:27:02.919 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:27:02.919 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:27:02.919 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:27:02.919 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:27:02.922 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:27:02.922 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:27:02.922 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:27:02.926 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:27:02.927 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:27:02.927 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:27:02.927 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:27:02.927 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:27:02.927 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:27:02.930 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:27:02.930 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:27:02.930 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:27:02.930 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:27:02.935 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:27:02.935 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:27:02.935 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:27:02.940 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:27:02.940 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:27:02.940 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:27:02.940 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:27:02.940 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:27:02.940 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:27:02.940 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:27:02.940 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:27:02.948 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:27:02.948 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:27:02.949 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:27:02.949 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:27:02.949 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:27:02.951 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:27:02.955 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:27:02.957 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 18:27:02.966 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:27:02.969 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:27:02.973 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:27:02.984 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/pedidos
2025-11-10 18:27:02.984 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/pedidos
2025-11-10 18:27:02.986 [main] WARN  [cf91db697fe04910] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 18:27:03.008 [main] DEBUG [cf91db697fe04910] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 18:27:03.018 [main] DEBUG [cf91db697fe04910] org.hibernate.SQL - select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.id=?
2025-11-10 18:27:03.018 [main] DEBUG [cf91db697fe04910] org.hibernate.SQL - select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0 where p1_0.id=?
2025-11-10 18:27:03.023 [main] DEBUG [cf91db697fe04910] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Pedido */insert into pedido (cep,cliente_id,data_pedido,endereco_entrega,forma_pagamento,observacoes,restaurante_id,status,subtotal,taxa_entrega,valor_total,id) values (?,?,?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:27:03.027 [main] DEBUG [cf91db697fe04910] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.ItemPedido */insert into item_pedido (observacoes,pedido_id,preco_unitario,produto_id,quantidade,subtotal,id) values (?,?,?,?,?,?,default)
2025-11-10 18:27:03.033 [main] DEBUG [cf91db697fe04910] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 18:27:03.048 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing PATCH /api/pedidos/4/status
2025-11-10 18:27:03.048 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured PATCH /api/pedidos/4/status
2025-11-10 18:27:03.048 [main] WARN  [ea33548de413452a] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 18:27:03.064 [main] DEBUG [ea33548de413452a] org.hibernate.SQL - select p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.id=?
2025-11-10 18:27:03.077 [main] DEBUG [ea33548de413452a] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:27:03.084 [main] DEBUG [ea33548de413452a] org.hibernate.SQL - /* update for com.deliverytech.delivery_api.model.Pedido */update pedido set cep=?,cliente_id=?,data_pedido=?,endereco_entrega=?,forma_pagamento=?,observacoes=?,restaurante_id=?,status=?,subtotal=?,taxa_entrega=?,valor_total=? where id=?
2025-11-10 18:27:03.084 [main] DEBUG [ea33548de413452a] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 18:27:03.103 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:27:03.103 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:27:03.108 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:27:03.108 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:27:03.108 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:27:03.110 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:27:03.110 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:27:03.110 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-11-10 18:27:03.113 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-11-10 18:27:03.118 [main] INFO  [] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-10 18:27:03.168 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Starting PedidoControllerIT using Java 17.0.16 with PID 21944 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 18:27:03.168 [main] DEBUG [] c.d.d.controller.PedidoControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 18:27:03.168 [main] INFO  [] c.d.d.controller.PedidoControllerIT - The following 1 profile is active: "test"
2025-11-10 18:27:03.658 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:27:03.658 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 18:27:03.703 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 41 ms. Found 5 JPA repository interfaces.
2025-11-10 18:27:03.707 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:27:03.707 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 18:27:03.716 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:27:03.717 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:27:03.717 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:27:03.717 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:27:03.718 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:27:03.718 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-11-10 18:27:03.858 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 18:27:03.858 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-11-10 18:27:03.858 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection conn30: url=jdbc:h2:mem:testdb user=SA
2025-11-10 18:27:03.858 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-11-10 18:27:03.858 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 18:27:03.952 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:27:03.952 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:27:03.952 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:27:03.952 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:27:03.952 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:27:03.952 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:27:03.964 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 18:27:03.964 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 18:27:03.967 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 18:27:03.967 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 18:27:03.967 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 18:27:03.967 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 18:27:03.967 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 18:27:03.967 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 18:27:03.967 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 18:27:03.967 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 18:27:03.979 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 18:27:03.982 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:27:04.234 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 18:27:04.234 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 18:27:04.268 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 18:27:04.597 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 18:27:04.631 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 18:27:04.631 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 18:27:04.631 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 18:27:04.631 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2025-11-10 18:27:04.663 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Started PedidoControllerIT in 1.545 seconds (process running for 20.736)
2025-11-10 18:27:04.663 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 18:27:04.663 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:27:04.663 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:27:04.679 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 18:27:04.681 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:27:04.681 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:27:04.681 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 18:27:04.681 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 18:27:04.695 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 18:27:04.698 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 18:27:04.698 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 18:27:04.698 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 18:27:04.710 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 18:27:04.710 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:27:04.718 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:27:04.718 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:27:04.718 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:27:04.718 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:27:04.726 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:27:04.726 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:27:04.726 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:27:04.726 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:27:04.726 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:27:04.726 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:27:04.726 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:27:04.731 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:27:04.731 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:27:04.731 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:27:04.733 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:27:04.733 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:27:04.733 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:27:04.734 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:27:04.734 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:27:04.735 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:27:04.735 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:27:04.735 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:27:04.737 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:27:04.739 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:27:04.741 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:27:04.741 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:27:04.741 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:27:04.741 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:27:04.741 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:27:04.741 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:27:04.741 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:27:04.741 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:27:04.741 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:27:04.741 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:27:04.741 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:27:04.741 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:27:04.741 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:27:04.741 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:27:04.741 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:27:04.750 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:27:04.750 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:27:04.751 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:27:04.752 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:27:04.753 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:27:04.754 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:27:04.754 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:27:04.754 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:27:04.754 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:27:04.755 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:27:04.763 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:27:04.777 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 18:27:04.795 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:27:04.799 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:27:04.806 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/pedidos
2025-11-10 18:27:04.810 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/pedidos
2025-11-10 18:27:04.810 [main] WARN  [defb8ddb90054940] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 18:27:04.852 [main] DEBUG [defb8ddb90054940] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 18:27:04.855 [main] DEBUG [defb8ddb90054940] org.hibernate.SQL - select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.id=?
2025-11-10 18:27:04.859 [main] DEBUG [defb8ddb90054940] org.hibernate.SQL - select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0 where p1_0.id=?
2025-11-10 18:27:04.877 [main] DEBUG [defb8ddb90054940] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 18:27:04.894 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:27:04.894 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:27:04.894 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:27:04.898 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:27:04.898 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:27:04.898 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:27:04.899 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:27:04.901 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-11-10 18:27:04.902 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-11-10 18:27:04.905 [main] INFO  [] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-10 18:27:04.950 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Starting PedidoControllerIT using Java 17.0.16 with PID 21944 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 18:27:04.950 [main] DEBUG [] c.d.d.controller.PedidoControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 18:27:04.950 [main] INFO  [] c.d.d.controller.PedidoControllerIT - The following 1 profile is active: "test"
2025-11-10 18:27:05.328 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:27:05.328 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 18:27:05.355 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 23 ms. Found 5 JPA repository interfaces.
2025-11-10 18:27:05.355 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:27:05.355 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 18:27:05.365 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:27:05.365 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:27:05.365 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:27:05.365 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:27:05.365 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:27:05.365 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-11-10 18:27:05.483 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 18:27:05.489 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-11-10 18:27:05.489 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection conn40: url=jdbc:h2:mem:testdb user=SA
2025-11-10 18:27:05.489 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-11-10 18:27:05.489 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 18:27:05.584 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:27:05.584 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:27:05.584 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:27:05.584 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:27:05.584 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:27:05.584 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:27:05.584 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 18:27:05.588 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 18:27:05.590 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 18:27:05.592 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 18:27:05.592 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 18:27:05.592 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 18:27:05.592 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 18:27:05.592 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 18:27:05.600 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 18:27:05.601 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 18:27:05.603 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 18:27:05.606 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:27:05.868 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 18:27:05.868 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 18:27:05.906 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 18:27:06.174 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 18:27:06.190 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 18:27:06.190 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 18:27:06.190 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 18:27:06.190 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2025-11-10 18:27:06.218 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Started PedidoControllerIT in 1.313 seconds (process running for 22.298)
2025-11-10 18:27:06.218 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 18:27:06.236 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:27:06.238 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:27:06.238 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 18:27:06.238 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:27:06.238 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:27:06.238 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 18:27:06.252 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 18:27:06.257 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 18:27:06.258 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 18:27:06.258 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 18:27:06.258 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 18:27:06.258 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 18:27:06.274 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:27:06.274 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:27:06.283 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:27:06.285 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:27:06.287 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:27:06.288 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:27:06.289 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:27:06.290 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:27:06.290 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:27:06.290 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:27:06.290 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:27:06.290 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:27:06.290 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:27:06.297 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:27:06.297 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:27:06.299 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:27:06.300 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:27:06.301 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:27:06.301 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:27:06.302 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:27:06.302 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:27:06.302 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:27:06.302 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:27:06.302 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:27:06.302 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:27:06.302 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:27:06.302 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:27:06.311 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:27:06.311 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:27:06.311 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:27:06.311 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:27:06.311 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:27:06.311 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:27:06.313 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:27:06.318 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:27:06.318 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:27:06.321 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:27:06.321 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:27:06.321 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:27:06.321 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:27:06.321 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:27:06.321 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:27:06.321 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:27:06.321 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:27:06.328 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:27:06.330 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:27:06.330 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:27:06.330 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:27:06.330 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:27:06.333 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:27:06.335 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:27:06.339 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 18:27:06.348 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:27:06.353 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:27:06.355 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:27:06.359 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/pedidos
2025-11-10 18:27:06.364 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/pedidos
2025-11-10 18:27:06.364 [main] WARN  [5a24a57570e14337] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 18:27:06.390 [main] DEBUG [5a24a57570e14337] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 18:27:06.400 [main] DEBUG [5a24a57570e14337] org.hibernate.SQL - select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.id=?
2025-11-10 18:27:06.404 [main] DEBUG [5a24a57570e14337] org.hibernate.SQL - select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0 where p1_0.id=?
2025-11-10 18:27:06.404 [main] DEBUG [5a24a57570e14337] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Pedido */insert into pedido (cep,cliente_id,data_pedido,endereco_entrega,forma_pagamento,observacoes,restaurante_id,status,subtotal,taxa_entrega,valor_total,id) values (?,?,?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:27:06.412 [main] DEBUG [5a24a57570e14337] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.ItemPedido */insert into item_pedido (observacoes,pedido_id,preco_unitario,produto_id,quantidade,subtotal,id) values (?,?,?,?,?,?,default)
2025-11-10 18:27:06.412 [main] DEBUG [5a24a57570e14337] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.ItemPedido */insert into item_pedido (observacoes,pedido_id,preco_unitario,produto_id,quantidade,subtotal,id) values (?,?,?,?,?,?,default)
2025-11-10 18:27:06.417 [main] DEBUG [5a24a57570e14337] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 18:27:06.433 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:27:06.433 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:27:06.433 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:27:06.433 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:27:06.433 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:27:06.443 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:27:06.443 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:27:06.443 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-11-10 18:27:06.443 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-11-10 18:39:04.858 [main] INFO  [] c.d.d.DeliveryApiApplicationTests - Starting DeliveryApiApplicationTests using Java 17.0.16 with PID 21132 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 18:39:04.861 [main] DEBUG [] c.d.d.DeliveryApiApplicationTests - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 18:39:04.863 [main] INFO  [] c.d.d.DeliveryApiApplicationTests - No active profile set, falling back to 1 default profile: "default"
2025-11-10 18:39:04.916 [main] DEBUG [] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1bb96449
2025-11-10 18:39:07.635 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:39:07.641 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 18:39:07.958 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 293 ms. Found 5 JPA repository interfaces.
2025-11-10 18:39:07.992 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:39:07.996 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 18:39:08.024 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:39:08.026 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:39:08.026 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:39:08.026 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:39:08.028 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:39:08.028 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2025-11-10 18:39:09.720 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 18:39:09.777 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 18:39:09.796 [main] WARN  [] o.h.e.j.e.i.JdbcEnvironmentInitiator - HHH000342: Could not obtain connection to query metadata
java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, ${SPRING_DATASOURCE_URL}
	at com.zaxxer.hikari.util.DriverDataSource.<init>(DriverDataSource.java:116)
	at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:333)
	at com.zaxxer.hikari.pool.PoolBase.<init>(PoolBase.java:118)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:90)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:126)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:485)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:61)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:334)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:129)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:81)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:226)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:194)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:171)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1442)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1513)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-10 18:39:09.848 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 18:39:09.851 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-11-10 18:39:11.641 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 18:39:11.645 [main] ERROR [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, ${SPRING_DATASOURCE_URL}
2025-11-10 18:39:11.645 [main] WARN  [] o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, ${SPRING_DATASOURCE_URL}
2025-11-10 18:39:11.674 [main] INFO  [] o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-10 18:39:11.726 [main] ERROR [] o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, ${SPRING_DATASOURCE_URL}
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, ${SPRING_DATASOURCE_URL}
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:431)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 100 common frames omitted
Caused by: java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, ${SPRING_DATASOURCE_URL}
	at com.zaxxer.hikari.util.DriverDataSource.<init>(DriverDataSource.java:116)
	at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:333)
	at com.zaxxer.hikari.pool.PoolBase.<init>(PoolBase.java:118)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:90)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:126)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:485)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:39)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:70)
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.processTableResultSet(InformationExtractorJdbcDatabaseMetaDataImpl.java:65)
	at org.hibernate.tool.schema.extract.internal.AbstractInformationExtractorImpl.getTables(AbstractInformationExtractorImpl.java:570)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:122)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:72)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:233)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	... 104 common frames omitted
2025-11-10 18:39:11.733 [main] WARN  [] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.deliverytech.delivery_api.DeliveryApiApplicationTests@68af530a]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@6716eb44 testClass = com.deliverytech.delivery_api.DeliveryApiApplicationTests, locations = [], classes = [com.deliverytech.delivery_api.DeliveryApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2bcec6a6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4abf3f0, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@79ab34c1, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@1dcca8d3, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@19569ebd, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@2bac9ba, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@8738f13f], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, ${SPRING_DATASOURCE_URL}
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 80 common frames omitted
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, ${SPRING_DATASOURCE_URL}
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:431)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 100 common frames omitted
Caused by: java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, ${SPRING_DATASOURCE_URL}
	at com.zaxxer.hikari.util.DriverDataSource.<init>(DriverDataSource.java:116)
	at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:333)
	at com.zaxxer.hikari.pool.PoolBase.<init>(PoolBase.java:118)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:90)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:126)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:485)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:39)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:70)
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.processTableResultSet(InformationExtractorJdbcDatabaseMetaDataImpl.java:65)
	at org.hibernate.tool.schema.extract.internal.AbstractInformationExtractorImpl.getTables(AbstractInformationExtractorImpl.java:570)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:122)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:72)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:233)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	... 104 common frames omitted
2025-11-10 18:42:04.049 [main] INFO  [] c.d.d.DeliveryApiApplicationTests - Starting DeliveryApiApplicationTests using Java 17.0.16 with PID 24416 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 18:42:04.051 [main] DEBUG [] c.d.d.DeliveryApiApplicationTests - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 18:42:04.052 [main] INFO  [] c.d.d.DeliveryApiApplicationTests - No active profile set, falling back to 1 default profile: "default"
2025-11-10 18:42:04.104 [main] DEBUG [] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1bb96449
2025-11-10 18:42:06.473 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:42:06.480 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 18:42:06.714 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 218 ms. Found 5 JPA repository interfaces.
2025-11-10 18:42:06.729 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:42:06.740 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 18:42:06.766 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:42:06.766 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:42:06.766 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:42:06.766 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:42:06.768 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:42:06.768 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2025-11-10 18:42:08.536 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 18:42:08.616 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 18:42:08.649 [main] WARN  [] o.h.e.j.e.i.JdbcEnvironmentInitiator - HHH000342: Could not obtain connection to query metadata
java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, ${SPRING_DATASOURCE_URL}
	at com.zaxxer.hikari.util.DriverDataSource.<init>(DriverDataSource.java:116)
	at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:333)
	at com.zaxxer.hikari.pool.PoolBase.<init>(PoolBase.java:118)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:90)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:126)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:485)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:61)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:334)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:129)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:81)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:226)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:194)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:171)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1442)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1513)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-10 18:42:08.678 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 18:42:08.694 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-11-10 18:42:10.884 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 18:42:10.892 [main] ERROR [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, ${SPRING_DATASOURCE_URL}
2025-11-10 18:42:10.892 [main] WARN  [] o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, ${SPRING_DATASOURCE_URL}
2025-11-10 18:42:10.932 [main] INFO  [] o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-10 18:42:10.982 [main] ERROR [] o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, ${SPRING_DATASOURCE_URL}
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, ${SPRING_DATASOURCE_URL}
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:431)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 100 common frames omitted
Caused by: java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, ${SPRING_DATASOURCE_URL}
	at com.zaxxer.hikari.util.DriverDataSource.<init>(DriverDataSource.java:116)
	at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:333)
	at com.zaxxer.hikari.pool.PoolBase.<init>(PoolBase.java:118)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:90)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:126)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:485)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:39)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:70)
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.processTableResultSet(InformationExtractorJdbcDatabaseMetaDataImpl.java:65)
	at org.hibernate.tool.schema.extract.internal.AbstractInformationExtractorImpl.getTables(AbstractInformationExtractorImpl.java:570)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:122)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:72)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:233)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	... 104 common frames omitted
2025-11-10 18:42:10.992 [main] WARN  [] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.deliverytech.delivery_api.DeliveryApiApplicationTests@59f91ee8]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@77936f79 testClass = com.deliverytech.delivery_api.DeliveryApiApplicationTests, locations = [], classes = [com.deliverytech.delivery_api.DeliveryApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2bcec6a6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4abf3f0, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@79ab34c1, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@1dcca8d3, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@19569ebd, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@2bac9ba, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@8738f13f], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, ${SPRING_DATASOURCE_URL}
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 80 common frames omitted
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, ${SPRING_DATASOURCE_URL}
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:431)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 100 common frames omitted
Caused by: java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, ${SPRING_DATASOURCE_URL}
	at com.zaxxer.hikari.util.DriverDataSource.<init>(DriverDataSource.java:116)
	at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:333)
	at com.zaxxer.hikari.pool.PoolBase.<init>(PoolBase.java:118)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:90)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:126)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:485)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:39)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:70)
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.processTableResultSet(InformationExtractorJdbcDatabaseMetaDataImpl.java:65)
	at org.hibernate.tool.schema.extract.internal.AbstractInformationExtractorImpl.getTables(AbstractInformationExtractorImpl.java:570)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:122)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:72)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:233)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	... 104 common frames omitted
2025-11-10 18:58:20.966 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 27496 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 18:58:20.966 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 18:58:20.966 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 18:58:23.826 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:58:23.828 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 18:58:24.138 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 291 ms. Found 5 JPA repository interfaces.
2025-11-10 18:58:24.171 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:58:24.175 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 18:58:24.217 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:58:24.218 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:58:24.220 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:58:24.221 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:58:24.222 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:58:24.223 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2025-11-10 18:58:27.763 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 18:58:27.887 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 18:58:28.784 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 18:58:28.794 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 18:58:28.891 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 18:58:31.585 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:58:31.592 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:58:31.592 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:58:31.592 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:58:31.592 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:58:31.592 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:58:31.626 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 18:58:31.653 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 18:58:31.655 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 18:58:31.655 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 18:58:31.655 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 18:58:31.655 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 18:58:31.655 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 18:58:31.714 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 18:58:31.714 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 18:58:31.714 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 18:58:31.714 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 18:58:31.739 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:58:32.608 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 18:58:35.446 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 18:58:35.446 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 18:58:35.820 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 18:58:38.580 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 18:58:38.778 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 18:58:38.778 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 18:58:38.778 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 18:58:38.778 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2025-11-10 18:58:38.914 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Started ClienteControllerIT in 18.867 seconds (process running for 20.97)
2025-11-10 18:58:39.131 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 18:58:39.264 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:58:39.318 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:58:39.331 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 18:58:39.335 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:58:39.339 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:58:39.412 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 18:58:39.436 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 18:58:39.455 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 18:58:39.465 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 18:58:39.468 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 18:58:39.479 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 18:58:39.481 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 18:58:39.529 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:58:39.535 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:39.552 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:58:39.565 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:39.565 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:58:39.565 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:39.565 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:58:39.565 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:39.565 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:39.579 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:58:39.581 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:58:39.581 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:39.581 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:39.581 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:39.581 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:39.581 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:39.596 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:39.597 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:39.598 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:39.599 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:39.600 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:39.601 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:58:39.603 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:58:39.605 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 18:58:39.743 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/clientes
2025-11-10 18:58:39.762 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/clientes
2025-11-10 18:58:39.762 [main] WARN  [fcd4a2086fb14e3e] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 18:58:39.950 [main] DEBUG [fcd4a2086fb14e3e] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:39.952 [main] DEBUG [fcd4a2086fb14e3e] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:39.954 [main] DEBUG [fcd4a2086fb14e3e] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:58:39.956 [main] DEBUG [fcd4a2086fb14e3e] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:39.956 [main] DEBUG [fcd4a2086fb14e3e] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:39.956 [main] DEBUG [fcd4a2086fb14e3e] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:39.956 [main] DEBUG [fcd4a2086fb14e3e] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:58:39.956 [main] DEBUG [fcd4a2086fb14e3e] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:39.956 [main] DEBUG [fcd4a2086fb14e3e] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:39.956 [main] DEBUG [fcd4a2086fb14e3e] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:39.956 [main] DEBUG [fcd4a2086fb14e3e] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:58:39.956 [main] DEBUG [fcd4a2086fb14e3e] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:39.956 [main] DEBUG [fcd4a2086fb14e3e] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:39.956 [main] DEBUG [fcd4a2086fb14e3e] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:39.961 [main] DEBUG [fcd4a2086fb14e3e] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:39.961 [main] DEBUG [fcd4a2086fb14e3e] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:39.961 [main] DEBUG [fcd4a2086fb14e3e] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:39.961 [main] DEBUG [fcd4a2086fb14e3e] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:39.961 [main] DEBUG [fcd4a2086fb14e3e] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:39.961 [main] DEBUG [fcd4a2086fb14e3e] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:39.961 [main] DEBUG [fcd4a2086fb14e3e] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:39.961 [main] DEBUG [fcd4a2086fb14e3e] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:39.961 [main] DEBUG [fcd4a2086fb14e3e] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:39.961 [main] DEBUG [fcd4a2086fb14e3e] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:39.961 [main] DEBUG [fcd4a2086fb14e3e] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:39.961 [main] DEBUG [fcd4a2086fb14e3e] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:39.961 [main] DEBUG [fcd4a2086fb14e3e] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:39.961 [main] DEBUG [fcd4a2086fb14e3e] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:39.970 [main] DEBUG [fcd4a2086fb14e3e] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 18:58:40.018 [main] DEBUG [fcd4a2086fb14e3e] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:58:40.059 [main] DEBUG [fcd4a2086fb14e3e] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 18:58:40.224 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:58:40.228 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:40.231 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:58:40.234 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:40.237 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:58:40.239 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:40.242 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:58:40.244 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:40.246 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:40.251 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:58:40.258 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:58:40.261 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:40.263 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:40.267 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:40.267 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:40.269 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:40.271 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:40.273 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:40.273 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:40.275 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:40.277 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:40.279 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:58:40.281 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:58:40.285 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 18:58:40.293 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:40.293 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:40.295 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:58:40.295 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:40.295 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:40.295 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:40.297 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:58:40.297 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:40.297 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:40.297 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:40.297 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:58:40.297 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:40.297 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:40.297 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:40.297 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:40.297 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:40.297 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:40.297 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:40.297 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:40.297 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:40.297 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:40.297 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:40.297 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:40.297 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:40.297 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:40.297 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:40.297 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:40.297 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:40.309 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:58:40.309 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/clientes/8
2025-11-10 18:58:40.315 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/clientes/8
2025-11-10 18:58:40.315 [main] WARN  [fa0650999ac348f1] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 18:58:40.324 [main] DEBUG [fa0650999ac348f1] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 18:58:40.346 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:58:40.354 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:40.357 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:58:40.361 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:40.364 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:58:40.367 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:40.369 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:58:40.372 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:40.372 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:40.376 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:58:40.382 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:58:40.385 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:40.387 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:40.389 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:40.389 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:40.389 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:40.389 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:40.389 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:40.389 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:40.396 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:40.397 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:40.399 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:58:40.401 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:58:40.403 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 18:58:40.413 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:40.414 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:40.415 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:58:40.415 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:40.415 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:40.415 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:40.415 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:58:40.415 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:40.415 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:40.415 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:40.415 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:58:40.415 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:40.415 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:40.415 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:40.415 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:40.415 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:40.426 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:40.426 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:40.426 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:40.426 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:40.426 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:40.426 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:40.426 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:40.429 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:40.430 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:40.431 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:40.432 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:40.432 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:40.432 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:58:40.432 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing PUT /api/clientes/9
2025-11-10 18:58:40.432 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured PUT /api/clientes/9
2025-11-10 18:58:40.432 [main] WARN  [0dfe0930ab3343d7] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 18:58:40.432 [main] DEBUG [0dfe0930ab3343d7] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 18:58:40.451 [main] DEBUG [0dfe0930ab3343d7] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 18:58:40.469 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:58:40.473 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:40.476 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:58:40.479 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:40.481 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:58:40.486 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:40.488 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:58:40.488 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:40.491 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:40.496 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:58:40.504 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:58:40.505 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:40.509 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:40.511 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:40.511 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:40.514 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:40.516 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:40.517 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:40.518 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:40.519 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:40.520 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:40.521 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:58:40.521 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:58:40.521 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 18:58:40.533 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:40.533 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:40.533 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:58:40.533 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:40.533 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:40.533 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:40.533 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:58:40.533 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:40.533 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:40.533 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:40.533 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:58:40.533 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:40.533 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:40.533 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:40.533 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:40.533 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:40.533 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:40.533 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:40.533 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:40.533 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:40.533 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:40.533 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:40.533 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:40.545 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:40.546 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:40.546 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:40.547 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:40.547 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:40.547 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:58:40.551 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/clientes/110
2025-11-10 18:58:40.556 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/clientes/110
2025-11-10 18:58:40.556 [main] WARN  [090fc548d096474c] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 18:58:40.556 [main] DEBUG [090fc548d096474c] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 18:58:40.579 [main] DEBUG [090fc548d096474c] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 18:58:40.598 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:58:40.604 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:40.606 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:58:40.606 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:40.606 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:58:40.614 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:40.617 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:58:40.617 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:40.617 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:40.620 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:58:40.620 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:58:40.628 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:40.629 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:40.632 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:40.634 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:40.636 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:40.637 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:40.638 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:40.638 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:40.639 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:40.639 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:40.639 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:58:40.641 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:58:40.641 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 18:58:40.649 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/clientes
2025-11-10 18:58:40.651 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/clientes
2025-11-10 18:58:40.651 [main] WARN  [24fdf15315fb431e] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 18:58:40.677 [main] DEBUG [24fdf15315fb431e] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 18:58:40.699 [main] INFO  [] o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.deliverytech.delivery_api.controller.PedidoControllerIT]: PedidoControllerIT does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-10 18:58:40.753 [main] INFO  [] o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.deliverytech.delivery_api.DeliveryApiApplication for test class com.deliverytech.delivery_api.controller.PedidoControllerIT
2025-11-10 18:58:40.767 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:58:40.771 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:40.774 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:58:40.776 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:40.778 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:58:40.783 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:40.785 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:58:40.786 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:40.786 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:40.791 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:40.791 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:40.793 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:58:40.793 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:40.796 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:40.796 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:40.798 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:58:40.800 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:40.801 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:40.802 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:40.803 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:58:40.804 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:40.804 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:40.804 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:40.804 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:58:40.814 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:40.815 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:40.815 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:40.815 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:40.815 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:40.815 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:40.815 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:40.815 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:40.815 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:40.821 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:58:40.823 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:40.823 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:40.823 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:40.823 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:40.823 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:40.823 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:40.823 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:40.823 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:40.823 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:40.823 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:40.830 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:40.831 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:40.832 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:40.832 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:40.832 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:40.832 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:58:40.832 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:58:40.832 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 18:58:40.850 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:58:40.855 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:58:40.860 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:58:40.878 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/pedidos
2025-11-10 18:58:40.880 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/pedidos
2025-11-10 18:58:40.880 [main] WARN  [2d94b124bff4411c] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 18:58:41.035 [main] DEBUG [2d94b124bff4411c] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 18:58:41.039 [main] DEBUG [2d94b124bff4411c] org.hibernate.SQL - select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.id=?
2025-11-10 18:58:41.043 [main] DEBUG [2d94b124bff4411c] org.hibernate.SQL - select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0 where p1_0.id=?
2025-11-10 18:58:41.048 [main] DEBUG [2d94b124bff4411c] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Pedido */insert into pedido (cep,cliente_id,data_pedido,endereco_entrega,forma_pagamento,observacoes,restaurante_id,status,subtotal,taxa_entrega,valor_total,id) values (?,?,?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:58:41.064 [main] DEBUG [2d94b124bff4411c] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.ItemPedido */insert into item_pedido (observacoes,pedido_id,preco_unitario,produto_id,quantidade,subtotal,id) values (?,?,?,?,?,?,default)
2025-11-10 18:58:41.101 [main] DEBUG [2d94b124bff4411c] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 18:58:41.160 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:58:41.163 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:58:41.164 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:58:41.164 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:58:41.169 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:58:41.169 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:58:41.169 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:58:41.174 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 18:58:41.179 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 18:58:41.181 [main] INFO  [] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-10 18:58:41.263 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Starting PedidoControllerIT using Java 17.0.16 with PID 27496 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 18:58:41.263 [main] DEBUG [] c.d.d.controller.PedidoControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 18:58:41.264 [main] INFO  [] c.d.d.controller.PedidoControllerIT - The following 1 profile is active: "test"
2025-11-10 18:58:41.888 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:58:41.890 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 18:58:41.922 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 5 JPA repository interfaces.
2025-11-10 18:58:41.926 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:58:41.926 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 18:58:41.926 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:58:41.926 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:58:41.938 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:58:41.938 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:58:41.938 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:58:41.938 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-11-10 18:58:42.142 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 18:58:42.142 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-11-10 18:58:42.142 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection conn10: url=jdbc:h2:mem:testdb user=SA
2025-11-10 18:58:42.142 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-11-10 18:58:42.142 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 18:58:42.258 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:58:42.258 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:58:42.258 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:58:42.258 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:58:42.258 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:58:42.258 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:58:42.261 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 18:58:42.263 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 18:58:42.265 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 18:58:42.267 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 18:58:42.269 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 18:58:42.270 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 18:58:42.272 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 18:58:42.275 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 18:58:42.277 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 18:58:42.280 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 18:58:42.282 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 18:58:42.283 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:58:42.614 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 18:58:42.614 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 18:58:42.652 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 18:58:43.078 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 18:58:43.113 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 18:58:43.113 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 18:58:43.113 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 18:58:43.113 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2025-11-10 18:58:43.143 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Started PedidoControllerIT in 1.962 seconds (process running for 25.2)
2025-11-10 18:58:43.150 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 18:58:43.152 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:58:43.159 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:58:43.164 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 18:58:43.168 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:58:43.172 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:58:43.177 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 18:58:43.182 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 18:58:43.188 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 18:58:43.192 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 18:58:43.197 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 18:58:43.202 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 18:58:43.207 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 18:58:43.215 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:58:43.222 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:43.222 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:58:43.227 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:43.229 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:58:43.232 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:43.235 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:58:43.237 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:43.238 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:43.238 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:43.238 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:43.238 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:58:43.238 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:43.246 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:43.246 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:43.247 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:58:43.248 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:43.249 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:43.249 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:43.250 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:58:43.251 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:43.252 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:43.252 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:43.253 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:58:43.259 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:43.259 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:43.263 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:43.263 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:43.263 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:43.263 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:43.264 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:43.264 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:43.264 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:43.265 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:58:43.265 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:43.273 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:43.276 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:43.277 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:43.277 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:43.277 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:43.277 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:43.277 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:43.277 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:43.279 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:43.281 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:43.282 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:43.282 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:43.283 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:43.283 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:43.285 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:58:43.287 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:58:43.287 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 18:58:43.298 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:58:43.298 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:58:43.306 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:58:43.314 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/pedidos
2025-11-10 18:58:43.314 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/pedidos
2025-11-10 18:58:43.314 [main] WARN  [6780d69fd8e549c0] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 18:58:43.352 [main] DEBUG [6780d69fd8e549c0] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 18:58:43.355 [main] DEBUG [6780d69fd8e549c0] org.hibernate.SQL - select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.id=?
2025-11-10 18:58:43.359 [main] DEBUG [6780d69fd8e549c0] org.hibernate.SQL - select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0 where p1_0.id=?
2025-11-10 18:58:43.361 [main] DEBUG [6780d69fd8e549c0] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Pedido */insert into pedido (cep,cliente_id,data_pedido,endereco_entrega,forma_pagamento,observacoes,restaurante_id,status,subtotal,taxa_entrega,valor_total,id) values (?,?,?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:58:43.368 [main] DEBUG [6780d69fd8e549c0] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.ItemPedido */insert into item_pedido (observacoes,pedido_id,preco_unitario,produto_id,quantidade,subtotal,id) values (?,?,?,?,?,?,default)
2025-11-10 18:58:43.384 [main] DEBUG [6780d69fd8e549c0] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 18:58:43.390 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/pedidos/cliente/6
2025-11-10 18:58:43.391 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/pedidos/cliente/6
2025-11-10 18:58:43.392 [main] WARN  [12f14d14b76043c5] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 18:58:43.396 [main] DEBUG [12f14d14b76043c5] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.cep,p1_0.cliente_id,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.restaurante_id,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where c1_0.id=?
2025-11-10 18:58:43.396 [main] DEBUG [12f14d14b76043c5] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 18:58:43.400 [main] DEBUG [12f14d14b76043c5] org.hibernate.SQL - select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.id=?
2025-11-10 18:58:43.402 [main] DEBUG [12f14d14b76043c5] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:58:43.406 [main] DEBUG [12f14d14b76043c5] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 18:58:43.496 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:58:43.496 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:58:43.498 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:58:43.499 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:58:43.499 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:58:43.499 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:58:43.499 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:58:43.501 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-11-10 18:58:43.501 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-11-10 18:58:43.509 [main] INFO  [] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-10 18:58:43.561 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Starting PedidoControllerIT using Java 17.0.16 with PID 27496 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 18:58:43.563 [main] DEBUG [] c.d.d.controller.PedidoControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 18:58:43.563 [main] INFO  [] c.d.d.controller.PedidoControllerIT - The following 1 profile is active: "test"
2025-11-10 18:58:44.077 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:58:44.077 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 18:58:44.110 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 5 JPA repository interfaces.
2025-11-10 18:58:44.110 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:58:44.110 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 18:58:44.121 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:58:44.124 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:58:44.124 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:58:44.124 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:58:44.124 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:58:44.124 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-11-10 18:58:44.298 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 18:58:44.302 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-11-10 18:58:44.302 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection conn20: url=jdbc:h2:mem:testdb user=SA
2025-11-10 18:58:44.302 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-11-10 18:58:44.302 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 18:58:44.438 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:58:44.439 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:58:44.439 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:58:44.439 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:58:44.439 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:58:44.439 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:58:44.440 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 18:58:44.441 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 18:58:44.442 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 18:58:44.445 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 18:58:44.445 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 18:58:44.445 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 18:58:44.445 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 18:58:44.445 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 18:58:44.445 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 18:58:44.445 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 18:58:44.459 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 18:58:44.462 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:58:44.728 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 18:58:44.728 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 18:58:44.759 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 18:58:45.079 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 18:58:45.117 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 18:58:45.117 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 18:58:45.117 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 18:58:45.118 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-11-10 18:58:45.146 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Started PedidoControllerIT in 1.638 seconds (process running for 27.203)
2025-11-10 18:58:45.152 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 18:58:45.154 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:58:45.157 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:58:45.164 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 18:58:45.168 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:58:45.170 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:58:45.174 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 18:58:45.179 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 18:58:45.185 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 18:58:45.190 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 18:58:45.194 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 18:58:45.201 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 18:58:45.206 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 18:58:45.218 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:58:45.221 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:45.221 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:58:45.221 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:45.221 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:58:45.221 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:45.230 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:58:45.233 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:45.234 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:45.236 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:45.236 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:45.237 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:58:45.237 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:45.237 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:45.237 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:45.237 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:58:45.237 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:45.237 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:45.237 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:45.237 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:58:45.237 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:45.237 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:45.237 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:45.246 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:58:45.250 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:45.251 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:45.251 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:45.251 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:45.251 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:45.251 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:45.251 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:45.251 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:45.251 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:45.254 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:58:45.254 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:45.254 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:45.260 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:45.260 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:45.260 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:45.260 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:45.260 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:45.260 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:45.260 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:45.263 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:45.265 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:45.265 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:45.265 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:45.265 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:45.265 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:45.265 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:58:45.265 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:58:45.265 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 18:58:45.265 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:58:45.280 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:58:45.281 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:58:45.281 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/pedidos
2025-11-10 18:58:45.281 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/pedidos
2025-11-10 18:58:45.296 [main] WARN  [cc0ebd7dfece45e8] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 18:58:45.323 [main] DEBUG [cc0ebd7dfece45e8] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 18:58:45.326 [main] DEBUG [cc0ebd7dfece45e8] org.hibernate.SQL - select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.id=?
2025-11-10 18:58:45.329 [main] DEBUG [cc0ebd7dfece45e8] org.hibernate.SQL - select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0 where p1_0.id=?
2025-11-10 18:58:45.330 [main] DEBUG [cc0ebd7dfece45e8] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Pedido */insert into pedido (cep,cliente_id,data_pedido,endereco_entrega,forma_pagamento,observacoes,restaurante_id,status,subtotal,taxa_entrega,valor_total,id) values (?,?,?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:58:45.330 [main] DEBUG [cc0ebd7dfece45e8] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.ItemPedido */insert into item_pedido (observacoes,pedido_id,preco_unitario,produto_id,quantidade,subtotal,id) values (?,?,?,?,?,?,default)
2025-11-10 18:58:45.346 [main] DEBUG [cc0ebd7dfece45e8] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 18:58:45.361 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing PATCH /api/pedidos/4/status
2025-11-10 18:58:45.361 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured PATCH /api/pedidos/4/status
2025-11-10 18:58:45.361 [main] WARN  [cb77b171f4a04d2e] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 18:58:45.377 [main] DEBUG [cb77b171f4a04d2e] org.hibernate.SQL - select p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.id=?
2025-11-10 18:58:45.377 [main] DEBUG [cb77b171f4a04d2e] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:58:45.392 [main] DEBUG [cb77b171f4a04d2e] org.hibernate.SQL - /* update for com.deliverytech.delivery_api.model.Pedido */update pedido set cep=?,cliente_id=?,data_pedido=?,endereco_entrega=?,forma_pagamento=?,observacoes=?,restaurante_id=?,status=?,subtotal=?,taxa_entrega=?,valor_total=? where id=?
2025-11-10 18:58:45.392 [main] DEBUG [cb77b171f4a04d2e] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 18:58:45.408 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:58:45.408 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:58:45.408 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:58:45.408 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:58:45.408 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:58:45.408 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:58:45.415 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:58:45.415 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-11-10 18:58:45.417 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-11-10 18:58:45.417 [main] INFO  [] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-10 18:58:45.483 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Starting PedidoControllerIT using Java 17.0.16 with PID 27496 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 18:58:45.483 [main] DEBUG [] c.d.d.controller.PedidoControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 18:58:45.483 [main] INFO  [] c.d.d.controller.PedidoControllerIT - The following 1 profile is active: "test"
2025-11-10 18:58:45.967 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:58:45.967 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 18:58:45.977 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 5 JPA repository interfaces.
2025-11-10 18:58:45.990 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:58:45.990 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 18:58:45.997 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:58:45.997 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:58:45.997 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:58:45.998 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:58:45.998 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:58:45.998 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-11-10 18:58:46.121 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 18:58:46.121 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-11-10 18:58:46.121 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection conn30: url=jdbc:h2:mem:testdb user=SA
2025-11-10 18:58:46.121 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-11-10 18:58:46.129 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 18:58:46.229 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:58:46.229 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:58:46.230 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:58:46.230 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:58:46.230 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:58:46.230 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:58:46.231 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 18:58:46.232 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 18:58:46.232 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 18:58:46.232 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 18:58:46.232 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 18:58:46.238 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 18:58:46.238 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 18:58:46.240 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 18:58:46.240 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 18:58:46.242 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 18:58:46.242 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 18:58:46.244 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:58:46.493 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 18:58:46.493 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 18:58:46.511 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 18:58:46.793 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 18:58:46.823 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 18:58:46.823 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 18:58:46.823 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 18:58:46.823 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2025-11-10 18:58:46.837 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Started PedidoControllerIT in 1.42 seconds (process running for 28.902)
2025-11-10 18:58:46.837 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 18:58:46.852 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:58:46.852 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:58:46.862 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 18:58:46.862 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:58:46.869 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:58:46.874 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 18:58:46.875 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 18:58:46.884 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 18:58:46.887 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 18:58:46.887 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 18:58:46.887 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 18:58:46.896 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 18:58:46.898 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:58:46.898 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:46.908 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:58:46.910 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:46.910 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:58:46.911 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:46.912 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:58:46.913 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:46.914 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:46.915 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:46.915 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:46.915 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:58:46.915 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:46.915 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:46.915 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:46.915 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:58:46.915 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:46.915 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:46.915 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:46.915 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:58:46.915 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:46.915 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:46.915 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:46.915 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:58:46.923 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:46.926 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:46.926 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:46.926 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:46.926 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:46.926 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:46.926 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:46.926 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:46.926 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:46.928 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:58:46.930 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:46.933 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:46.934 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:46.935 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:46.935 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:46.936 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:46.936 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:46.937 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:46.937 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:46.937 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:46.937 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:46.937 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:46.937 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:46.937 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:46.937 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:46.937 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:58:46.943 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:58:46.945 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 18:58:46.948 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:58:46.948 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:58:46.966 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/pedidos
2025-11-10 18:58:46.968 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/pedidos
2025-11-10 18:58:46.968 [main] WARN  [4b133577a3c24959] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 18:58:46.999 [main] DEBUG [4b133577a3c24959] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 18:58:47.002 [main] DEBUG [4b133577a3c24959] org.hibernate.SQL - select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.id=?
2025-11-10 18:58:47.005 [main] DEBUG [4b133577a3c24959] org.hibernate.SQL - select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0 where p1_0.id=?
2025-11-10 18:58:47.013 [main] DEBUG [4b133577a3c24959] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 18:58:47.029 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:58:47.029 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:58:47.029 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:58:47.029 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:58:47.029 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:58:47.029 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:58:47.029 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:58:47.029 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-11-10 18:58:47.029 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-11-10 18:58:47.029 [main] INFO  [] o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2025-11-10 18:58:47.100 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Starting PedidoControllerIT using Java 17.0.16 with PID 27496 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 18:58:47.100 [main] DEBUG [] c.d.d.controller.PedidoControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 18:58:47.100 [main] INFO  [] c.d.d.controller.PedidoControllerIT - The following 1 profile is active: "test"
2025-11-10 18:58:47.542 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:58:47.542 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 18:58:47.573 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 24 ms. Found 5 JPA repository interfaces.
2025-11-10 18:58:47.573 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 18:58:47.573 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 18:58:47.583 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:58:47.583 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:58:47.583 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:58:47.583 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:58:47.583 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 18:58:47.583 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2025-11-10 18:58:47.736 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 18:58:47.738 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-11-10 18:58:47.740 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection conn40: url=jdbc:h2:mem:testdb user=SA
2025-11-10 18:58:47.740 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-11-10 18:58:47.740 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 18:58:47.826 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:58:47.826 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:58:47.826 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:58:47.826 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:58:47.826 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:58:47.826 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:58:47.826 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 18:58:47.826 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 18:58:47.826 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 18:58:47.826 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 18:58:47.826 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 18:58:47.826 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 18:58:47.826 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 18:58:47.826 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 18:58:47.826 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 18:58:47.826 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 18:58:47.844 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 18:58:47.870 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:58:48.146 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 18:58:48.146 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 18:58:48.177 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 18:58:48.528 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 18:58:48.542 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 18:58:48.542 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 18:58:48.542 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 18:58:48.542 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2025-11-10 18:58:48.573 [main] INFO  [] c.d.d.controller.PedidoControllerIT - Started PedidoControllerIT in 1.544 seconds (process running for 30.63)
2025-11-10 18:58:48.573 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 18:58:48.573 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:58:48.573 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:58:48.573 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 18:58:48.573 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:58:48.573 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:58:48.589 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 18:58:48.589 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 18:58:48.589 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 18:58:48.589 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 18:58:48.589 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 18:58:48.607 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 18:58:48.610 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 18:58:48.618 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:58:48.620 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:48.620 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:58:48.620 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:48.620 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:58:48.620 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:48.620 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 18:58:48.630 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:48.632 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 18:58:48.635 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:48.635 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:48.636 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:58:48.637 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:48.637 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:48.638 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:48.638 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:58:48.638 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:48.638 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:48.638 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 18:58:48.638 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 18:58:48.638 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:48.638 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:48.638 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 18:58:48.638 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:58:48.648 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:48.649 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:48.649 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:48.649 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:48.649 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:48.649 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:48.649 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:48.650 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:48.650 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 18:58:48.652 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:58:48.653 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:48.654 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:48.654 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:48.654 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:48.654 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:48.654 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:48.654 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:48.654 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:48.654 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 18:58:48.654 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 18:58:48.654 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:48.663 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:48.663 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:48.663 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:48.663 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 18:58:48.665 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 18:58:48.665 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:58:48.665 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 18:58:48.665 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 18:58:48.681 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 18:58:48.681 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 18:58:48.681 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/pedidos
2025-11-10 18:58:48.681 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/pedidos
2025-11-10 18:58:48.681 [main] WARN  [79a7d561115049e2] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 18:58:48.723 [main] DEBUG [79a7d561115049e2] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 18:58:48.726 [main] DEBUG [79a7d561115049e2] org.hibernate.SQL - select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.id=?
2025-11-10 18:58:48.728 [main] DEBUG [79a7d561115049e2] org.hibernate.SQL - select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0 where p1_0.id=?
2025-11-10 18:58:48.732 [main] DEBUG [79a7d561115049e2] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Pedido */insert into pedido (cep,cliente_id,data_pedido,endereco_entrega,forma_pagamento,observacoes,restaurante_id,status,subtotal,taxa_entrega,valor_total,id) values (?,?,?,?,?,?,?,?,?,?,?,default)
2025-11-10 18:58:48.737 [main] DEBUG [79a7d561115049e2] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.ItemPedido */insert into item_pedido (observacoes,pedido_id,preco_unitario,produto_id,quantidade,subtotal,id) values (?,?,?,?,?,?,default)
2025-11-10 18:58:48.739 [main] DEBUG [79a7d561115049e2] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.ItemPedido */insert into item_pedido (observacoes,pedido_id,preco_unitario,produto_id,quantidade,subtotal,id) values (?,?,?,?,?,?,default)
2025-11-10 18:58:48.752 [main] DEBUG [79a7d561115049e2] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 18:58:48.764 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 18:58:48.764 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 18:58:48.764 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 18:58:48.764 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 18:58:48.764 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 18:58:48.764 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 18:58:48.764 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 18:58:48.764 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-11-10 18:58:48.764 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-11-10 19:05:07.424 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Starting ClienteControllerIT using Java 17.0.16 with PID 8076 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 19:05:07.424 [main] DEBUG [] c.d.d.controller.ClienteControllerIT - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 19:05:07.424 [main] INFO  [] c.d.d.controller.ClienteControllerIT - The following 1 profile is active: "test"
2025-11-10 19:05:11.122 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 19:05:11.124 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 19:05:11.545 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 396 ms. Found 5 JPA repository interfaces.
2025-11-10 19:05:11.580 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 19:05:11.594 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 19:05:11.640 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 19:05:11.642 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 19:05:11.643 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 19:05:11.644 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 19:05:11.645 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 19:05:11.645 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2025-11-10 19:05:16.340 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 19:05:16.479 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 19:05:17.511 [main] INFO  [] com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-10 19:05:17.520 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-10 19:05:17.632 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 19:05:20.983 [main] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 19:05:20.999 [main] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 19:05:21.003 [main] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 19:05:21.003 [main] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 19:05:21.003 [main] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 19:05:21.003 [main] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 19:05:21.015 [main] DEBUG [] org.hibernate.SQL - create table cliente (ativo boolean not null, data_criacao timestamp(6), id bigint generated by default as identity, email varchar(255) not null unique, endereco varchar(255), nome varchar(255) not null, telefone varchar(255) not null, primary key (id))
2025-11-10 19:05:21.052 [main] DEBUG [] org.hibernate.SQL - create table item_pedido (preco_unitario numeric(38,2) not null, quantidade integer not null, subtotal numeric(38,2) not null, id bigint generated by default as identity, pedido_id bigint not null, produto_id bigint not null, observacoes varchar(255), primary key (id))
2025-11-10 19:05:21.056 [main] DEBUG [] org.hibernate.SQL - create table pedido (subtotal numeric(38,2), taxa_entrega numeric(38,2), valor_total numeric(38,2), cliente_id bigint, data_pedido timestamp(6), id bigint generated by default as identity, restaurante_id bigint, cep varchar(255), endereco_entrega varchar(255), forma_pagamento varchar(255), observacoes varchar(255), status enum ('CANCELADO','CONFIRMADO','ENTREGUE','PENDENTE','PREPARANDO','SAIU_PARA_ENTREGA'), primary key (id))
2025-11-10 19:05:21.062 [main] DEBUG [] org.hibernate.SQL - create table produto (disponivel boolean not null, preco numeric(38,2), id bigint generated by default as identity, restaurante_id bigint not null, categoria varchar(255), descricao varchar(255), imagem_url varchar(255), nome varchar(255), primary key (id))
2025-11-10 19:05:21.062 [main] DEBUG [] org.hibernate.SQL - create table restaurante (ativo boolean not null, avaliacao numeric(38,2), taxa_entrega numeric(38,2), tempo_entrega integer, id bigint generated by default as identity, categoria varchar(255), endereco varchar(255), horario_funcionamento varchar(255), nome varchar(255), telefone varchar(255), primary key (id))
2025-11-10 19:05:21.066 [main] DEBUG [] org.hibernate.SQL - create table usuario (ativo boolean not null, data_criacao timestamp(6) not null, id bigint generated by default as identity, restaurante_id bigint, email varchar(255) not null unique, nome varchar(255) not null, senha varchar(255) not null, role enum ('ADMIN','CLIENTE','ENTREGADOR','RESTAURANTE') not null, primary key (id))
2025-11-10 19:05:21.070 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FK60ym08cfoysa17wrn1swyiuda foreign key (pedido_id) references pedido
2025-11-10 19:05:21.114 [main] DEBUG [] org.hibernate.SQL - alter table if exists item_pedido add constraint FKtk55mn6d6bvl5h0no5uagi3sf foreign key (produto_id) references produto
2025-11-10 19:05:21.131 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK30s8j2ktpay6of18lbyqn3632 foreign key (cliente_id) references cliente
2025-11-10 19:05:21.135 [main] DEBUG [] org.hibernate.SQL - alter table if exists pedido add constraint FK3eud5cqmgsnltyk704hu3qj71 foreign key (restaurante_id) references restaurante
2025-11-10 19:05:21.135 [main] DEBUG [] org.hibernate.SQL - alter table if exists produto add constraint FKb9jhjyghjcn25guim7q4pt8qx foreign key (restaurante_id) references restaurante
2025-11-10 19:05:21.151 [main] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 19:05:22.024 [main] INFO  [] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-10 19:05:25.137 [main] WARN  [] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Found 2 UserDetailsService beans, with names [authService, usuarioDetailsServiceImpl]. Global Authentication Manager will not use a UserDetailsService for username/password login. Consider publishing a single UserDetailsService bean.
2025-11-10 19:05:25.137 [main] DEBUG [] o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-10 19:05:25.510 [main] DEBUG [] o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-10 19:05:28.292 [main] INFO  [] o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoints beneath base path '/actuator'
2025-11-10 19:05:28.501 [main] DEBUG [] c.d.d.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-10 19:05:28.507 [main] INFO  [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-11-10 19:05:28.507 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-11-10 19:05:28.507 [main] INFO  [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2025-11-10 19:05:28.669 [main] INFO  [] c.d.d.controller.ClienteControllerIT - Started ClienteControllerIT in 22.654 seconds (process running for 25.803)
2025-11-10 19:05:28.961 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Cliente x */ select count(*) from cliente c1_0
2025-11-10 19:05:29.097 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 19:05:29.151 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 19:05:29.155 [main] DEBUG [] org.hibernate.SQL - /* select count(*) from Restaurante x */ select count(*) from restaurante r1_0
2025-11-10 19:05:29.158 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 19:05:29.161 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 19:05:29.267 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.email=?
2025-11-10 19:05:29.314 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.ativo
2025-11-10 19:05:29.317 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where upper(c1_0.nome) like upper(?) escape '\'
2025-11-10 19:05:29.330 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 19:05:29.347 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.ativo
2025-11-10 19:05:29.356 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.categoria=?
2025-11-10 19:05:29.363 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0 where r1_0.taxa_entrega<=?
2025-11-10 19:05:29.437 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 19:05:29.446 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 19:05:29.461 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 19:05:29.481 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 19:05:29.483 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 19:05:29.485 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 19:05:29.485 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 19:05:29.485 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 19:05:29.485 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 19:05:29.492 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 19:05:29.506 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 19:05:29.506 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 19:05:29.512 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 19:05:29.516 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 19:05:29.518 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 19:05:29.520 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 19:05:29.520 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 19:05:29.520 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 19:05:29.520 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 19:05:29.524 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 19:05:29.524 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 19:05:29.524 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 19:05:29.530 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 19:05:29.533 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 19:05:29.729 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/clientes
2025-11-10 19:05:29.763 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/clientes
2025-11-10 19:05:29.763 [main] WARN  [c9bf57eaab054c94] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 19:05:29.946 [main] DEBUG [c9bf57eaab054c94] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 19:05:29.952 [main] DEBUG [c9bf57eaab054c94] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 19:05:29.952 [main] DEBUG [c9bf57eaab054c94] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 19:05:29.957 [main] DEBUG [c9bf57eaab054c94] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 19:05:29.957 [main] DEBUG [c9bf57eaab054c94] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 19:05:29.957 [main] DEBUG [c9bf57eaab054c94] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 19:05:29.960 [main] DEBUG [c9bf57eaab054c94] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 19:05:29.960 [main] DEBUG [c9bf57eaab054c94] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 19:05:29.960 [main] DEBUG [c9bf57eaab054c94] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 19:05:29.960 [main] DEBUG [c9bf57eaab054c94] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 19:05:29.962 [main] DEBUG [c9bf57eaab054c94] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 19:05:29.962 [main] DEBUG [c9bf57eaab054c94] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 19:05:29.962 [main] DEBUG [c9bf57eaab054c94] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 19:05:29.962 [main] DEBUG [c9bf57eaab054c94] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 19:05:29.962 [main] DEBUG [c9bf57eaab054c94] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 19:05:29.962 [main] DEBUG [c9bf57eaab054c94] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 19:05:29.962 [main] DEBUG [c9bf57eaab054c94] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 19:05:29.962 [main] DEBUG [c9bf57eaab054c94] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 19:05:29.962 [main] DEBUG [c9bf57eaab054c94] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 19:05:29.962 [main] DEBUG [c9bf57eaab054c94] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 19:05:29.962 [main] DEBUG [c9bf57eaab054c94] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 19:05:29.962 [main] DEBUG [c9bf57eaab054c94] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 19:05:29.962 [main] DEBUG [c9bf57eaab054c94] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 19:05:29.962 [main] DEBUG [c9bf57eaab054c94] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 19:05:29.962 [main] DEBUG [c9bf57eaab054c94] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 19:05:29.962 [main] DEBUG [c9bf57eaab054c94] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 19:05:29.962 [main] DEBUG [c9bf57eaab054c94] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 19:05:29.962 [main] DEBUG [c9bf57eaab054c94] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 19:05:29.977 [main] DEBUG [c9bf57eaab054c94] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 19:05:30.040 [main] DEBUG [c9bf57eaab054c94] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 19:05:30.085 [main] DEBUG [c9bf57eaab054c94] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 19:05:30.263 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 19:05:30.270 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 19:05:30.274 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 19:05:30.278 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 19:05:30.280 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 19:05:30.282 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 19:05:30.284 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 19:05:30.285 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 19:05:30.286 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 19:05:30.291 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 19:05:30.295 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 19:05:30.295 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 19:05:30.295 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 19:05:30.306 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 19:05:30.309 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 19:05:30.311 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 19:05:30.311 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 19:05:30.311 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 19:05:30.311 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 19:05:30.311 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 19:05:30.311 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 19:05:30.311 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 19:05:30.311 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 19:05:30.324 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 19:05:30.332 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 19:05:30.332 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 19:05:30.332 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 19:05:30.332 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 19:05:30.332 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 19:05:30.340 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 19:05:30.340 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 19:05:30.342 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 19:05:30.344 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 19:05:30.344 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 19:05:30.344 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 19:05:30.346 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 19:05:30.346 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 19:05:30.346 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 19:05:30.348 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 19:05:30.348 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 19:05:30.348 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 19:05:30.348 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 19:05:30.348 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 19:05:30.348 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 19:05:30.348 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 19:05:30.348 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 19:05:30.348 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 19:05:30.348 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 19:05:30.356 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 19:05:30.356 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 19:05:30.358 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 19:05:30.359 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 19:05:30.361 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 19:05:30.366 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/clientes/8
2025-11-10 19:05:30.367 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/clientes/8
2025-11-10 19:05:30.368 [main] WARN  [fef6bdf8f95344b2] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 19:05:30.385 [main] DEBUG [fef6bdf8f95344b2] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 19:05:30.406 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 19:05:30.413 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 19:05:30.416 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 19:05:30.419 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 19:05:30.422 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 19:05:30.424 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 19:05:30.430 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 19:05:30.432 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 19:05:30.432 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 19:05:30.432 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 19:05:30.445 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 19:05:30.448 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 19:05:30.448 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 19:05:30.448 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 19:05:30.448 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 19:05:30.448 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 19:05:30.448 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 19:05:30.448 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 19:05:30.448 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 19:05:30.448 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 19:05:30.448 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 19:05:30.448 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 19:05:30.462 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 19:05:30.465 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 19:05:30.473 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 19:05:30.473 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 19:05:30.473 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 19:05:30.478 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 19:05:30.479 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 19:05:30.480 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 19:05:30.483 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 19:05:30.484 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 19:05:30.486 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 19:05:30.486 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 19:05:30.486 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 19:05:30.486 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 19:05:30.486 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 19:05:30.486 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 19:05:30.486 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 19:05:30.486 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 19:05:30.486 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 19:05:30.486 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 19:05:30.486 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 19:05:30.486 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 19:05:30.486 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 19:05:30.486 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 19:05:30.486 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 19:05:30.486 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 19:05:30.486 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 19:05:30.486 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 19:05:30.486 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 19:05:30.486 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 19:05:30.486 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 19:05:30.498 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing PUT /api/clientes/9
2025-11-10 19:05:30.501 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured PUT /api/clientes/9
2025-11-10 19:05:30.502 [main] WARN  [a5026a8d78734c1f] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 19:05:30.502 [main] DEBUG [a5026a8d78734c1f] org.hibernate.SQL - /* <criteria> */ select c1_0.id from cliente c1_0 where c1_0.email=? fetch first ? rows only
2025-11-10 19:05:30.517 [main] DEBUG [a5026a8d78734c1f] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 19:05:30.541 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 19:05:30.542 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 19:05:30.548 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 19:05:30.552 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 19:05:30.554 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 19:05:30.556 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 19:05:30.556 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 19:05:30.560 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 19:05:30.562 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 19:05:30.566 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 19:05:30.571 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 19:05:30.571 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 19:05:30.579 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 19:05:30.581 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 19:05:30.581 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 19:05:30.581 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 19:05:30.581 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 19:05:30.586 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 19:05:30.586 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 19:05:30.586 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 19:05:30.586 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 19:05:30.586 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 19:05:30.592 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 19:05:30.595 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 19:05:30.597 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 19:05:30.597 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 19:05:30.597 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 19:05:30.597 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 19:05:30.597 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 19:05:30.597 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 19:05:30.597 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 19:05:30.597 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 19:05:30.597 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 19:05:30.597 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.ItemPedido */delete from item_pedido where id=?
2025-11-10 19:05:30.597 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Pedido */delete from pedido where id=?
2025-11-10 19:05:30.597 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 19:05:30.597 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 19:05:30.597 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Cliente */delete from cliente where id=?
2025-11-10 19:05:30.612 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 19:05:30.613 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 19:05:30.614 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 19:05:30.614 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 19:05:30.614 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 19:05:30.615 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 19:05:30.615 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 19:05:30.615 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 19:05:30.616 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Produto */delete from produto where id=?
2025-11-10 19:05:30.618 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 19:05:30.619 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 19:05:30.619 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 19:05:30.620 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 19:05:30.620 [main] DEBUG [] org.hibernate.SQL - /* delete for com.deliverytech.delivery_api.model.Restaurante */delete from restaurante where id=?
2025-11-10 19:05:30.622 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 19:05:30.627 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing GET /api/clientes/110
2025-11-10 19:05:30.629 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured GET /api/clientes/110
2025-11-10 19:05:30.630 [main] WARN  [fbc5a586ac144fdf] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 19:05:30.636 [main] DEBUG [fbc5a586ac144fdf] org.hibernate.SQL - select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0 where c1_0.id=?
2025-11-10 19:05:30.649 [main] DEBUG [fbc5a586ac144fdf] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 19:05:30.673 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone from cliente c1_0
2025-11-10 19:05:30.681 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 19:05:30.685 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 19:05:30.687 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 19:05:30.690 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 19:05:30.692 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 19:05:30.694 [main] DEBUG [] org.hibernate.SQL - select i1_0.pedido_id,i1_0.id,i1_0.observacoes,i1_0.preco_unitario,i1_0.produto_id,i1_0.quantidade,i1_0.subtotal from item_pedido i1_0 where i1_0.pedido_id=?
2025-11-10 19:05:30.697 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 19:05:30.700 [main] DEBUG [] org.hibernate.SQL - select p1_0.cliente_id,p1_0.id,p1_0.cep,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join restaurante r1_0 on r1_0.id=p1_0.restaurante_id where p1_0.cliente_id=?
2025-11-10 19:05:30.704 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco,p1_0.restaurante_id from produto p1_0
2025-11-10 19:05:30.710 [main] DEBUG [] org.hibernate.SQL - /* <criteria> */ select r1_0.id,r1_0.ativo,r1_0.avaliacao,r1_0.categoria,r1_0.endereco,r1_0.horario_funcionamento,r1_0.nome,r1_0.taxa_entrega,r1_0.telefone,r1_0.tempo_entrega from restaurante r1_0
2025-11-10 19:05:30.712 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 19:05:30.714 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 19:05:30.717 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 19:05:30.718 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 19:05:30.719 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 19:05:30.720 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 19:05:30.720 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 19:05:30.720 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 19:05:30.723 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.cep,c1_0.id,c1_0.ativo,c1_0.data_criacao,c1_0.email,c1_0.endereco,c1_0.nome,c1_0.telefone,p1_0.data_pedido,p1_0.endereco_entrega,p1_0.forma_pagamento,p1_0.observacoes,p1_0.status,p1_0.subtotal,p1_0.taxa_entrega,p1_0.valor_total from pedido p1_0 left join cliente c1_0 on c1_0.id=p1_0.cliente_id where p1_0.restaurante_id=?
2025-11-10 19:05:30.723 [main] DEBUG [] org.hibernate.SQL - select p1_0.restaurante_id,p1_0.id,p1_0.categoria,p1_0.descricao,p1_0.disponivel,p1_0.imagem_url,p1_0.nome,p1_0.preco from produto p1_0 where p1_0.restaurante_id=?
2025-11-10 19:05:30.723 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Cliente */insert into cliente (ativo,data_criacao,email,endereco,nome,telefone,id) values (?,?,?,?,?,?,default)
2025-11-10 19:05:30.723 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Restaurante */insert into restaurante (ativo,avaliacao,categoria,endereco,horario_funcionamento,nome,taxa_entrega,telefone,tempo_entrega,id) values (?,?,?,?,?,?,?,?,?,default)
2025-11-10 19:05:30.729 [main] DEBUG [] org.hibernate.SQL - /* insert for com.deliverytech.delivery_api.model.Produto */insert into produto (categoria,descricao,disponivel,imagem_url,nome,preco,restaurante_id,id) values (?,?,?,?,?,?,?,default)
2025-11-10 19:05:30.730 [main] DEBUG [] o.s.security.web.FilterChainProxy - Securing POST /api/clientes
2025-11-10 19:05:30.730 [main] DEBUG [] o.s.security.web.FilterChainProxy - Secured POST /api/clientes
2025-11-10 19:05:30.730 [main] WARN  [9a3d27e76aaa453c] c.d.d.s.JwtAuthenticationFilter - JWT Token no comea com 'Bearer '
2025-11-10 19:05:30.747 [main] DEBUG [9a3d27e76aaa453c] o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-10 19:05:31.424 [SpringApplicationShutdownHook] INFO  [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-10 19:05:31.427 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists cliente cascade 
2025-11-10 19:05:31.427 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists item_pedido cascade 
2025-11-10 19:05:31.430 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists pedido cascade 
2025-11-10 19:05:31.430 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists produto cascade 
2025-11-10 19:05:31.430 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists restaurante cascade 
2025-11-10 19:05:31.432 [SpringApplicationShutdownHook] DEBUG [] org.hibernate.SQL - drop table if exists usuario cascade 
2025-11-10 19:05:31.434 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-10 19:05:31.436 [SpringApplicationShutdownHook] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-10 19:10:48.498 [main] INFO  [] c.d.d.DeliveryApiApplicationTests - Starting DeliveryApiApplicationTests using Java 17.0.16 with PID 20636 (started by lidia in C:\Users\lidia\OneDrive\Documentos\Curso Arquitetura de Sistemas\deliverytech\delivery-api)
2025-11-10 19:10:48.502 [main] DEBUG [] c.d.d.DeliveryApiApplicationTests - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-11-10 19:10:48.504 [main] INFO  [] c.d.d.DeliveryApiApplicationTests - No active profile set, falling back to 1 default profile: "default"
2025-11-10 19:10:48.602 [main] DEBUG [] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1bb96449
2025-11-10 19:10:51.730 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 19:10:51.733 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-10 19:10:52.063 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 308 ms. Found 5 JPA repository interfaces.
2025-11-10 19:10:52.095 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-10 19:10:52.099 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-10 19:10:52.143 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ClienteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 19:10:52.144 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.PedidoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 19:10:52.145 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.ProdutoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 19:10:52.145 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.RestauranteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 19:10:52.145 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.deliverytech.delivery_api.repository.UsuarioRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-10 19:10:52.146 [main] INFO  [] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2025-11-10 19:10:54.309 [main] INFO  [] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-10 19:10:54.393 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 19:10:54.424 [main] WARN  [] o.h.e.j.e.i.JdbcEnvironmentInitiator - HHH000342: Could not obtain connection to query metadata
java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, ${SPRING_DATASOURCE_URL}
	at com.zaxxer.hikari.util.DriverDataSource.<init>(DriverDataSource.java:116)
	at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:333)
	at com.zaxxer.hikari.pool.PoolBase.<init>(PoolBase.java:118)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:90)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:126)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:485)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:61)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:334)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:129)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:81)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:226)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:194)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:171)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1442)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1513)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2025-11-10 19:10:54.491 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-10 19:10:54.493 [main] WARN  [] org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-11-10 19:10:57.041 [main] INFO  [] com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-10 19:10:57.050 [main] ERROR [] o.s.o.j.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, ${SPRING_DATASOURCE_URL}
2025-11-10 19:10:57.051 [main] WARN  [] o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, ${SPRING_DATASOURCE_URL}
2025-11-10 19:10:57.100 [main] INFO  [] o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-10 19:10:57.157 [main] ERROR [] o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, ${SPRING_DATASOURCE_URL}
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, ${SPRING_DATASOURCE_URL}
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:431)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 100 common frames omitted
Caused by: java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, ${SPRING_DATASOURCE_URL}
	at com.zaxxer.hikari.util.DriverDataSource.<init>(DriverDataSource.java:116)
	at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:333)
	at com.zaxxer.hikari.pool.PoolBase.<init>(PoolBase.java:118)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:90)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:126)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:485)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:39)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:70)
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.processTableResultSet(InformationExtractorJdbcDatabaseMetaDataImpl.java:65)
	at org.hibernate.tool.schema.extract.internal.AbstractInformationExtractorImpl.getTables(AbstractInformationExtractorImpl.java:570)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:122)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:72)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:233)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	... 104 common frames omitted
2025-11-10 19:10:57.172 [main] WARN  [] o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.deliverytech.delivery_api.DeliveryApiApplicationTests@424159f]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@71e393a2 testClass = com.deliverytech.delivery_api.DeliveryApiApplicationTests, locations = [], classes = [com.deliverytech.delivery_api.DeliveryApiApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2bcec6a6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4abf3f0, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@79ab34c1, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@1dcca8d3, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@19569ebd, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@2bac9ba, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@8738f13f], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, ${SPRING_DATASOURCE_URL}
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 80 common frames omitted
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, ${SPRING_DATASOURCE_URL}
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:431)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 100 common frames omitted
Caused by: java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, ${SPRING_DATASOURCE_URL}
	at com.zaxxer.hikari.util.DriverDataSource.<init>(DriverDataSource.java:116)
	at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:333)
	at com.zaxxer.hikari.pool.PoolBase.<init>(PoolBase.java:118)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:90)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:126)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:485)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:39)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:70)
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.processTableResultSet(InformationExtractorJdbcDatabaseMetaDataImpl.java:65)
	at org.hibernate.tool.schema.extract.internal.AbstractInformationExtractorImpl.getTables(AbstractInformationExtractorImpl.java:570)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:122)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:72)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:233)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	... 104 common frames omitted
